"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[592],{6051:(F,b,v)=>{v.d(b,{g:()=>I,j:()=>E});const I=[{key:"tuGia",label:"T\u1ea1i T\u01b0 gia",disabled:!1}],E=[{key:"cungTuThoi",label:"C\xfang T\u1ee9 Th\u1eddi",disabled:!1}]},7154:(F,b,v)=>{v.d(b,{o:()=>O});var I=v(9751),E=v(4650),W=v(529),K=v(5930);let O=(()=>{class L{constructor(M,c){this.http=M,this.commonService=c,this.commonTimes=[],this.commonLocationTypes=[],this.calendarViewMode="month"}getConvertedFullDate(M){let c=null;c=M||new Date((new Date).setMonth((new Date).getMonth()+1));const o=Math.PI,s=i=>Math.floor(i),u=i=>{let e,n,t,l=new Date;return M&&(l=M),n=[{key:"canh",name:"Canh"},{key:"tan",name:"T\xe2n"},{key:"nham",name:"Nh\xe2m"},{key:"quy",name:"Qu\xfd"},{key:"giap",name:"Gi\xe1p"},{key:"at",name:"\u1ea4y"},{key:"binh",name:"B\xednh"},{key:"dinh",name:"\u0110inh"},{key:"mau",name:"M\u1eadu"},{key:"ky",name:"K\u1ef7"}][i%10],t=[{key:"than",name:"Th\xe2n"},{key:"dau",name:"D\u1eadu"},{key:"tuat",name:"Tu\u1ea5t"},{key:"hoi",name:"H\u1ee3i"},{key:"ti",name:"T\xed"},{key:"suu",name:"S\u1eedu"},{key:"dan",name:"D\u1ea7n"},{key:"mao",name:"M\xe3o"},{key:"thin",name:"Th\xecn"},{key:"ty",name:"T\u1ef5"},{key:"ngo",name:"Ng\u1ecd"},{key:"mui",name:"M\xf9i"}][i%12],e={key:`${n.key}-${t.key}`,name:`${n.name} ${t.name}`},e},f=(i,l,e)=>{let n,t,a,r;return n=s((14-l)/12),t=e+4800-n,a=l+12*n-3,r=i+s((153*a+2)/5)+365*t+s(t/4)-s(t/100)+s(t/400)-32045,r<2299161&&(r=i+s((153*a+2)/5)+365*t+s(t/4)-32083),r},y=i=>{let l,e,n,t,a,r,d,g,h;return i>2299160?(l=i+32044,e=s((4*l+3)/146097),n=l-s(146097*e/4)):(e=0,n=i+32082),t=s((4*n+3)/1461),a=n-s(1461*t/4),r=s((5*a+2)/153),d=a-s((153*r+2)/5)+1,g=r+3-12*s(r/10),h=100*e+t-4800+s(r/10),new Array(d,g,h)},w=(i,l)=>s((i=>{let l,e,n,t,a,r,d;return l=(i-2451545)/36525,e=l*l,n=o/180,t=357.5291+35999.0503*l-1559e-7*e-48e-8*l*e,a=280.46645+36000.76983*l+3032e-7*e,r=(1.9146-.004817*l-14e-6*e)*Math.sin(n*t),r=r+(.019993-101e-6*l)*Math.sin(2*n*t)+29e-5*Math.sin(3*n*t),d=a+r,d*=n,d-=2*o*s(d/(2*o)),d})(i-.5-l/24)/o*6),m=(i,l)=>s((i=>{let l,e,n,t,a,r,d,g,h,S,T;return l=i/1236.85,e=l*l,n=e*l,t=o/180,a=2415020.75933+29.53058868*i+1178e-7*e-155e-9*n,a+=33e-5*Math.sin((166.56+132.87*l-.009173*e)*t),r=359.2242+29.10535608*i-333e-7*e-347e-8*n,d=306.0253+385.81691806*i+.0107306*e+1236e-8*n,g=21.2964+390.67050646*i-.0016528*e-239e-8*n,h=(.1734-393e-6*l)*Math.sin(r*t)+.0021*Math.sin(2*t*r),h=h-.4068*Math.sin(d*t)+.0161*Math.sin(2*t*d),h-=4e-4*Math.sin(3*t*d),h=h+.0104*Math.sin(2*t*g)-.0051*Math.sin(t*(r+d)),h=h-.0074*Math.sin(t*(r-d))+4e-4*Math.sin(t*(2*g+r)),h=h-4e-4*Math.sin(t*(2*g-r))-6e-4*Math.sin(t*(2*g+d)),h=h+.001*Math.sin(t*(2*g-d))+5e-4*Math.sin(t*(2*d+r)),S=l<-11?.001+839e-6*l+2261e-7*e-845e-8*n-81e-9*l*n:265e-6*l-278e-6+262e-6*e,T=a+h-S,T})(i)+.5+l/24),C=(i,l)=>{let e,n,t,a;return n=f(31,12,i)-2415021,e=s(n/29.530588853),t=m(e,l),a=w(t,l),a>=9&&(t=m(e-1,l)),t},N=(i,l)=>{let e,n,t,a;e=s((i-2415021.076998695)/29.530588853+.5),n=0,a=1,t=w(m(e+a,l),l);do{n=t,a++,t=w(m(e+a,l),l)}while(t!=n&&a<14);return a-1};let P={convertSolar2Lunar:{lunarDay:0,lunarMonth:0,lunarYear:0,lunarYearName:"",lunarLeap:0},convertLunar2Solar:y(-1)};return Date.parse(c)?P.convertSolar2Lunar=((i,l,e,n)=>{let t,a,r,d,g,h,S,T,$;a=f(i,l,e),t=s((a-2415021.076998695)/29.530588853),r=m(t+1,n),r>a&&(r=m(t,n)),d=C(e,n),g=d,d>=r?(T=e,d=C(e-1,n)):(T=e+1,g=C(e+1,n)),h=a-r+1;let A=s((r-d)/29);if($=0,S=A+11,g-d>365){let H=N(d,n);A>=H&&(S=A+10,A==H&&($=1))}return S>12&&(S-=12),S>=11&&A<4&&(T-=1),{lunarDay:h,lunarMonth:S,lunarYear:T,lunarYearName:u(T).name,lunarLeap:$}})(c.getDate()||(new Date).getDate(),c.getMonth()+1||(new Date).getMonth(),c.getFullYear()||(new Date).getFullYear(),"+7"):P.convertLunar2Solar=(i=c.lunarDay,e=c.lunarYear,t="+7",(l=c.lunarMonth)<11?(r=C(e-1,t),d=C(e,t)):(r=C(e,t),d=C(e+1,t)),a=s(.5+(r-2415021.076998695)/29.530588853),(g=l-11)<0&&(g+=12),d-r>365&&(h=N(r,t),g>=h&&(g+=1)),T=m(a+g,t),y(T+i-1)),P;var i,l,e,t,a,r,d,g,h,T}getSelectedMonthCalendar(M,c){let o=(new Date).getMonth()+1,s=(new Date).getFullYear(),u=[];M&&(o=M),c&&(s=c);for(let y=(y=>{var D=y.getDay()||7;return 1!==D&&y.setHours(-24*(D-1)),y})(new Date(`${s}-${o}-01`));y<=new Date(s,o-1,new Date(s,o,0).getDate()+(7-new Date(s,o,0).getDay()));y.setDate(y.getDate()+1))u.push({solar:new Date(y),lunar:this.getConvertedFullDate(y)});return console.log(u),u}getTuanCuuEvents(M){let c=[];const s=M;return Array.from({length:9},(u,f)=>{switch(++f){case 1:{const y=new Date(s.setDate(s.getDate()+8));c.push({solar:y,lunar:this.getConvertedFullDate(y).convertSolar2Lunar,eventName:"Khai C\u1eedu"});break}default:{const y=new Date(s.setDate(s.getDate()+9));c.push({solar:y,lunar:this.getConvertedFullDate(y).convertSolar2Lunar,eventName:f<9?`\u0110\u1ec7 ${this.commonService.convertNumberToText(f).lunar} C\u1eedu`:"Chung C\u1eedu"});break}}}),new I.y(u=>{u.next(c)})}}return L.\u0275fac=function(M){return new(M||L)(E.LFG(W.eN),E.LFG(K.v))},L.\u0275prov=E.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},5484:(F,b,v)=>{v.d(b,{T:()=>K,TB:()=>W});var I=v(4650),E=v(529);let W=(()=>{class k{constructor(c){this.http=c}getJSON(c){return this.http.get(`assets/documents/${c}.json`)}onChangeContent(c){this.renderedDocumentContent=void 0;let o=[],s=[],u="",f="",y="",D="",p=[],w=0;const m=e=>{e?.childNodes?.forEach((t,a)=>{"#comment"!==t?.nodeName&&("CP-CONTENT-EDITOR"===t?.nodeName&&(u=t?.parentNode?.id,m(t)),"P"===t?.nodeName&&(f=`${u}-${a}`,_(t)),"SPAN"===t?.nodeName&&x(t),"#text"===t?.nodeName&&P(t),"DIV"===t?.nodeName&&t?.classList?.contains("targetContent")&&N(t,a),"DIV"===t?.nodeName&&t?.classList?.contains("sourceContent")&&(C(t),y="",w=[...new Set(t?.parentNode?.childNodes)].filter(r=>"#comment"!==r?.nodeName&&"DIV"!==r?.nodeName)?.length))})},C=e=>{m(e)},N=(e,n)=>{let t=e?.id?.split("_"),a=new O;a.key=`${t[0]}-${n}`,a.type="sourceCotnent",a.targetDocumentKey=t[0],a.targetContentKey=t[1],o.push(a),y=a.key,D=a.key,m(e)},_=e=>{let n=new O;n.key=f,n.type="paragraph",!Object.values(e?.style).every(a=>!a)&&(n.attrs=i(e)),e?.parentNode?.parentNode?.classList?.contains("targetContent")?s.push(n):y||D?o?.find(a=>a?.key===y)?.content?.push(n):o.push(n),m(e)},x=e=>{let n=o?.find(r=>r?.key===f),t=new O;t.type="text",t.text=e?.innerHTML,!Object.values(e?.style).every(r=>!r)&&(t.attrs=i(e)),y||D?(s?.find(r=>r?.key===f)&&p.push(f),o?.find(r=>r?.key===y)?.content?.find(r=>r?.key===f)?.content?.push(l(t)),s?.find(r=>r?.key===f)?.content?.push(l(t)),[...new Set(p)].length===w&&(D="")):n?.content?.push(l(t))},P=e=>{let n=o?.find(a=>a?.key===f),t=new O;t.type="text",t.text=e?.data,y||D?(s?.find(a=>a?.key===f)&&p.push(f),o?.find(a=>a?.key===y)?.content?.find(a=>a?.key===f)?.content?.push(l(t)),s?.find(a=>a?.key===f)?.content?.push(l(t)),[...new Set(p)].length===w&&(D="")):n?.content?.push(l(t))},i=e=>{let n=new L;return n.color=e?.style?.color,n.fontSize=e?.style?.fontSize,n.fontStyle=e?.style?.fontStyle,n.fontWeight=e?.style?.fontWeight,n.textDecoration=e?.style?.textDecoration,n.textIndent=e?.style?.textIndent,n.textAlign=e?.style?.textAlign,l(n)},l=e=>{for(let n in e){let t=e[n];(!t||0===t?.length)&&delete e[n]}return e};m(c?.target),this.renderedDocumentContent=o}onChangeStyle(c){if(window.getSelection){let o=null;o=window.getSelection();let s,u=o?.focusNode?.parentElement,f=window.getSelection()?.toString(),y="";u?.childNodes?.forEach(e=>{"#comment"!==e?.nodeName&&(y+="#text"===e?.nodeName?e?.data:e?.outerHTML)});let N,_,D=document.createElement("SPAN"),p=document.createElement("SPAN"),w=document.createElement("SPAN"),m=document.createElement("P"),C=`${f}`;f&&(N=`${y?.split(f)[0]}`,_=`${y?.split(f)[1]}`);const x=e=>{u?.style?.fontWeight&&(e.style.fontWeight=u?.style?.fontWeight),u?.style?.color&&(e.style.color=u?.style?.color),u?.style?.textIndent&&(e.style.textIndent=u?.style?.textIndent),u?.style?.textAlign&&(e.style.textAlign=u?.style?.textAlign),u?.style?.textDecoration&&(e.style.textDecoration=u?.style?.textDecoration),u?.style?.fontSize&&(e.style.fontSize=u?.style?.fontSize),u?.style?.fontStyle&&(e.style.fontStyle=u?.style?.fontStyle)};x(D),x(p),x(w),x(m);const P=e=>{Number(e?.style?.fontWeight)>400||"bold"===e?.style?.fontWeight||"bolder"===e?.style?.fontWeight?p.style.removeProperty("font-weight"):p.style.fontWeight="bold"},i=e=>{"italic"===e?.style?.fontStyle?p.style.removeProperty("font-style"):p.style.fontStyle="italic"},l=e=>{"underline"===e?.style?.textDecoration?p.style.removeProperty("text-decoration"):p.style.textDecoration="underline"};if(o?.rangeCount){switch(s=o.getRangeAt(0),c?.type){case"fontWeight":P(u);break;case"fontStyle":i(u);break;case"textDecoration":l(u)}let e="";N&&(/<\/?[a-z][\s\S]*>/i.test(N)?e+=D:(D.appendChild(document.createTextNode(N)),e+=D?.outerHTML)),C&&(/<\/?[a-z][\s\S]*>/i.test(C)?e+=p:(p.appendChild(document.createTextNode(C)),e+=p?.outerHTML)),_&&(/<\/?[a-z][\s\S]*>/i.test(_)?e+=_:(w.appendChild(document.createTextNode(_)),e+=w?.outerHTML)),m.innerHTML=e,u&&("SPAN"===u?.nodeName?u.outerHTML=e:"DIV"!==u?.nodeName&&(u.outerHTML=m.outerHTML))}}}onSaveDocument(c){return this.savedDocument=new K,this.savedDocument._id=c?._id,this.savedDocument.key=c?.key,this.savedDocument.content=this.renderedDocumentContent,this.savedDocument.formGroup=c?.formGroup,this.savedDocument.documentKey=c?.documentKey,this.savedDocument}generatedSlug(c){let o;return o=c?.toLowerCase(),o=o?.replace(/\xe1|\xe0|\u1ea3|\u1ea1|\xe3|\u0103|\u1eaf|\u1eb1|\u1eb3|\u1eb5|\u1eb7|\xe2|\u1ea5|\u1ea7|\u1ea9|\u1eab|\u1ead/gi,"a"),o=o?.replace(/\xe9|\xe8|\u1ebb|\u1ebd|\u1eb9|\xea|\u1ebf|\u1ec1|\u1ec3|\u1ec5|\u1ec7/gi,"e"),o=o?.replace(/i|\xed|\xec|\u1ec9|\u0129|\u1ecb/gi,"i"),o=o?.replace(/\xf3|\xf2|\u1ecf|\xf5|\u1ecd|\xf4|\u1ed1|\u1ed3|\u1ed5|\u1ed7|\u1ed9|\u01a1|\u1edb|\u1edd|\u1edf|\u1ee1|\u1ee3/gi,"o"),o=o?.replace(/\xfa|\xf9|\u1ee7|\u0169|\u1ee5|\u01b0|\u1ee9|\u1eeb|\u1eed|\u1eef|\u1ef1/gi,"u"),o=o?.replace(/\xfd|\u1ef3|\u1ef7|\u1ef9|\u1ef5/gi,"y"),o=o?.replace(/\u0111/gi,"d"),o=o?.replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,""),o=o?.replace(/ /gi,"-"),o=o?.replace(/\-\-\-\-\-/gi,"-"),o=o?.replace(/\-\-\-\-/gi,"-"),o=o?.replace(/\-\-\-/gi,"-"),o=o?.replace(/\-\-/gi,"-"),o="@"+o+"@",o=o?.replace(/\@\-|\-\@|\@/gi,""),o}}return k.\u0275fac=function(c){return new(c||k)(I.LFG(E.eN))},k.\u0275prov=I.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();class K{}class O{constructor(){this.content=[]}}class L{}}}]);