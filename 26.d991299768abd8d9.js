"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[26],{3026:(ce,V,c)=>{c.r(V),c.d(V,{CauSieuVoViModule:()=>nn});var d=c(6895),T=c(9299),e=c(4650),E=c(9751),oe=(c(8433),c(529));let Q=(()=>{class n{constructor(t){this.http=t}getCauSieuVoViList(){return new E.y(i=>{i.next(JSON.parse(localStorage.getItem("csvv")||"{data: []}"))})}getCauSieuVoViById(t){return JSON.parse(localStorage.getItem("csvv")||"{data: []}"),new E.y(a=>{a.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(l=>l.key===t)})})}addCauSieuVoVi(t,o){return localStorage.setItem("csvv",JSON.stringify(t)),new E.y(l=>{l.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(s=>s.key===o)})})}updateCauSieuVoVi(t,o){return localStorage.setItem("csvv",JSON.stringify(t)),new E.y(l=>{l.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(s=>s.key===o)})})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(oe.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=c(2289),D=c(4797),S=c(782),M=c(3546),p=c(3162),f=c(3238);function g(n,r){1&n&&e._UZ(0,"mat-progress-bar",5)}function b(n,r){if(1&n&&(e.TgZ(0,"mat-grid-tile",3)(1,"mat-card",6)(2,"mat-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.qZA()()()),2&n){const t=r.$implicit,o=e.oxw();e.Q6J("routerLink",null==t?null:t.key),e.xp6(3),e.Oqu(o.getCardDetails(t).title),e.xp6(2),e.hij("\u0110\xe3 ghi nh\u1eadn: ",o.getCardDetails(t).count," linh h\u1ed3n")}}let R=(()=>{class n{constructor(t,o,i,a){this.cauSieuVoViService=t,this.breakpointObserver=o,this.authService=i,this.router=a,this.cauSieuVoViList=[],this.cols=1,this.isLoading=!1}ngOnInit(){this.authService.currentUser?.role?.includes("administrator")?(this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(t=>{this.cols=t.matches?1:4}),this.getCauSieuVoViList()):this.router.navigate(["/tac-vu"])}getCauSieuVoViList(){this.isLoading=!0,this.cauSieuVoViService.getCauSieuVoViList().subscribe(t=>{console.log(t),t?.data?(this.cauSieuVoViList=t?.data,this.isLoading=!1):this.isLoading=!1},t=>{this.isLoading=!1,console.log(t)})}getCardDetails(t){const o=t?.formGroup?.find(m=>"thong-tin-chung"===m.key)?.control,i=o?.find(m=>"nam-am-lich"===m.key)?.value,a=o?.find(m=>"thang-am-lich"===m.key)?.value,l=o?.find(m=>"ngay-am-lich"===m.key)?.value,u=t?.formGroup?.find(m=>"thong-tin-cau-sieu"===m.key)?.control?.find(m=>"linh-hon"===m.key)?.value?.length;return{title:`C\u1ea7u si\xeau v\xe0o ng\xe0y ${l} th\xe1ng ${a} n\u0103m ${i}`,count:u}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(A.Yg),e.Y36(D.e),e.Y36(T.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cau-sieu-vo-vi-list"]],decls:5,vars:4,consts:[["mode","indeterminate",4,"ngIf"],["rowHeight","2:1",1,"w-100",3,"cols"],["class","csvv-item w-100",3,"routerLink",4,"ngFor","ngForOf"],[1,"csvv-item","w-100",3,"routerLink"],["appearance","outlined",1,"w-100","h-100"],["mode","indeterminate"],["appearance","outlined","matRipple","",1,"w-100","h-100"]],template:function(t,o){1&t&&(e.YNc(0,g,1,0,"mat-progress-bar",0),e.TgZ(1,"mat-grid-list",1),e.YNc(2,b,6,3,"mat-grid-tile",2),e.TgZ(3,"mat-grid-tile",3),e._UZ(4,"mat-card",4),e.qZA()()),2&t&&(e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("cols",o.cols),e.xp6(1),e.Q6J("ngForOf",o.cauSieuVoViList),e.xp6(1),e.Q6J("routerLink","them-moi"))},dependencies:[d.sg,d.O5,T.rH,S.Il,S.DX,M.a8,M.$j,M.n5,p.pW,f.wG],styles:[".csvv-item{cursor:pointer}  .csvv-item .mat-grid-tile-content{padding:1rem}"]}),n})();var k=c(5938),h=c(9549),O=c(4144),C=c(4006),Z=c(4859),P=c(7084),re=c(1948),I=c(7392),ue=c(4850);function me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"input",8),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG("prevText"===a.modifierAt?a.inputFormControl.prevText:"nextText"===a.modifierAt?a.inputFormControl.nextText:a.inputFormControl.value=i)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("type","text")("placeholder","prevText"===t.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===t.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==t.inputFormControl?null:t.inputFormControl.placeholder)("ngModel","prevText"===t.modifierAt?t.inputFormControl.prevText:"nextText"===t.modifierAt?t.inputFormControl.nextText:t.inputFormControl.value)("required",null==t.inputFormControl?null:t.inputFormControl.required)("autocomplete",null!=t.inputFormControl&&t.inputFormControl.autocomplete?null==t.inputFormControl?null:t.inputFormControl.autocomplete:"off")("maxlength",null==t.inputFormControl?null:t.inputFormControl.maxLength)("minlength",null==t.inputFormControl?null:t.inputFormControl.minLength)("disabled",null==t.inputFormControl?null:t.inputFormControl.disabled)("disabled",!t.contentEditable)}}function pe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"textarea",9),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.inputFormControl.value=i)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("rows",null==t.inputFormControl?null:t.inputFormControl.rows)("placeholder",null==t.inputFormControl?null:t.inputFormControl.placeholder)("ngModel",t.inputFormControl.value)("required",null==t.inputFormControl?null:t.inputFormControl.required)("autocomplete",null!=t.inputFormControl&&t.inputFormControl.autocomplete?null==t.inputFormControl?null:t.inputFormControl.autocomplete:"off")("maxlength",null==t.inputFormControl?null:t.inputFormControl.maxLength)("minlength",null==t.inputFormControl?null:t.inputFormControl.minLength)("disabled",null==t.inputFormControl?null:t.inputFormControl.disabled)("disabled",!t.contentEditable)}}function _e(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getErrorMessage(t.inputFormControl))}}function ge(n,r){if(1&n&&(e.TgZ(0,"mat-hint",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("align","end"),e.xp6(1),e.AsE("",(null==t.inputFormControl||null==t.inputFormControl.value?null:t.inputFormControl.value.length)||0," / ",null==t.inputFormControl?null:t.inputFormControl.maxLength,"")}}function fe(n,r){if(1&n&&(e.TgZ(0,"mat-form-field",1)(1,"mat-label"),e._uU(2),e.qZA(),e.YNc(3,me,1,9,"input",2),e.YNc(4,pe,1,9,"textarea",3),e.YNc(5,_e,2,1,"mat-error",4),e.YNc(6,ge,2,3,"mat-hint",5),e.TgZ(7,"span",6),e._uU(8),e.qZA(),e.TgZ(9,"span",7),e._uU(10),e.qZA()()),2&n){const t=e.oxw();e.Q6J("hintLabel",(null!=t.inputFormControl&&null!=t.inputFormControl.hintLabel&&t.inputFormControl.hintLabel.text?null==t.inputFormControl||null==t.inputFormControl.hintLabel?null:t.inputFormControl.hintLabel.text:"")+t.getOptionalLabel(t.inputFormControl)),e.xp6(2),e.Oqu("prevText"===t.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===t.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==t.inputFormControl?null:t.inputFormControl.label),e.xp6(1),e.Q6J("ngIf","shortText"===(null==t.inputFormControl?null:t.inputFormControl.type)),e.xp6(1),e.Q6J("ngIf","longText"===(null==t.inputFormControl?null:t.inputFormControl.type)),e.xp6(1),e.Q6J("ngIf",!!t.getErrorMessage(t.inputFormControl)),e.xp6(1),e.Q6J("ngIf",null==t.inputFormControl?null:t.inputFormControl.maxLength),e.xp6(2),e.Oqu(null==t.inputFormControl?null:t.inputFormControl.prefix),e.xp6(2),e.Oqu(null==t.inputFormControl?null:t.inputFormControl.suffix)}}let he=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.contentEditable=this.authService.contentEditable}getOptionalLabel(t){let o="";return t?.minLength&&(o+=`. T\u1ed1i thi\u1ec3u: ${t?.minLength} k\xfd t\u1ef1`),t?.maxLength&&(o+=`. T\u1ed1i \u0111a: ${t?.maxLength} k\xfd t\u1ef1`),o}getErrorMessage(t){let o="";return t?.required&&(o+=t?.requiredErrorMessage?t?.requiredErrorMessage:""),o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cp-input-form-field"]],inputs:{inputFormControl:"inputFormControl",modifierAt:"modifierAt"},decls:1,vars:1,consts:[["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange",4,"ngIf"],["matInput","",3,"rows","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange",4,"ngIf"],[4,"ngIf"],["class","hint-max-lenght",3,"align",4,"ngIf"],["matPrefix",""],["matSuffix",""],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],["matInput","",3,"rows","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],[1,"hint-max-lenght",3,"align"]],template:function(t,o){1&t&&e.YNc(0,fe,11,8,"mat-form-field",0),2&t&&e.Q6J("ngIf",null==o.inputFormControl||null==o.inputFormControl.type?null:o.inputFormControl.type.includes("Text"))},dependencies:[d.O5,h.KE,h.hX,h.bx,h.TO,h.qo,h.R9,O.Nt,C.Fj,C.JJ,C.Q7,C.wO,C.nD,C.On],styles:["mat-form-field{min-width:0}"]}),n})();function Ce(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getErrorMessage(t.inputFormControl))}}function xe(n,r){if(1&n&&(e.TgZ(0,"mat-hint",7),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("align","end"),e.xp6(1),e.AsE("",(null==t.inputFormControl||null==t.inputFormControl.value?null:t.inputFormControl.value.length)||0," / ",null==t.inputFormControl?null:t.inputFormControl.maxLength,"")}}function be(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",1)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",2),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG("prevText"===a.modifierAt?a.inputFormControl.prevText:"nextText"===a.modifierAt?a.inputFormControl.nextText:a.inputFormControl.value=i)}),e.qZA(),e.YNc(4,Ce,2,1,"mat-error",3),e.YNc(5,xe,2,3,"mat-hint",4),e.TgZ(6,"span",5),e._uU(7),e.qZA(),e.TgZ(8,"span",6),e._uU(9),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("hintLabel",(null!=t.inputFormControl&&null!=t.inputFormControl.hintLabel&&t.inputFormControl.hintLabel.text?null==t.inputFormControl||null==t.inputFormControl.hintLabel?null:t.inputFormControl.hintLabel.text:"")+t.getOptionalLabel(t.inputFormControl)),e.xp6(2),e.Oqu("prevText"===t.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===t.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==t.inputFormControl?null:t.inputFormControl.label),e.xp6(1),e.Q6J("type","number")("placeholder","prevText"===t.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===t.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==t.inputFormControl?null:t.inputFormControl.placeholder)("ngModel","prevText"===t.modifierAt?t.inputFormControl.prevText:"nextText"===t.modifierAt?t.inputFormControl.nextText:t.inputFormControl.value)("required",null==t.inputFormControl?null:t.inputFormControl.required)("autocomplete",null!=t.inputFormControl&&t.inputFormControl.autocomplete?null==t.inputFormControl?null:t.inputFormControl.autocomplete:"off")("maxlength",null==t.inputFormControl?null:t.inputFormControl.maxLength)("minlength",null==t.inputFormControl?null:t.inputFormControl.minLength)("disabled",null==t.inputFormControl?null:t.inputFormControl.disabled),e.xp6(1),e.Q6J("ngIf",!!t.getErrorMessage(t.inputFormControl)),e.xp6(1),e.Q6J("ngIf",null==t.inputFormControl?null:t.inputFormControl.maxLength),e.xp6(2),e.Oqu(null==t.inputFormControl?null:t.inputFormControl.prefix),e.xp6(2),e.Oqu(null==t.inputFormControl?null:t.inputFormControl.suffix)}}let ve=(()=>{class n{constructor(){}ngOnInit(){}getOptionalLabel(t){let o="";return t?.minLength&&(o+=`. T\u1ed1i thi\u1ec3u: ${t?.minLength} k\xfd t\u1ef1`),t?.maxLength&&(o+=`. T\u1ed1i \u0111a: ${t?.maxLength} k\xfd t\u1ef1`),o}getErrorMessage(t){let o="";return t?.required&&(o+=t?.requiredErrorMessage?t?.requiredErrorMessage:""),o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cp-number-form-field"]],inputs:{inputFormControl:"inputFormControl",modifierAt:"modifierAt"},decls:1,vars:1,consts:[["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],[4,"ngIf"],["class","hint-max-lenght",3,"align",4,"ngIf"],["matPrefix",""],["matSuffix",""],[1,"hint-max-lenght",3,"align"]],template:function(t,o){1&t&&e.YNc(0,be,10,14,"mat-form-field",0),2&t&&e.Q6J("ngIf",null==o.inputFormControl||null==o.inputFormControl.type?null:o.inputFormControl.type.includes("number"))},dependencies:[d.O5,h.KE,h.hX,h.bx,h.TO,h.qo,h.R9,O.Nt,C.Fj,C.JJ,C.Q7,C.wO,C.nD,C.On]}),n})();function Te(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"cp-input-form-field",9),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("inputFormControl",t)}}function ye(n,r){if(1&n&&(e.TgZ(0,"mat-radio-button",12),e._uU(1),e.qZA()),2&n){const t=r.$implicit,o=e.oxw(5);e.Q6J("value",t)("disabled",!o.contentEditable),e.xp6(1),e.Oqu(t)}}function Ee(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mat-radio-group",10),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.value=i)}),e.TgZ(1,"mat-label"),e._uU(2),e.qZA(),e.YNc(3,ye,2,3,"mat-radio-button",11),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.value)("ngClass","layout-"+(null==t?null:t.layout)),e.xp6(2),e.Oqu(null==t?null:t.label),e.xp6(1),e.Q6J("ngForOf",null==t?null:t.data)}}function Fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"textarea",18),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(3).$implicit;return e.KtG(a.value=i)}),e.qZA()}if(2&n){const t=e.oxw(3).$implicit,o=e.oxw(3);e.Q6J("rows",null==t?null:t.rows)("disabled",!o.contentEditable)("placeholder",null==t?null:t.placeholder)("ngModel",t.value)("required",null==t?null:t.required)("autocomplete",null!=t&&t.autocomplete?null==t?null:t.autocomplete:"off")("maxlength",null==t?null:t.maxLength)("minlength",null==t?null:t.minLength)("disabled",null==t?null:t.disabled)}}function we(n,r){if(1&n&&(e.TgZ(0,"mat-form-field",16)(1,"mat-label"),e._uU(2),e.qZA(),e.YNc(3,Fe,1,9,"textarea",17),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(3);e.Q6J("hintLabel",(null!=t&&null!=t.hintLabel&&t.hintLabel.text?null==t||null==t.hintLabel?null:t.hintLabel.text:"")+o.getOptionalLabel(t)),e.xp6(2),e.Oqu(null==t?null:t.label),e.xp6(1),e.Q6J("ngIf","formArrayTrigerLongString"===(null==t?null:t.type))}}function Ne(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.YNc(1,we,4,3,"mat-form-field",14),e.TgZ(2,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.onChangeTrigerFormArray(i))}),e.TgZ(3,"mat-icon"),e._uU(4,"sync_alt"),e.qZA(),e._uU(5," Nh\u1eadp "),e.qZA(),e._UZ(6,"mat-divider"),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("ngIf","formArrayTrigerLongString"===(null==t?null:t.type)),e.xp6(1),e.Q6J("color","accent")("disabled",!o.contentEditable)}}function Ae(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"cp-input-form-field",9),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("inputFormControl",t)}}function De(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"cp-number-form-field",9),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("inputFormControl",t)}}function Se(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ae,2,1,"ng-container",0),e.YNc(2,De,2,1,"ng-container",0),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t||null==t.type?null:t.type.includes("Text")),e.xp6(1),e.Q6J("ngIf",null==t||null==t.type?null:t.type.includes("number"))}}function Me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",20)(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"button",21),e.NdJ("click",function(){const a=e.CHM(t).index,l=e.oxw(3).$implicit,s=e.oxw(3);return e.KtG(s.onDeleteItem(l,a))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()(),e.YNc(7,Se,3,2,"ng-container",2),e._UZ(8,"mat-divider"),e.qZA()}if(2&n){const t=r.$implicit,o=r.index,i=e.oxw(3).$implicit,a=e.oxw(3);e.xp6(3),e.AsE("",null==i?null:i.itemLabel,"(",o+1,")"),e.xp6(1),e.Q6J("disabled",!a.contentEditable),e.xp6(3),e.Q6J("ngForOf",null==t?null:t.control)}}function ke(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Me,9,4,"div",2),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.value)}}function Oe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",19),e.YNc(1,ke,2,1,"ng-container",0),e.TgZ(2,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3),l=e.MAs(2);return e.KtG(a.onAddNewItem(i,l))}),e.TgZ(3,"mat-icon"),e._uU(4,"add"),e.qZA(),e._uU(5,"Th\xeam "),e.qZA()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t?null:t.value.length)>0),e.xp6(1),e.Q6J("color","primary")("disabled",!o.contentEditable)}}function Ze(n,r){if(1&n&&(e.TgZ(0,"div",24),e._UZ(1,"cp-input-form-field",25)(2,"cp-input-form-field",9)(3,"cp-input-form-field",25),e.qZA()),2&n){const t=r.$implicit,o=e.oxw(2).$implicit;e.xp6(1),e.Q6J("inputFormControl",null==o?null:o.value[t])("modifierAt","prevText"),e.xp6(1),e.Q6J("inputFormControl",null==o?null:o.value[t]),e.xp6(1),e.Q6J("inputFormControl",null==o?null:o.value[t])("modifierAt","nextText")}}function Ie(n,r){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,Ze,4,5,"div",23),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.addressGroup)}}function Be(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Te,2,1,"ng-container",0),e.YNc(2,Ee,4,4,"mat-radio-group",5),e.YNc(3,Ne,7,3,"div",6),e.YNc(4,Oe,6,3,"div",7),e.YNc(5,Ie,2,1,"div",8),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t||null==t.type?null:t.type.includes("Text")),e.xp6(1),e.Q6J("ngIf","radiobox"===(null==t?null:t.type)),e.xp6(1),e.Q6J("ngIf","formArrayTrigerLongString"===(null==t?null:t.type)),e.xp6(1),e.Q6J("ngIf","formArray"===(null==t?null:t.type)),e.xp6(1),e.Q6J("ngIf","addressGroup"===(null==t?null:t.type))}}function Je(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-expansion-panel",3)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.qZA()(),e.TgZ(5,"div",4)(6,"mat-panel-description"),e._uU(7),e.qZA(),e.YNc(8,Be,6,5,"ng-container",2),e.qZA()(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("expanded",!(null==t||!t.expaned)||(null==t?null:t.expaned)),e.xp6(3),e.Oqu(null==t?null:t.title),e.xp6(3),e.Oqu(null==t?null:t.hint),e.xp6(1),e.Q6J("ngForOf",null==t?null:t.control)}}function Le(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Je,9,4,"ng-container",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.renderDocument.formGroup)}}function Ve(n,r){if(1&n&&(e.TgZ(0,"div",26)(1,"mat-icon",27),e._uU(2,"error_outline"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.errorMessage)}}let Qe=(()=>{class n{constructor(t,o){this.matDialog=t,this.authService=o,this.changeTrigerFormArray=new e.vpe,this.addressGroup=["country","province","district","ward","village","address"],this.errorMessage=void 0}ngOnInit(){this.onChangeControl(),this.contentEditable=this.authService.contentEditable}onChangeControl(){}getErrorMessage(t){let o="";return t?.required&&(o+=t?.requiredErrorMessage?t?.requiredErrorMessage:""),o}getOptionalLabel(t){let o="";return t?.minLength&&(o+=`. T\u1ed1i thi\u1ec3u: ${t?.minLength} k\xfd t\u1ef1`),t?.maxLength&&(o+=`. T\u1ed1i \u0111a: ${t?.maxLength} k\xfd t\u1ef1`),o}getObjectArray(t){return Object.entries(t)}onChangeTrigerFormArray(t){this.changeTrigerFormArray.emit(t)}onAddNewItem(t,o){let i=!0;if(t?.value?.length>0&&t?.value[t?.value?.length-1]?.control?.forEach(l=>{i&&l?.required&&!l?.value&&(i=!1)}),i){let a=[];t?.addTemplate?.forEach(l=>{let s=new $;s.type=l.type,s.value=l.value,s.placeholder=l.placeholder,s.required=l.required,s.autocomplete=l.autocomplete,s.label=l.label,s.suffix=l.suffix,a.push(s)}),t?.value?.push({control:a})}else this.errorMessage="H\xe3y nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin b\u1eaft bu\u1ed9c tr\u01b0\u1edbc khi th\xeam m\u1edbi",this.errorMessageDialogRef=this.matDialog.open(o)}onDeleteItem(t,o){t?.value?.splice(o,1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k.uw),e.Y36(D.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cp-editor-form-control"]],inputs:{renderDocument:"renderDocument"},outputs:{changeTrigerFormArray:"changeTrigerFormArray"},decls:3,vars:1,consts:[[4,"ngIf"],["errorMessageDialog",""],[4,"ngFor","ngForOf"],[3,"expanded"],[1,"form-group"],[3,"ngModel","ngClass","ngModelChange",4,"ngIf"],["class","triger-form-array",4,"ngIf"],["class","form-array",4,"ngIf"],["class","address-group",4,"ngIf"],[3,"inputFormControl"],[3,"ngModel","ngClass","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[1,"triger-form-array"],["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["mat-flat-button","",1,"w-100",3,"color","disabled","click"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"rows","disabled","placeholder","ngModel","required","autocomplete","maxlength","minlength","ngModelChange",4,"ngIf"],["matInput","",3,"rows","disabled","placeholder","ngModel","required","autocomplete","maxlength","minlength","ngModelChange"],[1,"form-array"],[1,"d-flex","justify-content-between"],["mat-icon-button","",3,"disabled","click"],[1,"address-group"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],[3,"inputFormControl","modifierAt"],[1,"error-message-dialog"],["color","warn"]],template:function(t,o){1&t&&(e.YNc(0,Le,2,1,"ng-container",0),e.YNc(1,Ve,5,1,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",null==o.renderDocument?null:o.renderDocument.formGroup)},dependencies:[d.mk,d.sg,d.O5,h.KE,h.hX,O.Nt,C.Fj,C.JJ,C.Q7,C.wO,C.nD,C.On,Z.lW,Z.RK,P.ib,P.yz,P.yK,P.u4,re.VQ,re.U0,I.Hw,ue.d,he,ve],styles:[".form-group mat-panel-description{margin-bottom:1rem}  .form-group .hint-max-lenght{white-space:nowrap}  .form-group mat-radio-group{margin:1.34375em 0}  .form-group .layout-column{display:flex;flex-direction:column;align-items:flex-start}  .form-group mat-radio-button{margin:5px}  .form-group cp-input-form-field,   .form-group cp-number-form-field{min-width:0}  .form-group .form-array mat-divider{margin-bottom:1rem}  .error-message-dialog{text-align:center}  .error-message-dialog .mat-icon{font-size:80px;height:80px;width:80px}  .triger-form-array{margin-bottom:2rem}"]}),n})();class ${}var B=c(7471),W=c(7009),Pe=c(8242),qe=c(4385),Ye=c(266),K=c(8255);function Ue(n,r){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.viewValue)}}function ze(n,r){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.viewValue)}}function Ge(n,r){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.viewValue)}}const Re=function(n){return{color:n}};function $e(n,r){if(1&n&&(e.TgZ(0,"button",17)(1,"mat-icon",24),e._uU(2,"circle"),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,Re,null==t?null:t.value))("matTooltip",null==t?null:t.name)}}let We=(()=>{class n{constructor(t){this.editorService=t,this.foods=[{value:"steak-0",viewValue:"Steak"},{value:"pizza-1",viewValue:"Pizza"},{value:"tacos-2",viewValue:"Tacos"}],this.colors=[{name:"\u0111en",value:"black"},{name:"tr\u1eafng",value:"white"},{name:"\u0111\u1ecf",value:"red"},{name:"xanh d\u01b0\u01a1ng",value:"blue"},{name:"v\xe0ng",value:"yellow"},{name:"xanh l\xe1",value:"green"},{name:"t\xedm",value:"purple"},{name:"x\xe1m",value:"gray"},{name:"cam",value:"orange"}]}ngOnInit(){}onChangeStyle(t){this.editorService.onChangeStyle(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.TB))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cp-toolbar-editor"]],decls:56,vars:10,consts:[[1,"editor-toolbar","d-flex","justify-content-center","align-items-center"],[3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"h-100",3,"placeholder"],[1,"h-100","dropdown-font-size",3,"placeholder"],["mat-icon-button","","matTooltip","\u0110\u1eadm",3,"click"],["mat-icon-button","","matTooltip","Nghi\xeang",3,"click"],["mat-icon-button","","matTooltip","G\u1ea1ch ch\xe2n",3,"click"],[1,"material-icons-outlined"],["mat-icon-button","","matTooltip","M\xe0u v\u0103n b\u1ea3n",3,"matMenuTriggerFor"],[1,"horizontal-menu","color-menu"],["menuColor",""],["mat-icon-button","",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Ch\xe8n \u0111\u01b0\u1eddng li\xean k\u1ebft"],["mat-icon-button","","matTooltip","C\u0103n ch\u1ec9nh",3,"matMenuTriggerFor"],[1,"horizontal-menu"],["menuAlign",""],["mat-icon-button",""],["mat-icon-button","","matTooltip","Danh s\xe1ch \u0111\xe1nh s\u1ed1 \u0111\u1ea7u d\xf2ng"],["mat-icon-button","","matTooltip","Danh s\xe1ch c\xf3 d\u1ea5u \u0111\u1ea7u d\xf2ng"],["mat-icon-button","","matTooltip","Th\xeam",3,"matMenuTriggerFor"],["menuMore",""],["mat-menu-item",""],[3,"value"],[3,"ngStyle","matTooltip"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-select",1),e.YNc(2,Ue,2,2,"mat-option",2),e.qZA(),e.TgZ(3,"mat-select",3),e.YNc(4,ze,2,2,"mat-option",2),e.qZA(),e.TgZ(5,"mat-select",4),e.YNc(6,Ge,2,2,"mat-option",2),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return o.onChangeStyle({type:"fontWeight"})}),e.TgZ(8,"mat-icon"),e._uU(9,"format_bold"),e.qZA()(),e.TgZ(10,"button",6),e.NdJ("click",function(){return o.onChangeStyle({type:"fontStyle"})}),e.TgZ(11,"mat-icon"),e._uU(12,"format_italic"),e.qZA()(),e.TgZ(13,"button",7),e.NdJ("click",function(){return o.onChangeStyle({type:"textDecoration"})}),e.TgZ(14,"mat-icon",8),e._uU(15,"format_underlined"),e.qZA()(),e.TgZ(16,"button",9)(17,"mat-icon",8),e._uU(18,"format_color_text"),e.qZA()(),e.TgZ(19,"mat-menu",10,11),e.YNc(21,$e,3,4,"button",12),e.qZA(),e.TgZ(22,"button",13)(23,"mat-icon",8),e._uU(24,"link"),e.qZA()(),e.TgZ(25,"button",14)(26,"mat-icon",8),e._uU(27,"format_align_left"),e.qZA()(),e.TgZ(28,"mat-menu",15,16)(30,"button",17)(31,"mat-icon"),e._uU(32,"format_align_left"),e.qZA()(),e.TgZ(33,"button",17)(34,"mat-icon"),e._uU(35,"format_align_center"),e.qZA()(),e.TgZ(36,"button",17)(37,"mat-icon"),e._uU(38,"format_align_right"),e.qZA()()(),e.TgZ(39,"button",18)(40,"mat-icon",8),e._uU(41,"format_list_numbered"),e.qZA()(),e.TgZ(42,"button",19)(43,"mat-icon",8),e._uU(44,"format_list_bulleted"),e.qZA()(),e.TgZ(45,"button",20)(46,"mat-icon"),e._uU(47,"more_horiz"),e.qZA()(),e.TgZ(48,"mat-menu",null,21)(50,"button",22),e._uU(51,"More 1"),e.qZA(),e.TgZ(52,"button",22),e._uU(53,"More 2"),e.qZA(),e.TgZ(54,"button",22),e._uU(55,"More 3"),e.qZA()()()),2&t){const i=e.MAs(20),a=e.MAs(29),l=e.MAs(49);e.xp6(1),e.Q6J("placeholder","Ki\u1ec3u ch\u1eef"),e.xp6(1),e.Q6J("ngForOf",o.foods),e.xp6(1),e.Q6J("placeholder","Ph\xf4ng ch\u1eef"),e.xp6(1),e.Q6J("ngForOf",o.foods),e.xp6(1),e.Q6J("placeholder","C\u1ee1 ch\u1eef"),e.xp6(1),e.Q6J("ngForOf",o.foods),e.xp6(10),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngForOf",o.colors),e.xp6(4),e.Q6J("matMenuTriggerFor",a),e.xp6(20),e.Q6J("matMenuTriggerFor",l)}},dependencies:[d.sg,d.PC,qe.gD,f.ey,I.Hw,Ye.gM,Z.RK,K.VK,K.OP,K.p6],styles:[".editor-toolbar{background-color:#fff;position:sticky;top:0}  .editor-toolbar .mat-form-field-wrapper{padding-bottom:0}  .editor-toolbar .dropdown-font-size{width:350px}  .horizontal-menu .mat-mdc-menu-content:not(:empty){display:flex;flex-wrap:wrap}  .color-menu .mat-mdc-icon-button{box-sizing:border-box;line-height:1;height:30px;width:30px;display:flex;align-items:center;justify-content:center}  .color-menu .mat-mdc-icon-button .mat-icon{border-radius:50%;border:solid 1px #f4eff4;display:flex;align-items:center;justify-content:center}"]}),n})();const ie=function(n,r,t,o,i,a){return{paddingTop:n,paddingRight:r,paddingBottom:t,paddingLeft:o,width:i,height:a}};function Ke(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("keyup",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onChangeContent(i))})("keydown.tab",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onTab(i))})("keydown.backspace",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onDeleteContent(i))}),e._UZ(1,"cp-content-editor",6),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("id",(null==t.renderedDocument?null:t.renderedDocument.key)+"-CONTENT")("ngStyle",e.HTZ(4,ie,null==t.pagePadding?null:t.pagePadding.paddingTop,null==t.pagePadding?null:t.pagePadding.paddingRight,null==t.pagePadding?null:t.pagePadding.paddingBottom,null==t.pagePadding?null:t.pagePadding.paddingLeft,null==t.pageSize?null:t.pageSize.width,null==t.pageSize?null:t.pageSize.height)),e.xp6(1),e.Q6J("nested",!0)("renderDocument",t.renderedDocument)}}function He(n,r){if(1&n&&(e.TgZ(0,"div",7),e._UZ(1,"cp-content-editor",6),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("id",(null==t.renderedDocument?null:t.renderedDocument.key)+"-CONTENT")("ngStyle",e.HTZ(4,ie,null==t.pagePadding?null:t.pagePadding.paddingTop,null==t.pagePadding?null:t.pagePadding.paddingRight,null==t.pagePadding?null:t.pagePadding.paddingBottom,null==t.pagePadding?null:t.pagePadding.paddingLeft,null==t.pageSize?null:t.pageSize.width,null==t.pageSize?null:t.pageSize.height)),e.xp6(1),e.Q6J("nested",!0)("renderDocument",t.renderedDocument)}}function Xe(n,r){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,Ke,2,11,"div",3),e.YNc(2,He,2,11,"div",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.contentEditable),e.xp6(1),e.Q6J("ngIf",!t.contentEditable)}}function je(n,r){1&n&&(e.TgZ(0,"p"),e._UZ(1,"br"),e.qZA())}function et(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.clickTargetLink(i,!0))}),e.TgZ(1,"mat-icon"),e._uU(2,"link"),e.qZA()()}}const q=function(n,r,t,o,i){return{color:n,fontWeight:r,fontStyle:t,fontSize:o,textDecoration:i}};function tt(n,r){if(1&n&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngStyle",e.qbA(2,q,null==t||null==t.attrs?null:t.attrs.color,null==t||null==t.attrs?null:t.attrs.fontWeight,null==t||null==t.attrs?null:t.attrs.fontStyle,null==t.attrs?null:t.attrs.fontSize,null==t||null==t.attrs?null:t.attrs.textDecoration)),e.xp6(1),e.Oqu(t.text)}}function nt(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.text)}}function ot(n,r){if(1&n&&(e.ynx(0),e.YNc(1,tt,2,8,"span",15),e.YNc(2,nt,2,1,"ng-container",1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!(null==t||!t.attrs)),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.attrs))}}function rt(n,r){if(1&n&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(4);let i;e.Q6J("ngStyle",e.qbA(2,q,null==t||null==t.attrs?null:t.attrs.color,null==t||null==t.attrs?null:t.attrs.fontWeight,null==t||null==t.attrs?null:t.attrs.fontStyle,null==t.attrs?null:t.attrs.fontSize,null==t||null==t.attrs?null:t.attrs.textDecoration)),e.xp6(1),e.Oqu(null==(i=o.insertFormControlValue(t))?null:i.value)}}function it(n,r){if(1&n&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(4);let i;e.Q6J("ngStyle",e.qbA(2,q,null==t||null==t.attrs?null:t.attrs.color,null==t||null==t.attrs?null:t.attrs.fontWeight,null==t||null==t.attrs?null:t.attrs.fontStyle,null==t.attrs?null:t.attrs.fontSize,null==t||null==t.attrs?null:t.attrs.textDecoration)),e.xp6(1),e.Oqu(null==(i=o.insertFormControlValue(t))?null:i.value)}}function at(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu((null==t[1]?null:t[1].prevText)+" ")}}function lt(n,r){if(1&n&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(2).$implicit;e.Q6J("ngStyle",e.qbA(2,q,null==o||null==o.attrs?null:o.attrs.color,null==o||null==o.attrs?null:o.attrs.fontWeight,null==o||null==o.attrs?null:o.attrs.fontStyle,null==o.attrs?null:o.attrs.fontSize,null==o||null==o.attrs?null:o.attrs.textDecoration)),e.xp6(1),e.Oqu(null==t[1]?null:t[1].value)}}function st(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(),o=t.$implicit,i=t.index,a=e.oxw(2).$implicit,l=e.oxw(4);let s;e.xp6(1),e.Oqu(" "+(null==o[1]?null:o[1].nextText)+(i===l.getObjectArray(null==(s=l.insertFormControlValue(a))?null:s.value).length-1?"":", "))}}function dt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,at,2,1,"span",1),e.YNc(2,lt,2,8,"span",15),e.YNc(3,st,2,1,"span",1),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t[1]?null:t[1].prevText),e.xp6(1),e.Q6J("ngIf",null==t[1]?null:t[1].value),e.xp6(1),e.Q6J("ngIf",null==t[1]?null:t[1].nextText)}}function ct(n,r){if(1&n&&(e.ynx(0),e.YNc(1,dt,4,3,"ng-container",8),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw(4);let i;e.xp6(1),e.Q6J("ngForOf",o.getObjectArray(null==(i=o.insertFormControlValue(t))?null:i.value))}}function ut(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw().index,i=e.oxw(2).$implicit,a=e.oxw(4);let l;e.xp6(1),e.AsE("",t.suffix,"",o===(null==(l=a.insertFormControlValue(i))?null:l.value.length)-1?".":","," ")}}function mt(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.YNc(3,ut,2,2,"ng-container",1),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.hij("",null==t?null:t.value," "),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.value)&&t.suffix)}}function pt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,mt,4,2,"ng-container",8),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.control)}}function _t(n,r){if(1&n&&(e.ynx(0),e.YNc(1,pt,2,1,"ng-container",8),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw(4);let i;e.xp6(1),e.Q6J("ngForOf",null==(i=o.insertFormControlValue(t))?null:i.value)}}function gt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ot,3,2,"ng-container",1),e.YNc(2,rt,2,8,"span",15),e.YNc(3,it,2,8,"span",15),e.YNc(4,ct,2,1,"ng-container",1),e.YNc(5,_t,2,1,"ng-container",1),e.BQk()),2&n){const t=r.$implicit,o=e.oxw(4);let i,a,l;e.xp6(1),e.Q6J("ngIf","text"===(null==t?null:t.type)),e.xp6(1),e.Q6J("ngIf","formControl"===(null==t?null:t.type)&&"shortText"===(null==(i=o.insertFormControlValue(t))?null:i.type)||"radiobox"===(null==(i=o.insertFormControlValue(t))?null:i.type)),e.xp6(1),e.Q6J("ngIf","triggerFormControl"===(null==t?null:t.type)),e.xp6(1),e.Q6J("ngIf","formControl"===(null==t?null:t.type)&&"addressGroup"===(null==(a=o.insertFormControlValue(t))?null:a.type)),e.xp6(1),e.Q6J("ngIf","formControl"===(null==t?null:t.type)&&"formArray"===(null==(l=o.insertFormControlValue(t))?null:l.type))}}const ft=function(n,r,t,o,i,a,l){return{textAlign:n,color:r,fontWeight:t,fontStyle:o,fontSize:i,textDecoration:a,textIndent:l,margin:0}},ht=function(n){return{targetLink:n}};function Ct(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.clickTargetLink(i))}),e.YNc(1,et,3,0,"button",13),e.YNc(2,gt,6,5,"ng-container",8),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.Hh0(5,ft,null!=t&&null!=t.attrs&&t.attrs.textAlign?null==t||null==t.attrs?null:t.attrs.textAlign:"jusify",null==t||null==t.attrs?null:t.attrs.color,null==t||null==t.attrs?null:t.attrs.fontWeight,null==t||null==t.attrs?null:t.attrs.fontStyle,null==t||null==t.attrs?null:t.attrs.fontSize,null==t||null==t.attrs?null:t.attrs.textDecoration,null==t||null==t.attrs?null:t.attrs.textIndent))("id",null!=t&&null!=t.attrs&&t.attrs.hash&&null!=t&&null!=t.attrs&&t.attrs.pathname?(null==t||null==t.attrs?null:t.attrs.pathname.replaceAll("/","").replaceAll("-",""))+(null==t||null==t.attrs?null:t.attrs.hash):"")("ngClass",e.VKq(13,ht,(null==t||null==t.attrs?null:t.attrs.hash)&&(null==t||null==t.attrs?null:t.attrs.pathname))),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.attrs?null:t.attrs.hash)&&(null==t||null==t.attrs?null:t.attrs.pathname)),e.xp6(1),e.Q6J("ngForOf",t.content)}}function xt(n,r){if(1&n&&(e.TgZ(0,"div",17),e._UZ(1,"cp-content-editor",18),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("id",(null==t?null:t.targetDocumentKey)+"-CONTENT_"+(null==t?null:t.targetContentKey)),e.xp6(1),e.Q6J("renderDocument",t)("nestedId",null==o.renderedDocument?null:o.renderedDocument.key)("nested",!0)}}function bt(n,r){if(1&n&&(e.TgZ(0,"div",19),e._UZ(1,"cp-content-editor",20),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("id",t.nestedId+"-CONTENT"),e.xp6(1),e.Q6J("renderDocument",t.sourceContent)("isSourceContent",!0)("nested",!0)}}function vt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ct,3,15,"p",9),e.YNc(2,xt,2,4,"div",10),e.YNc(3,bt,2,4,"div",11),e.BQk()),2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf","paragraph"===t.type),e.xp6(1),e.Q6J("ngIf","sourceContent"===(null==t?null:t.type)),e.xp6(1),e.Q6J("ngIf","targetContent"===(null==t?null:t.type)&&(null==o.renderedDocument?null:o.renderedDocument.key)===(null==o.sourceContent?null:o.sourceContent.targetDocumentKey)&&(null==t?null:t.key)===(null==o.sourceContent?null:o.sourceContent.targetContentKey))}}function Tt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,je,2,0,"p",1),e.YNc(2,vt,4,3,"ng-container",8),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!(null!=t.renderedDocument&&t.renderedDocument.content)||0===(null==t.renderedDocument||null==t.renderedDocument.content?null:t.renderedDocument.content.length)),e.xp6(1),e.Q6J("ngForOf",null==t.renderedDocument?null:t.renderedDocument.content)}}let yt=(()=>{class n{constructor(t,o,i){this.editorService=t,this._snackBar=o,this.breakpointObserver=i,this.contentEditable=!0,this.nested=!1,this.isSourceContent=!1,this.durationInSeconds=3,this.horizontalPosition="start",this.verticalPosition="bottom"}ngOnInit(){this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(t=>{t.matches?(this.pagePadding={paddingTop:"1rem",paddingRight:"1rem",paddingBottom:"1rem",paddingLeft:"1rem"},this.pageSize={width:"fit-content",height:"auto"}):(this.pagePadding={paddingTop:"2cm",paddingRight:"2cm",paddingBottom:"2cm",paddingLeft:"2cm"},this.pageSize={width:this.pageSize?.width?this.pageSize?.width:"210mm",height:this.pageSize?.height?this.pageSize?.height:""})})}ngOnChanges(){this.renderedDocument=this.renderDocument,"sourceContent"===this.renderDocument?.type&&!this.isSourceContent&&(this.sourceContent=this.renderDocument,this.onGetDocument(this.sourceContent.targetDocumentKey))}insertFormControlValue(t){let i=this.renderedDocument?.formGroup?.find(l=>l?.key===t?.targetFormGroupKey)?.control?.find(l=>l?.key===t?.targetFormControlKey),a={value:i?.value,type:i?.type};return"triggerFormControl"===t.type&&"formArray"===i?.type&&(a.value=i?.value?.length),a}getObjectArray(t){return Object.entries(t)}onGetDocument(t){this.editorService.getJSON(t).subscribe(o=>{this.renderedDocument=o.data})}onChangeContent(t){this.editorService.onChangeContent(t)}onTab(t){t.preventDefault();var i=document.getSelection()?.getRangeAt(0),l=document.createTextNode("\t");i?.insertNode(l),i?.setStartAfter(l),i?.setEndAfter(l)}onDeleteContent(t){let o=[...new Set(t?.target?.childNodes[0]?.childNodes)].filter(i=>"P"===i?.nodeName);if(1===o.length){let i=o[0];if(1===i.childNodes.length&&"BR"===i.childNodes[0].nodeName)return!1}}clickTargetLink(t,o){if(t?.attrs?.hash&&t?.attrs?.pathname){const i=new Array(document.getElementsByClassName("targetLink"))[0];for(let l=0;l<=i.length;l++)i[l]?.setAttribute("style","color: unset");document.getElementById(`${t?.attrs?.pathname.replaceAll("/","").replaceAll("-","")}${t?.attrs?.hash}`).style.color="#4285f4",location.hash=t?.attrs?.hash,o&&(navigator.clipboard.writeText(`${location.origin}${t?.attrs?.pathname}${t?.attrs?.hash}`),this._snackBar.open("\u0110\xe3 sao ch\xe9p li\xean k\u1ebft \u0111\u1ebfn \u0111o\u1ea1n kinh n\xe0y","\u0110\xf3ng",{duration:200*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition}))}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.TB),e.Y36(W.ux),e.Y36(A.Yg))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cp-content-editor"]],inputs:{renderDocument:"renderDocument",nestedId:"nestedId",contentEditable:"contentEditable",nested:"nested",isSourceContent:"isSourceContent",pageSize:"pageSize"},features:[e.TTD],decls:2,vars:2,consts:[["class","editor-wrapper h-100",4,"ngIf"],[4,"ngIf"],[1,"editor-wrapper","h-100"],["class","page","style","\n      box-sizing: border-box;\n      cursor: text;\n      line-height: 1.42;\n      outline: none;\n      overflow-y: auto;\n      tab-size: 6;\n      -moz-tab-size: 6;\n      white-space: pre-wrap;\n      text-align: jutify;\n      word-wrap: break-word;\n      font-size: 17.5px;\n      overflow: hidden;\n      background: #ffff;\n      text-align: justify;\n      user-select: text;\n    ","contenteditable","","aria-multiline","true","role","textbox",3,"id","ngStyle","keyup","keydown.tab","keydown.backspace",4,"ngIf"],["class","page","style","\n      box-sizing: border-box;\n      cursor: text;\n      line-height: 1.42;\n      outline: none;\n      overflow-y: auto;\n      tab-size: 6;\n      -moz-tab-size: 6;\n      white-space: pre-wrap;\n      text-align: jutify;\n      word-wrap: break-word;\n      font-size: 17.5px;\n      overflow: hidden;\n      background: #ffff;\n      text-align: justify;\n      user-select: text;\n    ",3,"id","ngStyle",4,"ngIf"],["contenteditable","","aria-multiline","true","role","textbox",1,"page",2,"box-sizing","border-box","cursor","text","line-height","1.42","outline","none","overflow-y","auto","tab-size","6","-moz-tab-size","6","white-space","pre-wrap","text-align","jutify","word-wrap","break-word","font-size","17.5px","overflow","hidden","background","#ffff","text-align","justify","user-select","text",3,"id","ngStyle","keyup","keydown.tab","keydown.backspace"],[3,"nested","renderDocument"],[1,"page",2,"box-sizing","border-box","cursor","text","line-height","1.42","outline","none","overflow-y","auto","tab-size","6","-moz-tab-size","6","white-space","pre-wrap","text-align","jutify","word-wrap","break-word","font-size","17.5px","overflow","hidden","background","#ffff","text-align","justify","user-select","text",3,"id","ngStyle"],[4,"ngFor","ngForOf"],[3,"ngStyle","id","ngClass","click",4,"ngIf"],["class","targetContent",3,"id",4,"ngIf"],["class","sourceContent",3,"id",4,"ngIf"],[3,"ngStyle","id","ngClass","click"],["mat-icon-button","","class","targetLinkButton",3,"click",4,"ngIf"],["mat-icon-button","",1,"targetLinkButton",3,"click"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"targetContent",3,"id"],[3,"renderDocument","nestedId","nested"],[1,"sourceContent",3,"id"],[3,"renderDocument","isSourceContent","nested"]],template:function(t,o){1&t&&(e.YNc(0,Xe,3,2,"div",0),e.YNc(1,Tt,3,2,"ng-container",1)),2&t&&(e.Q6J("ngIf",!o.nested),e.xp6(1),e.Q6J("ngIf",o.nested))},dependencies:[d.mk,d.sg,d.O5,d.PC,I.Hw,Z.RK,n],styles:[".editor-wrapper[_ngcontent-%COMP%]{padding:1rem}@media only screen and (max-width: 600px){.editor-wrapper[_ngcontent-%COMP%]{padding:0}}.page[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;margin:0 auto;min-height:100%}.targetLink[_ngcontent-%COMP%]{position:relative}.targetLink[_ngcontent-%COMP%]   .targetLinkButton[_ngcontent-%COMP%]{position:absolute;right:100%;visibility:hidden;opacity:0;transition:.5s all;transform:translate(-20px)}.targetLink[_ngcontent-%COMP%]:hover   .targetLinkButton[_ngcontent-%COMP%]{visibility:visible;transform:translate(0);opacity:1}@media only screen and (max-width: 600px){.targetLink[_ngcontent-%COMP%]:hover   .targetLinkButton[_ngcontent-%COMP%]{transform:translate(10px)}}"]}),n})();var H=c(3267),Et=c(3683),ae=c(3848);function Ft(n,r){1&n&&(e.TgZ(0,"mat-toolbar"),e._UZ(1,"cp-toolbar-editor"),e.qZA())}function wt(n,r){1&n&&(e.TgZ(0,"mat-tab",12)(1,"h1"),e._uU(2,"Coming soon!!"),e.qZA()()),2&n&&e.Q6J("label","CH\xc8N")}function Nt(n,r){1&n&&(e.TgZ(0,"mat-tab",12)(1,"h1"),e._uU(2,"Coming soon!!"),e.qZA()()),2&n&&e.Q6J("label","C\xc0I \u0110\u1eb6T")}function At(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mat-drawer",7)(1,"div",8)(2,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSave())}),e._uU(3,"L\u01b0u"),e.qZA(),e.TgZ(4,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onPrint())}),e.TgZ(5,"mat-icon"),e._uU(6,"print"),e.qZA()(),e.TgZ(7,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onBack())}),e._uU(8,"Tho\xe1t"),e.qZA()(),e.TgZ(9,"mat-tab-group")(10,"mat-tab",12)(11,"cp-editor-form-control",13),e.NdJ("changeTrigerFormArray",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onChangeTrigerFormArray(i))}),e.qZA()(),e.YNc(12,wt,3,1,"mat-tab",14),e.YNc(13,Nt,3,1,"mat-tab",14),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("mode","side")("opened",t.isShowContronller)("position","end"),e.xp6(10),e.Q6J("label",t.formControlLabel),e.xp6(1),e.Q6J("renderDocument",t.renderDocument),e.xp6(1),e.Q6J("ngIf",t.contentEditable),e.xp6(1),e.Q6J("ngIf",t.contentEditable)}}function Dt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),a=e.MAs(8);return e.KtG(i.openBottomSheet(a))}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()}2&n&&e.Q6J("color","primary")}function St(n,r){1&n&&(e.TgZ(0,"mat-tab",12)(1,"h1"),e._uU(2,"Coming soon!!"),e.qZA()()),2&n&&e.Q6J("label","CH\xc8N")}function Mt(n,r){1&n&&(e.TgZ(0,"mat-tab",12)(1,"h1"),e._uU(2,"Coming soon!!"),e.qZA()()),2&n&&e.Q6J("label","C\xc0I \u0110\u1eb6T")}function kt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSave())}),e._uU(2,"L\u01b0u"),e.qZA(),e.TgZ(3,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onPrint())}),e.TgZ(4,"mat-icon"),e._uU(5,"print"),e.qZA()(),e.TgZ(6,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editorControllerBottomSheetRef.dismiss())}),e._uU(7," Tho\xe1t "),e.qZA()(),e.TgZ(8,"mat-tab-group")(9,"mat-tab",12)(10,"cp-editor-form-control",13),e.NdJ("changeTrigerFormArray",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onChangeTrigerFormArray(i))}),e.qZA()(),e.YNc(11,St,3,1,"mat-tab",14),e.YNc(12,Mt,3,1,"mat-tab",14),e.qZA()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("label",t.formControlLabel),e.xp6(1),e.Q6J("renderDocument",t.renderDocument),e.xp6(1),e.Q6J("ngIf",t.contentEditable),e.xp6(1),e.Q6J("ngIf",t.contentEditable)}}let Ot=(()=>{class n{constructor(t,o,i,a,l){this.breakpointObserver=t,this._bottomSheet=o,this.editorService=i,this.location=a,this.router=l,this.contentEditable=!0,this.onSaveContent=new e.vpe,this.changeTrigerFormArray=new e.vpe,this.isShowContronller=!1}ngOnInit(){console.log(this.renderDocument),this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(t=>{this.isShowContronller=!t.matches})}onSave(){this.onSaveContent.emit(this.editorService.onSaveDocument(this.renderDocument))}openBottomSheet(t){this.editorControllerBottomSheetRef=this._bottomSheet.open(t)}onPrint(){let t=window.open("","PRINT",`width=${window.innerWidth},height=${window.innerHeight}`);t?.document.write("<html><head><title>"+document.title.toUpperCase()+" PRINTER</title>"),t?.document.write("</head><body >");const o=document.getElementById(`${this.renderDocument?.key}-CONTENT`),i=document.createElement("DIV");i&&(i.innerHTML=o?.outerHTML,i.childNodes[0].style.padding=0),t?.document.write(i?.outerHTML),t?.document.write("</body></html>"),t?.document.close(),t?.focus(),t?.print()}onChangeTrigerFormArray(t){this.changeTrigerFormArray.emit(t)}onBack(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.Yg),e.Y36(Pe.ch),e.Y36(B.TB),e.Y36(d.Ye),e.Y36(T.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["caodaion-editor"]],inputs:{renderDocument:"renderDocument",formControlLabel:"formControlLabel",pageSize:"pageSize",contentEditable:"contentEditable"},outputs:{onSaveContent:"onSaveContent",changeTrigerFormArray:"changeTrigerFormArray"},decls:9,vars:7,consts:[[1,"caodaion-editor"],[4,"ngIf"],[1,"drawer-content-wrapper",3,"id"],[3,"renderDocument","contentEditable","pageSize"],["class","editor-controller",3,"mode","opened","position",4,"ngIf"],["mat-fab","","class","edit-content-fab",3,"color","click",4,"ngIf"],["editorControllerBottomSheet",""],[1,"editor-controller",3,"mode","opened","position"],[1,"d-flex","justify-content-between"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-stroked-button","","color","default",3,"click"],[3,"label"],[3,"renderDocument","changeTrigerFormArray"],[3,"label",4,"ngIf"],["mat-fab","",1,"edit-content-fab",3,"color","click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer-content"),e.YNc(2,Ft,2,0,"mat-toolbar",1),e.TgZ(3,"div",2),e._UZ(4,"cp-content-editor",3),e.qZA()(),e.YNc(5,At,14,7,"mat-drawer",4),e.qZA(),e.YNc(6,Dt,3,1,"button",5),e.YNc(7,kt,13,4,"ng-template",null,6,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",o.isShowContronller&&o.contentEditable),e.xp6(1),e.Q6J("id","caodaionEditorDrawer"),e.xp6(1),e.Q6J("renderDocument",o.renderDocument)("contentEditable",o.contentEditable)("pageSize",o.pageSize),e.xp6(1),e.Q6J("ngIf",o.contentEditable),e.xp6(1),e.Q6J("ngIf",!o.isShowContronller&&o.contentEditable))},dependencies:[d.O5,We,yt,H.jA,H.kh,H.LW,Et.Ye,ae.uX,ae.SP,Z.lW,Z.cs,I.Hw,Qe],styles:[".caodaion-editor{display:flex;flex-direction:column;width:100%;height:100%;background-color:transparent}  .caodaion-editor cp-content-editor{flex:1}  .caodaion-editor mat-drawer{min-width:300px;width:300px;background-color:#fff;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  .caodaion-editor mat-drawer .mat-drawer-inner-container{display:flex;flex-direction:column;overflow:hidden;height:100%}  .caodaion-editor mat-drawer .mat-drawer-inner-container mat-tab-group{flex:1;overflow:auto;position:relative}  .caodaion-editor mat-drawer-content{display:flex;flex-direction:column}  .caodaion-editor mat-toolbar{position:sticky;top:0;border-bottom:solid 1px #f4eff4;background-color:#fff;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  .caodaion-editor mat-toolbar cp-toolbar-editor{width:100%}  .caodaion-editor .drawer-content-wrapper{flex:1;overflow:auto}  .mat-tab-label{min-width:0!important;width:100%}  .edit-content-fab{position:fixed;right:2rem;bottom:calc(77px + 2rem);z-index:9}  .print-content-fab{position:fixed;right:2rem;bottom:calc(77px + 6rem);z-index:9}  mat-bottom-sheet-container{display:flex!important;flex-direction:column;overflow:hidden!important}  mat-bottom-sheet-container .mat-mdc-tab-group{max-width:100%;flex:1;overflow:hidden;height:100%}"]}),n})();function Zt(n,r){1&n&&e._UZ(0,"mat-progress-bar",3)}function It(n,r){1&n&&(e.TgZ(0,"div",4)(1,"mat-icon",5),e._uU(2,"error_outline"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"H\xe3y ho\xe0n th\xe0nh to\xe0n t\u1ea5t c\u1ea3 th\xf4ng tin b\u1eaft bu\u1ed9c tr\u01b0\u1edbc khi l\u01b0u"),e.qZA()())}let le=(()=>{class n{constructor(t,o,i,a,l,s,u,m){this.editorService=t,this.cauSieuVoViService=o,this.authService=i,this.route=a,this.breakpointObserver=l,this.router=s,this._snackBar=u,this.matDialog=m,this.horizontalPosition="center",this.verticalPosition="bottom",this.isLoading=!1,this.contentEditable=!1}ngOnInit(){this.authService.currentUser?.role?.includes("administrator")?(this._id=void 0,this.route.params.subscribe(t=>{this._id=t._id}),this.onGetDocument("cau-sieu-vo-vi")):this.router.navigate(["/tac-vu"]),this.authService.currentUser?.role?.includes("administrator")?(this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(t=>{this.contentEditable=!t.matches}),this._id=void 0,this.route.params.subscribe(t=>{this._id=t._id}),this.onGetDocument("cau-sieu-vo-vi")):this.router.navigate(["/tac-vu"])}onGetDocument(t){this.isLoading=!0,this._id?this.cauSieuVoViService.getCauSieuVoViById(this._id).subscribe(o=>{o&&(this.cauSieuVoVi=o.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(i=>{this.so=i.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this.isLoading=!1}))},o=>{this.isLoading=!1,console.log(o)}):this.editorService.getJSON(t).subscribe(o=>{this.so=o.data,this.isLoading=!1})}onSaveCauSieuVoVi(t,o){this.isLoading=!0;let i=[];const a=l=>{l?.forEach(s=>{s?.control?.forEach(u=>{let m=i?.find(x=>x?.key===s.key);"formArray"!==u?.type?u?.required&&!u?.value&&(m?m.control.push(u):i.push({key:s?.key,title:s?.title,control:[u]})):a(u?.value)})})};if(a(t?.formGroup),i?.length>0)this.errorGroup=i,this.errorMessageDialogRef=this.matDialog.open(o),this.isLoading=!1;else{let l=new B.T;l._id=t._id,l.documentKey=t.documentKey,l.formGroup=t.formGroup;const s=l.formGroup?.find(_=>"thong-tin-chung"===_.key)?.control,u=s?.find(_=>"nam-dao"===_.key)?.value,m=s?.find(_=>"nam-am-lich"===_.key)?.value,x=s?.find(_=>"thang-am-lich"===_.key)?.value,on=s?.find(_=>"ngay-am-lich"===_.key)?.value;l.key=this.editorService.generatedSlug(`csvv ${u} ${m} ${x} ${on}`);let F,w,de=localStorage.getItem("csvv");de&&(F=JSON.parse(de)),w=F,F?.data&&F.data.length>0?F?.data?.find(_=>_?.key===this._id)?(F?.data?.findIndex(_=>_.key===this._id),w.data[F?.data?.findIndex(_=>_.key===this._id)]=l):w?.data.push(l):w={data:[l]},this._id?this.cauSieuVoViService.updateCauSieuVoVi(w,l?.key).subscribe(_=>{_?(this.isLoading=!1,this.cauSieuVoVi=_.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(ne=>{this.so=ne.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this._id=this.so._id,this._snackBar.open("L\u01b0u th\xe0nh c\xf4ng","T\u1eaft",{duration:5,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})):this.isLoading=!1}):this.cauSieuVoViService.addCauSieuVoVi(w,l?.key).subscribe(_=>{_?(this.isLoading=!1,this.cauSieuVoVi=_.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(ne=>{this.so=ne.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this._id=this.so._id,this._snackBar.open("L\u01b0u th\xe0nh c\xf4ng","T\u1eaft",{duration:5,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})):this.isLoading=!1})}}onChangeTrigerFormArray(t){if(t.value){let o=t.value?.trim().replace(new RegExp("[,;.\n]","g"),""),i=o.split(new RegExp("[0-9]","g"));i=i.filter(u=>!!u&&"t"!==u);let a=[],s=this.so.formGroup.find(u=>u.key===t.targetFormGroupKey).control.find(u=>u.key===t.targetFormControlKey);i.forEach((u,m)=>{(u=u.trim()).slice(0,1)===u.slice(0,1).toLowerCase()&&"t"===u.slice(0,1)&&(u=(u=u.slice(1)).trim()),a.push({name:u,age:parseInt(o.slice(o.indexOf(u)+u.length+1,o.indexOf(i[m+1]))?.replace("t",""))})}),a.forEach(u=>{if(u?.name&&u?.age){let m=new $,x=new $;m.autocomplete=s.addTemplate[0].autocomplete,m.label=s.addTemplate[0].label,m.placeholder=s.addTemplate[0].placeholder,m.required=s.addTemplate[0].required,m.suffix=s.addTemplate[0].suffix,m.type=s.addTemplate[0].type,m.value=u?.name,x.autocomplete=s.addTemplate[1].autocomplete,x.label=s.addTemplate[1].label,x.placeholder=s.addTemplate[1].placeholder,x.required=s.addTemplate[1].required,x.suffix=s.addTemplate[1].suffix,x.type=s.addTemplate[1].type,x.value=u?.age,s.value.push({control:[m,x]})}}),t.value=""}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.TB),e.Y36(Q),e.Y36(D.e),e.Y36(T.gz),e.Y36(A.Yg),e.Y36(T.F0),e.Y36(W.ux),e.Y36(k.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-content"]],decls:5,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[3,"formControlLabel","renderDocument","contentEditable","onSaveContent","changeTrigerFormArray"],["errorMessageDialog",""],["mode","indeterminate"],[1,"error-message-dialog"],["color","warn"]],template:function(t,o){if(1&t){const i=e.EpF();e.YNc(0,Zt,1,0,"mat-progress-bar",0),e.TgZ(1,"caodaion-editor",1),e.NdJ("onSaveContent",function(l){e.CHM(i);const s=e.MAs(4);return e.KtG(o.onSaveCauSieuVoVi(l,s))})("changeTrigerFormArray",function(l){return o.onChangeTrigerFormArray(l)}),e._UZ(2,"caodaion-editor"),e.qZA(),e.YNc(3,It,5,0,"ng-template",null,2,e.W1O)}2&t&&(e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("formControlLabel","S\u1eda")("renderDocument",o.so)("contentEditable",o.contentEditable))},dependencies:[d.O5,Ot,I.Hw,p.pW]}),n})();const Bt=[{path:"",component:R},{path:"them-moi",component:le},{path:":_id",component:le}];let Jt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[T.Bz.forChild(Bt),T.Bz]}),n})();var Lt=c(4760);c(5017),c(7579),c(1135),c(5191),c(9646),c(2722),c(1281),c(445);let Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Rt,f.BQ,f.BQ]}),n})(),nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,Lt.l,Jt,S.N6,M.QW,I.Ps,k.Is,tn,W.ZX,p.Cv,f.si]}),n})()},3162:(ce,V,c)=>{c.d(V,{Cv:()=>M,pW:()=>D});var d=c(4650),e=(c(6895),c(3238)),E=c(1281);const N=new d.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),A=(0,e.pj)(class{constructor(p){this._elementRef=p}},"primary");let D=(()=>{class p extends A{constructor(g,b,R,k,h){super(g),this._ngZone=b,this._changeDetectorRef=R,this._animationMode=k,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new d.vpe,this._mode="determinate",this._transitionendHandler=O=>{0===this.animationEnd.observers.length||!O.target||!O.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===k,h&&(h.color&&(this.color=this.defaultColor=h.color),this.mode=h.mode||this.mode)}get value(){return this._value}set value(g){this._value=S((0,E.su)(g)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(g){this._bufferValue=S((0,E.su)(g)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(g){this._mode=g,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return p.\u0275fac=function(g){return new(g||p)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(d.QbO,8),d.Y36(N,8))},p.\u0275cmp=d.Xpm({type:p,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(g,b){2&g&&(d.uIk("aria-valuenow",b._isIndeterminate()?null:b.value)("mode",b.mode),d.ekj("_mat-animation-noopable",b._isNoopAnimation)("mdc-linear-progress--animation-ready",!b._isNoopAnimation)("mdc-linear-progress--indeterminate",b._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[d.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(g,b){1&g&&(d.TgZ(0,"div",0),d._UZ(1,"div",1)(2,"div",2),d.qZA(),d.TgZ(3,"div",3),d._UZ(4,"span",4),d.qZA(),d.TgZ(5,"div",5),d._UZ(6,"span",4),d.qZA()),2&g&&(d.xp6(1),d.Udp("flex-basis",b._getBufferBarFlexBasis()),d.xp6(2),d.Udp("transform",b._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),p})();function S(p,f=0,g=100){return Math.max(f,Math.min(g,p))}let M=(()=>{class p{}return p.\u0275fac=function(g){return new(g||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({imports:[e.BQ]}),p})()}}]);