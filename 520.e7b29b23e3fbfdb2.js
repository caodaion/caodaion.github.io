"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[520],{1746:(I,B,i)=>{i.d(B,{T:()=>f});var t=i(4650),v=i(9299),h=i(2289),p=i(6895),C=i(9982),_=i(4850),d=i(7392);function M(T,x){if(1&T){const g=t.EpF();t.TgZ(0,"a",2),t.NdJ("click",function(){t.CHM(g);const Z=t.oxw();return t.KtG(Z.onNavigate(Z.prev))}),t.TgZ(1,"div",3)(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()}if(2&T){const g=t.oxw();t.xp6(5),t.Oqu(null==g.prev?null:g.prev.text)}}function c(T,x){if(1&T){const g=t.EpF();t.TgZ(0,"a",2),t.NdJ("click",function(){t.CHM(g);const Z=t.oxw();return t.KtG(Z.onNavigate(Z.next))}),t.TgZ(1,"div",3)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5,"arrow_forward"),t.qZA()()()}if(2&T){const g=t.oxw();t.xp6(3),t.Oqu(null==g.next?null:g.next.text)}}class f{constructor(x,g,y){this.router=x,this.route=g,this.breakpointObserver=y,this.then=new t.vpe,this.isRequiredHide=!1}ngOnInit(){this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(x=>{this.isRequiredHide=!!x.matches})}onNavigate(x){this.router.navigate([x?.navigate?.link],{queryParams:x?.navigate?.queryParams}).then(()=>{this.isRequiredHide&&localStorage.setItem("currentLayout",JSON.stringify({isHideToolbar:!0,isHideBottomNavBar:!0})),this.then?.emit()})}static#t=this.\u0275fac=function(g){return new(g||f)(t.Y36(v.F0),t.Y36(v.gz),t.Y36(h.Yg))};static#e=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-bottom-navigator"]],inputs:{prev:"prev",next:"next"},outputs:{then:"then"},decls:4,vars:2,consts:[[1,"bottom-navbar","d-flex"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],[1,"w-100","d-flex","justify-content-center","align-items-center"]],template:function(g,y){1&g&&(t._UZ(0,"mat-divider"),t.TgZ(1,"mat-nav-list",0),t.YNc(2,M,6,1,"a",1),t.YNc(3,c,6,1,"a",1),t.qZA()),2&g&&(t.xp6(2),t.Q6J("ngIf","/"!==(null==y.prev||null==y.prev.navigate?null:y.prev.navigate.link)),t.xp6(1),t.Q6J("ngIf","/"!==(null==y.next||null==y.next.navigate?null:y.next.navigate.link)))},dependencies:[p.O5,C.U,C.oh,_.d,d.Hw],styles:[".bottom-navbar{background-color:#f6f8fc;display:flex;padding-top:0}  .bottom-navbar .mat-list-item{width:100%}"]})}},7726:(I,B,i)=>{i.d(B,{e:()=>_});var t=i(6895),v=i(9982),h=i(7392),p=i(4850),C=i(4650);class _{static#t=this.\u0275fac=function(c){return new(c||_)};static#e=this.\u0275mod=C.oAB({type:_});static#n=this.\u0275inj=C.cJS({imports:[t.ez,v.gR,p.t,h.Ps]})}},8974:(I,B,i)=>{i.d(B,{S:()=>R});var t=i(4650),v=i(2289),h=i(6256),p=i(6895),C=i(5001),_=i(9299),d=i(7392),M=i(4859),c=i(266),f=i(9549),T=i(284),x=i(4850),g=i(8255);function y(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div",4)(1,"button",2),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.formatContent({fontWeight:"bold"}))}),t.TgZ(2,"mat-icon"),t._uU(3,"format_bold"),t.qZA()(),t._UZ(4,"mat-divider",5),t.qZA()}2&r&&(t.xp6(4),t.Q6J("vertical",!0))}function Z(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div",4)(1,"button",6)(2,"mat-icon"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-menu",null,7)(6,"button",8),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.formatContent({textAlign:"left"}))}),t.TgZ(7,"mat-icon"),t._uU(8,"format_align_left"),t.qZA()(),t.TgZ(9,"button",8),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.formatContent({textAlign:"center"}))}),t.TgZ(10,"mat-icon"),t._uU(11,"format_align_center"),t.qZA()(),t.TgZ(12,"button",8),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.formatContent({textAlign:"right"}))}),t.TgZ(13,"mat-icon"),t._uU(14,"format_align_right"),t.qZA()(),t.TgZ(15,"button",8),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.formatContent({textAlign:"justify"}))}),t.TgZ(16,"mat-icon"),t._uU(17,"format_align_justify"),t.qZA()()(),t._UZ(18,"mat-divider",5),t.qZA()}if(2&r){const e=t.MAs(5),n=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(2),t.hij("format_align_",n.textAlign,""),t.xp6(3),t.Q6J("disabled","left"==n.textAlign),t.xp6(3),t.Q6J("disabled","center"==n.textAlign),t.xp6(3),t.Q6J("disabled","right"==n.textAlign),t.xp6(3),t.Q6J("disabled","justify"==n.textAlign),t.xp6(3),t.Q6J("vertical",!0)}}function w(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div",0)(1,"mat-form-field",9)(2,"mat-label"),t._uU(3,"M\xe3 \u0111\u1ecbnh danh"),t.qZA(),t.TgZ(4,"input",10),t.NdJ("blur",function(l){t.CHM(e);const u=t.oxw();return t.KtG(u.changeKey(l))}),t.qZA()(),t.TgZ(5,"mat-form-field",9)(6,"mat-label"),t._uU(7,"Li\xean k\u1ebft \u0111\u1ecbnh danh"),t.qZA(),t.TgZ(8,"input",10),t.NdJ("blur",function(l){t.CHM(e);const u=t.oxw();return t.KtG(u.changeHash(l))}),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(4),t.Q6J("value",e.data.key),t.xp6(4),t.Q6J("value",e.data.attrs.hash)}}class A{constructor(){this.textAlign="justify"}ngOnInit(){const a=(n,l)=>{let u;return n.some(E=>u=E.key===l?E:a(E.content||[],l)),u},e=document.getSelection();if("contentBlock"==this.data.type&&e){const n=a(this.data.content,e?.focusNode?.parentNode?.id);n?.attrs&&(this.textAlign=n.attrs.textAlign||"justify")}}formatContent(a){const e=(n,l)=>{let u;return n.some(E=>u=E.key===l?E:e(E.content||[],l)),u};if("bold"==a.fontWeight&&document.execCommand("bold"),a.textAlign){const n=document.getSelection();"contentBlock"==this.data.type&&n&&n.focusNode?.parentNode&&e(this.data.content,n?.focusNode?.parentNode?.id)&&(e(this.data.content,n?.focusNode?.parentNode?.id).attrs||(e(this.data.content,n?.focusNode?.parentNode?.id).attrs={}),e(this.data.content,n?.focusNode?.parentNode?.id).attrs.textAlign=a.textAlign,document.getElementById(n?.focusNode?.parentNode?.id).style.textAlign=a.textAlign||"justify")}}changeKey(a){this.data.key=a.target.value}changeHash(a){this.data.attrs.hash=a.target.value}static#t=this.\u0275fac=function(e){return new(e||A)};static#e=this.\u0275cmp=t.Xpm({type:A,selectors:[["cp-creator-block-toolbar"]],inputs:{data:"data"},decls:7,vars:3,consts:[[1,"d-flex"],["class","text-setting-group d-flex",4,"ngIf"],["mat-icon-button","",3,"click"],["class","d-flex",4,"ngIf"],[1,"text-setting-group","d-flex"],[3,"vertical"],["mat-icon-button","",3,"matMenuTriggerFor"],["alignContentMenu","matMenu"],["mat-menu-item","",3,"disabled","click"],["appearance","fill",1,"setting-form-field"],["matInput","",3,"value","blur"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,y,5,1,"div",1),t.YNc(2,Z,19,7,"div",1),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.isShowSetting=!n.isShowSetting}),t.TgZ(4,"mat-icon"),t._uU(5,"settings"),t.qZA()(),t.YNc(6,w,9,2,"div",3),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf","contentBlock"==n.data.type),t.xp6(1),t.Q6J("ngIf","contentBlock"==n.data.type),t.xp6(4),t.Q6J("ngIf",n.isShowSetting))},dependencies:[p.O5,M.RK,d.Hw,f.KE,f.hX,T.Nt,x.d,g.VK,g.OP,g.p6],styles:["cp-creator-block-toolbar{position:absolute;bottom:100%;left:0;background:white;border-radius:4px;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003;padding:.5rem 0}  cp-creator-block-toolbar *{color:#000}  cp-creator-block-toolbar .mat-mdc-form-field-subscript-wrapper{display:none}  cp-creator-block-toolbar .setting-form-field{margin-right:.5rem}  cp-creator-block-toolbar .mat-mdc-icon-button{height:24px;width:24px;padding:0}  cp-creator-block-toolbar .mat-mdc-icon-button .mat-mdc-button-touch-target{height:24px;width:24px}"]})}function U(r,a){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.text)}}const P=function(r,a,e,n,l,u,E){return{textAlign:r,color:a,fontWeight:e,fontStyle:n,fontSize:l,textDecoration:u,textIndent:E}};function O(r,a){if(1&r&&(t.TgZ(0,"span",8),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit;t.Q6J("ngStyle",t.Hh0(2,P,null!=e&&null!=e.attrs&&e.attrs.textAlign?null==e||null==e.attrs?null:e.attrs.textAlign:"jusify",null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e||null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration,null==e||null==e.attrs?null:e.attrs.textIndent)),t.xp6(1),t.Oqu(e.text)}}function G(r,a){if(1&r&&(t.ynx(0),t.YNc(1,U,2,1,"ng-container",6),t.YNc(2,O,2,10,"span",7),t.BQk()),2&r){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","text"==e.type&&!e.attrs),t.xp6(1),t.Q6J("ngIf","text"==e.type&&e.attrs)}}const H=function(r,a,e,n,l,u,E){return{textAlign:r,color:a,fontWeight:e,fontStyle:n,fontSize:l,textDecoration:u,textIndent:E,margin:0}};function K(r,a){if(1&r&&(t.TgZ(0,"p",5),t.YNc(1,G,3,2,"ng-container",1),t.qZA()),2&r){const e=t.oxw().$implicit;t.Q6J("id",e.key)("ngStyle",t.Hh0(3,H,null!=e&&null!=e.attrs&&e.attrs.textAlign?null==e||null==e.attrs?null:e.attrs.textAlign:"jusify",null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e||null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration,null==e||null==e.attrs?null:e.attrs.textIndent)),t.xp6(1),t.Q6J("ngForOf",e.content)}}function L(r,a){if(1&r&&(t.ynx(0),t.YNc(1,K,2,11,"p",4),t.BQk()),2&r){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","paragraph"==e.type)}}function S(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.getLink(l.data))}),t.TgZ(1,"mat-icon"),t._uU(2,"link"),t.qZA()()}}function m(r,a){if(1&r&&t._UZ(0,"cp-creator-block-toolbar",10),2&r){const e=t.oxw();t.Q6J("data",e.data)}}class b{constructor(a,e,n){this._snackBar=a,this.eRef=e,this.authService=n,this.durationInSeconds=3,this.horizontalPosition="start",this.verticalPosition="bottom",this.focusedBlock=new t.vpe,this.updated=!1}click(a){this.eRef.nativeElement.contains(a.target)?this.authService.contentEditable?this.data.focused=!0:this.data.attrs.pathname&&this.data.attrs.hash&&(this.eRef.nativeElement.style.color="#4285f4"):(this.eRef.nativeElement.style.color="unset",this.data.focused=!1,this.focusedBlock.emit(this.data))}ngOnChanges(){(!this.data.content||0==this.data.content.length)&&"contentBlock"==this.data.type&&(this.data.content=[{key:`${this.data.key}p0`,type:"paragraph",content:[{type:"text",text:"\n"}]}])}getLink(a){a?.attrs?.pathname&&a?.attrs?.hash&&(navigator.clipboard.writeText(`${location.origin}${a?.attrs?.pathname}${a?.attrs?.hash}`),this._snackBar.open("\u0110\xe3 sao ch\xe9p li\xean k\u1ebft \u0111\u1ebfn \u0111o\u1ea1n kinh n\xe0y","\u0110\xf3ng",{duration:200*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition}))}onTab(a){a.preventDefault();const n=document.getSelection()?.getRangeAt(0),u=document.createTextNode("\t");n?.insertNode(u),n?.setStartAfter(u),n?.setEndAfter(u)}onEnter(a){document.execCommand("insertLineBreak"),a.preventDefault()}onBlur(a){this.updated&&[...a?.target?.children].forEach(e=>{const n=(l,u)=>{let E;return l.some(Y=>E=Y.key===u?Y:n(Y.content||[],u)),E};n(this.data.content,e.id)&&(n(this.data.content,e.id).content=[],e.children&&0!=e.children.length?e.childNodes&&e.childNodes.length>0&&([...e.childNodes].filter(l=>"#comment"!==l?.nodeName)?.forEach(l=>{"#text"==l.nodeName&&n(this.data.content,e.id).content.push({type:"text",text:l.data}),("B"==l.nodeName||"STRONG"==l.nodeName)&&n(this.data.content,e.id).content.push({type:"text",text:l.innerHTML,attrs:{fontWeight:"bold"}})}),e.innerHTML=n(this.data.content,e.id).content.map(l=>"bold"===l?.attrs?.fontWeight?`<b>${l.text}</b>`:l.text).join(""),this.updated=!1):(n(this.data.content,e.id).content.push({type:"text",text:e.innerText}),e.innerHTML=e.innerText,this.updated=!1))})}static#t=this.\u0275fac=function(e){return new(e||b)(t.Y36(C.pl),t.Y36(t.SBq),t.Y36(h.e))};static#e=this.\u0275cmp=t.Xpm({type:b,selectors:[["cp-creator-content"]],hostBindings:function(e,n){1&e&&t.NdJ("click",function(u){return n.click(u)},!1,t.evT)},inputs:{data:"data"},outputs:{focusedBlock:"focusedBlock"},features:[t.TTD],decls:4,vars:4,consts:[[1,"creator-content-editable",2,"box-sizing","border-box","cursor","text","line-height","1.42","outline","none","overflow-y","auto","tab-size","6","-moz-tab-size","6","white-space","pre-wrap","text-align","jutify","word-wrap","break-word","font-size","18px","overflow","hidden","text-align","justify","user-select","text",3,"contentEditable","blur","input","keydown.enter","keydown.tab"],[4,"ngFor","ngForOf"],["mat-icon-button","","class","targetButton","matTooltip","Sao ch\xe9p li\xean k\u1ebft",3,"click",4,"ngIf"],[3,"data",4,"ngIf"],[3,"id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],[4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["mat-icon-button","","matTooltip","Sao ch\xe9p li\xean k\u1ebft",1,"targetButton",3,"click"],[3,"data"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("blur",function(u){return n.onBlur(u)})("input",function(){return n.updated=!0})("keydown.enter",function(u){return n.onEnter(u)})("keydown.tab",function(u){return n.onTab(u)}),t.YNc(1,L,2,1,"ng-container",1),t.qZA(),t.YNc(2,S,3,0,"button",2),t.YNc(3,m,1,1,"cp-creator-block-toolbar",3)),2&e&&(t.Q6J("contentEditable",n.authService.contentEditable),t.xp6(1),t.Q6J("ngForOf",n.data.content),t.xp6(1),t.Q6J("ngIf",n.data.attrs.pathname&&n.data.attrs.hash),t.xp6(1),t.Q6J("ngIf",n.data.focused))},dependencies:[p.sg,p.O5,p.PC,d.Hw,M.RK,c.gM,A],styles:["cp-creator-content{display:block;position:relative}  cp-creator-content [contenteditable][placeholder]:empty:before{content:attr(placeholder);position:absolute;color:gray;background-color:transparent}  cp-creator-content .creator-content-editable{padding:.5rem}@media only screen and (max-width: 600px){  cp-creator-content .creator-content-editable{tab-size:2!important}}  cp-creator-content .targetButton{position:absolute;right:calc(100% - 20px);top:0;visibility:hidden;opacity:0;transition:.5s}  cp-creator-content:hover .targetButton{visibility:visible;opacity:1}"]})}const o=function(r){return{targetBlock:r}};function s(r,a){if(1&r&&t._UZ(0,"cp-creator-content",8),2&r){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("data",e)("id",n.getId(e))("ngClass",t.VKq(3,o,"contentBlock"==e.type))}}function k(r,a){if(1&r&&(t.ynx(0),t.YNc(1,s,1,5,"cp-creator-content",7),t.BQk()),2&r){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","contentBlock"==e.type)}}function N(r,a){if(1&r&&t._UZ(0,"cp-creator-block-toolbar",9),2&r){const e=t.oxw();t.Q6J("data",e.data)}}class D{constructor(a,e,n,l){this._snackBar=a,this.eRef=e,this.authService=n,this.router=l,this.durationInSeconds=3,this.horizontalPosition="start",this.verticalPosition="bottom",this.focusedBlock=new t.vpe}clickout(a){this.authService.contentEditable&&this.eRef.nativeElement.contains(a.target)?(this.data.focused=!0,this.focusedBlock.emit(this.data)):this.data.focused=!1}ngOnChanges(){}getId(a){return a.key.replaceAll("-","")}getLink(a,e=!1){e?a?.attrs?.hash?.includes("#")?this.router.navigate([a?.attrs?.pathname],{fragment:a?.attrs?.hash.replace("#","")}):this.router.navigate([`${a?.attrs?.pathname}${a?.attrs?.hash||""}`]):(navigator.clipboard.writeText(`${location.origin}${a?.attrs?.pathname}${a?.attrs?.hash}`),this._snackBar.open("\u0110\xe3 sao ch\xe9p li\xean k\u1ebft \u0111\u1ebfn \u0111o\u1ea1n kinh n\xe0y","\u0110\xf3ng",{duration:200*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition}))}changeValue(a){this.data.name=a.target.innerText,a.target.innerText=a.target.innerHTML}static#t=this.\u0275fac=function(e){return new(e||D)(t.Y36(C.pl),t.Y36(t.SBq),t.Y36(h.e),t.Y36(_.F0))};static#e=this.\u0275cmp=t.Xpm({type:D,selectors:[["cp-creator-block"]],hostBindings:function(e,n){1&e&&t.NdJ("click",function(u){return n.clickout(u)},!1,t.evT)},inputs:{data:"data"},outputs:{focusedBlock:"focusedBlock"},features:[t.TTD],decls:12,vars:4,consts:[[1,"creator-block-title","position-relative"],[1,"d-flex","align-items-center","justify-content-between"],[1,"w-100",3,"contentEditable","blur"],["mat-icon-button","","matTooltip","\u0110\u1ecdc ri\xeang b\xe0i n\xe0y",1,"redirectButton",3,"click"],["mat-icon-button","","matTooltip","Sao ch\xe9p li\xean k\u1ebft",1,"targetButton",3,"click"],[4,"ngFor","ngForOf"],[3,"data",4,"ngIf"],[3,"data","id","ngClass",4,"ngIf"],[3,"data","id","ngClass"],[3,"data"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t.NdJ("blur",function(u){return n.changeValue(u)}),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.getLink(n.data,!0)}),t.TgZ(5,"mat-icon"),t._uU(6,"local_library"),t.qZA()()(),t.TgZ(7,"button",4),t.NdJ("click",function(){return n.getLink(n.data)}),t.TgZ(8,"mat-icon"),t._uU(9,"link"),t.qZA()()(),t.YNc(10,k,2,1,"ng-container",5),t.YNc(11,N,1,1,"cp-creator-block-toolbar",6)),2&e&&(t.xp6(2),t.Q6J("contentEditable",n.authService.contentEditable),t.xp6(1),t.Oqu(n.data.name),t.xp6(7),t.Q6J("ngForOf",n.data.content),t.xp6(1),t.Q6J("ngIf",n.data.focused))},dependencies:[p.mk,p.sg,p.O5,b,M.RK,d.Hw,c.gM,A],styles:["cp-creator-block{padding:0 3rem 2rem;display:block;border-bottom:1px solid #e0e0e0;position:relative}@media only screen and (max-width: 600px){  cp-creator-block{padding:0}}  cp-creator-block .creator-block-title .targetButton{position:absolute;right:calc(100% - 20px);top:calc(0% - 10px);visibility:hidden;opacity:0;transition:.5s}  cp-creator-block .creator-block-title .redirectButton{position:absolute;left:calc(100% - 20px);top:calc(0% - 10px);visibility:hidden;opacity:0;transition:.5s}  cp-creator-block .creator-block-title:hover .targetButton,   cp-creator-block .creator-block-title:hover .redirectButton{visibility:visible;opacity:1}"]})}var J=i(3267),F=i(3848),$=i(4006),W=i(1948);function j(r,a){if(1&r&&(t.TgZ(0,"mat-radio-button",16),t._uU(1),t.qZA()),2&r){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function V(r,a){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13)(2,"mat-label"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-radio-group",14),t.NdJ("ngModelChange",function(l){t.CHM(e);const u=t.oxw().$implicit;return t.KtG(u.value=l)}),t.YNc(5,j,2,2,"mat-radio-button",15),t.qZA(),t.BQk()}if(2&r){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(null==e?null:e.label),t.xp6(1),t.Q6J("ngModel",e.value),t.xp6(1),t.Q6J("ngForOf",null==e?null:e.data)}}function z(r,a){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",5)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"input",7),t.NdJ("ngModelChange",function(l){t.CHM(e);const u=t.oxw().$implicit;return t.KtG(u.value=l)}),t.qZA()(),t.BQk()}if(2&r){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(null==e?null:e.label),t.xp6(1),t.Q6J("ngModel",e.value)}}function X(r,a){if(1&r&&(t.ynx(0),t.YNc(1,V,6,3,"ng-container",12),t.YNc(2,z,5,2,"ng-container",12),t.BQk()),2&r){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","radio"==(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","shortText"==(null==e?null:e.type))}}class Q{constructor(){this.save=new t.vpe}ngOnInit(){this.data=={}&&(this.data={name:"",key:""})}saveData(){this.save.emit()}addNewContentBlock(){"contentBlock"==this.focusedBlock?.type&&this.data.content.push({key:`${location.pathname.slice(1,location.pathname.length).split("/").slice(1).join("-").replaceAll("-","")}${this.data.content.length||0}`,attrs:{pathname:location.pathname,hash:`#${this.data.content.length}`},type:"contentBlock"}),"block"==this.focusedBlock?.type&&this.focusedBlock.content.push({key:`${(location.pathname+this.focusedBlock.attrs.hash).slice(1,(location.pathname+this.focusedBlock.attrs.hash).length).split("/").slice(1).join("-").replaceAll("-","")}${this.focusedBlock.content.length||0}`,attrs:{pathname:location.pathname+this.focusedBlock.attrs.hash,hash:`#${this.focusedBlock.content.length||0}`},type:"contentBlock"})}addNewBlock(){(!this.data.content||0==this.data.content.length)&&(this.data.content=[]),"block"==this.focusedBlock?.type&&this.data.content.push({key:`${location.pathname.slice(1,location.pathname.length).split("/").slice(1).join("-").replaceAll("-","")}b${this.data.content.length||0}`,attrs:{pathname:location.pathname,hash:`/b${this.data.content.length}`},content:[{key:`${location.pathname.slice(1,location.pathname.length).split("/").slice(1).join("-").replaceAll("-","")}b${this.data.content.length||0}`,attrs:{pathname:`${location.pathname}/b${this.data.content.length}`,hash:"#0"},type:"contentBlock"}],type:"block"})}static#t=this.\u0275fac=function(e){return new(e||Q)};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["cp-content-creator-toolbar"]],inputs:{data:"data",focusedBlock:"focusedBlock"},outputs:{save:"save"},decls:25,vars:4,consts:[[1,"cp-creator-toolbar"],["mat-raised-button","","color","primary",3,"click"],[1,"toolbar-content"],["label","C\xe0i \u0111\u1eb7t"],[1,"w-100","form-group"],["appearance","fill",1,"w-100"],["matInput","","disabled","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["label","Ch\xe8n"],["mat-icon-button","",3,"disabled","click"],["mat-icon-button","",3,"click"],[4,"ngIf"],[1,"w-100"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"button",1),t.NdJ("click",function(){return n.saveData()}),t._uU(3," L\u01b0u "),t.qZA()(),t.TgZ(4,"div",2)(5,"mat-tab-group")(6,"mat-tab",3)(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),t._uU(10,"M\xe3 \u0111\u1ecbnh danh"),t.qZA(),t.TgZ(11,"input",6),t.NdJ("ngModelChange",function(u){return n.data.key=u}),t.qZA()(),t.TgZ(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"T\xean"),t.qZA(),t.TgZ(15,"input",7),t.NdJ("ngModelChange",function(u){return n.data.name=u}),t.qZA()(),t.YNc(16,X,3,2,"ng-container",8),t.qZA()(),t.TgZ(17,"mat-tab",9)(18,"div",4)(19,"button",10),t.NdJ("click",function(){return n.addNewBlock()}),t.TgZ(20,"mat-icon"),t._uU(21,"add"),t.qZA()(),t.TgZ(22,"button",11),t.NdJ("click",function(){return n.addNewContentBlock()}),t.TgZ(23,"mat-icon"),t._uU(24,"text_fields"),t.qZA()()()()()()()),2&e&&(t.xp6(11),t.Q6J("ngModel",n.data.key),t.xp6(4),t.Q6J("ngModel",n.data.name),t.xp6(1),t.Q6J("ngForOf",null==n.data?null:n.data.formGroup),t.xp6(3),t.Q6J("disabled",!n.focusedBlock||"contentBlock"==(null==n.focusedBlock?null:n.focusedBlock.type)))},dependencies:[p.sg,p.O5,M.lW,M.RK,d.Hw,F.uX,F.SP,f.KE,f.hX,T.Nt,$.Fj,$.JJ,$.On,W.VQ,W.U0],styles:[".cp-creator-toolbar{display:flex;flex-direction:column;height:100%}  .cp-creator-toolbar .toolbar-content{flex:1}  .cp-creator-toolbar .toolbar-content .form-group{padding:1rem}"]})}function q(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"cp-creator-block",8),t.NdJ("focusedBlock",function(l){t.CHM(e);const u=t.oxw(2);return t.KtG(u.focusedBlock=l)}),t.qZA()}if(2&r){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("data",e)("id",n.getId(e))}}const tt=function(r){return{targetBlock:r}};function et(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"cp-creator-content",9),t.NdJ("focusedBlock",function(l){t.CHM(e);const u=t.oxw(2);return t.KtG(u.focusedBlock=l)}),t.qZA()}if(2&r){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("data",e)("id",n.getId(e))("ngClass",t.VKq(3,tt,"contentBlock"==e.type))}}function nt(r,a){if(1&r&&(t.ynx(0),t.YNc(1,q,1,2,"cp-creator-block",6),t.YNc(2,et,1,5,"cp-creator-content",7),t.BQk()),2&r){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","block"==(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","contentBlock"==(null==e?null:e.type))}}const ot=function(r){return{contentEditable:r}};class R{constructor(a,e){this.breakpointObserver=a,this.authService=e,this.save=new t.vpe,this.isShowController=!1,this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.isShowController=!n.matches&&this.authService.contentEditable})}ngOnChanges(){(!this.data.content||0==this.data.content.length)&&"block"==this.data.type&&(this.data.content=[{key:`${location.pathname.slice(1,location.pathname.length).split("/").slice(1).join("-").replaceAll("-","")}${this.data.content.length-1||0}`,attrs:{pathname:location.pathname,hash:"#"+(this.data.content.length-1)},type:"contentBlock"}]),this.data.key||(this.data.content=[{key:`${location.pathname.slice(1,location.pathname.length).split("/").slice(1).join("-").replaceAll("-","")}${this.data.content?.length-1||0}`,attrs:{pathname:location.pathname,hash:`#${this.data.content?.length-1||0}`},type:"contentBlock"}])}getId(a){return a.key.replaceAll("-","")}saveData(){this.save.emit()}static#t=this.\u0275fac=function(e){return new(e||R)(t.Y36(v.Yg),t.Y36(h.e))};static#e=this.\u0275cmp=t.Xpm({type:R,selectors:[["cp-content-creator"]],inputs:{data:"data"},outputs:{save:"save"},features:[t.TTD],decls:6,vars:8,consts:[["autosize","",1,"cp-content-creator-mat-drawer"],["id","contentCreatorWrapper"],[1,"cp-creator-block-group",3,"ngClass"],[4,"ngFor","ngForOf"],["mode","side","opened","",3,"position","opened"],[3,"focusedBlock","data","save"],[3,"data","id","focusedBlock",4,"ngIf"],[3,"data","id","ngClass","focusedBlock",4,"ngIf"],[3,"data","id","focusedBlock"],[3,"data","id","ngClass","focusedBlock"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer-content",1)(2,"div",2),t.YNc(3,nt,3,2,"ng-container",3),t.qZA()(),t.TgZ(4,"mat-drawer",4)(5,"cp-content-creator-toolbar",5),t.NdJ("save",function(){return n.saveData()}),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(6,ot,n.isShowController)),t.xp6(1),t.Q6J("ngForOf",n.data.content),t.xp6(1),t.Q6J("position","end")("opened",n.isShowController),t.xp6(1),t.Q6J("focusedBlock",n.focusedBlock)("data",n.data))},dependencies:[p.mk,p.sg,p.O5,D,b,J.jA,J.kh,J.LW,Q],styles:["cp-content-creator{width:100%;height:100%;display:flex}  cp-content-creator .mat-drawer-container{background:white;width:100%}  cp-content-creator mat-drawer{min-width:300px;width:300px;background-color:#fff;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  cp-content-creator .mat-drawer-content{overflow-y:auto;overflow-x:hidden}  cp-content-creator .cp-creator-block-group{flex:1;padding:3rem 3rem 1rem}  cp-content-creator .cp-creator-block-group.contentEditable{padding-top:5rem}@media only screen and (max-width: 600px){  cp-content-creator .cp-creator-block-group{padding:1rem}}"]})}},6038:(I,B,i)=>{i.d(B,{m:()=>A});var t=i(6895),v=i(1113),h=i(4859),p=i(7392),C=i(266),_=i(4171),d=i(4650);class M{static#t=this.\u0275fac=function(O){return new(O||M)};static#e=this.\u0275mod=d.oAB({type:M});static#n=this.\u0275inj=d.cJS({imports:[t.ez,v.x,h.ot,p.Ps,C.AV,_.h]})}var c=i(3267),f=i(3683),T=i(3848),x=i(9549),g=i(284),y=i(4006),Z=i(1948);class w{static#t=this.\u0275fac=function(O){return new(O||w)};static#e=this.\u0275mod=d.oAB({type:w});static#n=this.\u0275inj=d.cJS({imports:[t.ez,h.ot,p.Ps,T.Nh,x.lN,g.c,y.u5,Z.Fk]})}class A{static#t=this.\u0275fac=function(O){return new(O||A)};static#e=this.\u0275mod=d.oAB({type:A});static#n=this.\u0275inj=d.cJS({imports:[t.ez,M,v.x,h.ot,c.SJ,f.g0,w]})}},4171:(I,B,i)=>{i.d(B,{h:()=>S});var t=i(6895),v=i(4859),h=i(7392),p=i(9549),C=i(284),c=(i(2687),i(1281),i(5017),i(4650)),T=(i(4006),i(3238));let H=(()=>{class m{}return m.\u0275fac=function(o){return new(o||m)},m.\u0275mod=c.oAB({type:m}),m.\u0275inj=c.cJS({imports:[T.BQ,T.si,T.BQ]}),m})();var K=i(4850),L=i(8255);class S{static#t=this.\u0275fac=function(o){return new(o||S)};static#e=this.\u0275mod=c.oAB({type:S});static#n=this.\u0275inj=c.cJS({imports:[t.ez,v.ot,h.Ps,p.lN,C.c,H,K.t,L.Tx]})}},1113:(I,B,i)=>{i.d(B,{x:()=>d});var t=i(6895),v=i(7392),h=i(4859),p=i(266),C=i(4171),_=i(4650);class d{static#t=this.\u0275fac=function(f){return new(f||d)};static#e=this.\u0275mod=_.oAB({type:d});static#n=this.\u0275inj=_.cJS({imports:[t.ez,v.Ps,h.ot,p.AV,C.h]})}},8109:(I,B,i)=>{i.d(B,{d:()=>h});var t=i(4650);const v=["*"];class h{static#t=this.\u0275fac=function(_){return new(_||h)};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-header-title"]],ngContentSelectors:v,decls:1,vars:0,template:function(_,d){1&_&&(t.F$t(),t.Hsn(0))},styles:["app-header-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:20px}"]})}},3646:(I,B,i)=>{i.d(B,{G:()=>d});var t=i(4650),v=i(9299),h=i(3683),p=i(7392),C=i(4859);const _=["*"];class d{constructor(c,f){this.router=c,this.route=f,this.prevPage=".."}ngOnInit(){}onClickBackButton(){this.router.navigate([this.prevPage?.navigate?.link],{relativeTo:this.route,queryParams:this.prevPage?.navigate?.queryParams})}static#t=this.\u0275fac=function(f){return new(f||d)(t.Y36(v.F0),t.Y36(v.gz))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-header"]],inputs:{prevPage:"prevPage"},ngContentSelectors:_,decls:6,vars:0,consts:[["mat-icon-button","","aria-label","Back to previous page",1,"prev-icon",3,"click"],["mat-icon-button","","aria-label","Back to previous page",1,"prev-icon"]],template:function(f,T){1&f&&(t.F$t(),t.TgZ(0,"mat-toolbar")(1,"button",0),t.NdJ("click",function(){return T.onClickBackButton()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.Hsn(4),t._UZ(5,"button",1),t.qZA())},dependencies:[h.Ye,p.Hw,C.RK],styles:["app-header .mat-toolbar{justify-content:space-between;background-color:#f6f8fc;height:auto}"]})}}}]);