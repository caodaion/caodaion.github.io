"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[592],{1517:(M,x,f)=>{f.d(x,{s:()=>N});const N={page:{name:"CaoDaiON",description:"\u0110\u01a1n gi\u1ea3n h\xf3a c\xf4ng c\u1ee5 \u0111\u1ec3 tr\u1ef1c ti\u1ebfn n\u1ed9i t\xe2m"}}},7471:(M,x,f)=>{f.d(x,{T:()=>h,TB:()=>E});var N=f(4650),_=f(529);let E=(()=>{class u{constructor(a){this.http=a}getJSON(a){return this.http.get(`assets/documents/${a}.json`)}onChangeContent(a){this.renderedDocumentContent=void 0;let t=[],S=[],o="",i="",c="",y="",r=[],m=0;const p=e=>{e?.childNodes?.forEach((n,s)=>{"#comment"!==n?.nodeName&&("CP-CONTENT-EDITOR"===n?.nodeName&&(o=n?.parentNode?.id,p(n)),"P"===n?.nodeName&&(i=`${o}-${s}`,C(n)),"SPAN"===n?.nodeName&&w(n),"#text"===n?.nodeName&&P(n),"DIV"===n?.nodeName&&n?.classList?.contains("targetContent")&&D(n,s),"DIV"===n?.nodeName&&n?.classList?.contains("sourceContent")&&(v(n),c="",m=[...new Set(n?.parentNode?.childNodes)].filter(d=>"#comment"!==d?.nodeName&&"DIV"!==d?.nodeName)?.length))})},v=e=>{p(e)},D=(e,l)=>{let n=e?.id?.split("_"),s=new T;s.key=`${n[0]}-${l}`,s.type="sourceCotnent",s.targetDocumentKey=n[0],s.targetContentKey=n[1],t.push(s),c=s.key,y=s.key,p(e)},C=e=>{let l=new T;l.key=i,l.type="paragraph",!Object.values(e?.style).every(s=>!s)&&(l.attrs=k(e)),e?.parentNode?.parentNode?.classList?.contains("targetContent")?S.push(l):c||y?t?.find(s=>s?.key===c)?.content?.push(l):t.push(l),p(e)},w=e=>{let l=t?.find(d=>d?.key===i),n=new T;n.type="text",n.text=e?.innerHTML,!Object.values(e?.style).every(d=>!d)&&(n.attrs=k(e)),c||y?(S?.find(d=>d?.key===i)&&r.push(i),t?.find(d=>d?.key===c)?.content?.find(d=>d?.key===i)?.content?.push(g(n)),S?.find(d=>d?.key===i)?.content?.push(g(n)),[...new Set(r)].length===m&&(y="")):l?.content?.push(g(n))},P=e=>{let l=t?.find(s=>s?.key===i),n=new T;n.type="text",n.text=e?.data,c||y?(S?.find(s=>s?.key===i)&&r.push(i),t?.find(s=>s?.key===c)?.content?.find(s=>s?.key===i)?.content?.push(g(n)),S?.find(s=>s?.key===i)?.content?.push(g(n)),[...new Set(r)].length===m&&(y="")):l?.content?.push(g(n))},k=e=>{let l=new L;return l.color=e?.style?.color,l.fontSize=e?.style?.fontSize,l.fontStyle=e?.style?.fontStyle,l.fontWeight=e?.style?.fontWeight,l.textDecoration=e?.style?.textDecoration,l.textIndent=e?.style?.textIndent,l.textAlign=e?.style?.textAlign,g(l)},g=e=>{for(let l in e){let n=e[l];(!n||0===n?.length)&&delete e[l]}return e};p(a?.target),this.renderedDocumentContent=t}onChangeStyle(a){if(window.getSelection){let t=null;t=window.getSelection();let S,o=t?.focusNode?.parentElement,i=window.getSelection()?.toString(),c="";o?.childNodes?.forEach(e=>{"#comment"!==e?.nodeName&&(c+="#text"===e?.nodeName?e?.data:e?.outerHTML)});let D,C,y=document.createElement("SPAN"),r=document.createElement("SPAN"),m=document.createElement("SPAN"),p=document.createElement("P"),v=`${i}`;i&&(D=`${c?.split(i)[0]}`,C=`${c?.split(i)[1]}`);const w=e=>{o?.style?.fontWeight&&(e.style.fontWeight=o?.style?.fontWeight),o?.style?.color&&(e.style.color=o?.style?.color),o?.style?.textIndent&&(e.style.textIndent=o?.style?.textIndent),o?.style?.textAlign&&(e.style.textAlign=o?.style?.textAlign),o?.style?.textDecoration&&(e.style.textDecoration=o?.style?.textDecoration),o?.style?.fontSize&&(e.style.fontSize=o?.style?.fontSize),o?.style?.fontStyle&&(e.style.fontStyle=o?.style?.fontStyle)};w(y),w(r),w(m),w(p);const P=e=>{Number(e?.style?.fontWeight)>400||"bold"===e?.style?.fontWeight||"bolder"===e?.style?.fontWeight?r.style.removeProperty("font-weight"):r.style.fontWeight="bold"},k=e=>{"italic"===e?.style?.fontStyle?r.style.removeProperty("font-style"):r.style.fontStyle="italic"},g=e=>{"underline"===e?.style?.textDecoration?r.style.removeProperty("text-decoration"):r.style.textDecoration="underline"};if(t?.rangeCount){switch(S=t.getRangeAt(0),a?.type){case"fontWeight":P(o);break;case"fontStyle":k(o);break;case"textDecoration":g(o)}let e="";D&&(/<\/?[a-z][\s\S]*>/i.test(D)?e+=y:(y.appendChild(document.createTextNode(D)),e+=y?.outerHTML)),v&&(/<\/?[a-z][\s\S]*>/i.test(v)?e+=r:(r.appendChild(document.createTextNode(v)),e+=r?.outerHTML)),C&&(/<\/?[a-z][\s\S]*>/i.test(C)?e+=C:(m.appendChild(document.createTextNode(C)),e+=m?.outerHTML)),p.innerHTML=e,o&&("SPAN"===o?.nodeName?o.outerHTML=e:"DIV"!==o?.nodeName&&(o.outerHTML=p.outerHTML))}}}onSaveDocument(a){return this.savedDocument=new h,this.savedDocument._id=a?._id,this.savedDocument.key=a?.key,this.savedDocument.content=this.renderedDocumentContent,this.savedDocument.formGroup=a?.formGroup,this.savedDocument.documentKey=a?.documentKey,this.savedDocument}generatedSlug(a){let t;return t=a?.toLowerCase(),t=t?.replace(/\xe1|\xe0|\u1ea3|\u1ea1|\xe3|\u0103|\u1eaf|\u1eb1|\u1eb3|\u1eb5|\u1eb7|\xe2|\u1ea5|\u1ea7|\u1ea9|\u1eab|\u1ead/gi,"a"),t=t?.replace(/\xe9|\xe8|\u1ebb|\u1ebd|\u1eb9|\xea|\u1ebf|\u1ec1|\u1ec3|\u1ec5|\u1ec7/gi,"e"),t=t?.replace(/i|\xed|\xec|\u1ec9|\u0129|\u1ecb/gi,"i"),t=t?.replace(/\xf3|\xf2|\u1ecf|\xf5|\u1ecd|\xf4|\u1ed1|\u1ed3|\u1ed5|\u1ed7|\u1ed9|\u01a1|\u1edb|\u1edd|\u1edf|\u1ee1|\u1ee3/gi,"o"),t=t?.replace(/\xfa|\xf9|\u1ee7|\u0169|\u1ee5|\u01b0|\u1ee9|\u1eeb|\u1eed|\u1eef|\u1ef1/gi,"u"),t=t?.replace(/\xfd|\u1ef3|\u1ef7|\u1ef9|\u1ef5/gi,"y"),t=t?.replace(/\u0111/gi,"d"),t=t?.replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,""),t=t?.replace(/ /gi,"-"),t=t?.replace(/\-\-\-\-\-/gi,"-"),t=t?.replace(/\-\-\-\-/gi,"-"),t=t?.replace(/\-\-\-/gi,"-"),t=t?.replace(/\-\-/gi,"-"),t="@"+t+"@",t=t?.replace(/\@\-|\-\@|\@/gi,""),t}}return u.\u0275fac=function(a){return new(a||u)(N.LFG(_.eN))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();class h{}class T{constructor(){this.content=[]}}class L{}},5191:(M,x,f)=>{f.d(x,{b:()=>E});var N=f(9751),_=f(576);function E(h){return!!h&&(h instanceof N.y||(0,_.m)(h.lift)&&(0,_.m)(h.subscribe))}}}]);