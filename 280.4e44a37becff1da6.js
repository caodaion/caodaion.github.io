"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[280],{8729:(Ct,V,d)=>{d.r(V),d.d(V,{CauSieuVoViModule:()=>et});var c=d(6895),v=d(9299),t=d(4650),T=d(9751),nt=(d(350),d(529));class F{constructor(n){this.http=n}getCauSieuVoViList(){return new T.y(r=>{r.next(JSON.parse(localStorage.getItem("csvv")||"{data: []}"))})}getCauSieuVoViById(n){return JSON.parse(localStorage.getItem("csvv")||"{data: []}"),new T.y(i=>{i.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(a=>a.key===n)})})}addCauSieuVoVi(n,e){return localStorage.setItem("csvv",JSON.stringify(n)),new T.y(a=>{a.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(l=>l.key===e)})})}updateCauSieuVoVi(n,e){return localStorage.setItem("csvv",JSON.stringify(n)),new T.y(a=>{a.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(l=>l.key===e)})})}static#t=this.\u0275fac=function(e){return new(e||F)(t.LFG(nt.eN))};static#e=this.\u0275prov=t.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}var A=d(2289),D=d(6256),k=d(782),S=d(8377),m=d(2362),f=d(3238);function _(o,n){1&o&&t._UZ(0,"mat-progress-bar",5)}function C(o,n){if(1&o&&(t.TgZ(0,"mat-grid-tile",3)(1,"mat-card",6)(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5),t.qZA()()()),2&o){const e=n.$implicit,r=t.oxw();t.Q6J("routerLink",null==e?null:e.key),t.xp6(3),t.Oqu(r.getCardDetails(e).title),t.xp6(2),t.hij("\u0110\xe3 ghi nh\u1eadn: ",r.getCardDetails(e).count," linh h\u1ed3n")}}class M{constructor(n,e,r,i){this.cauSieuVoViService=n,this.breakpointObserver=e,this.authService=r,this.router=i,this.cauSieuVoViList=[],this.cols=1,this.isLoading=!1}ngOnInit(){this.authService.currentUser?.role?.includes("administrator")?(this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.cols=n.matches?1:4}),this.getCauSieuVoViList()):this.router.navigate(["/tac-vu"])}getCauSieuVoViList(){this.isLoading=!0,this.cauSieuVoViService.getCauSieuVoViList().subscribe(n=>{console.log(n),n?.data?(this.cauSieuVoViList=n?.data,this.isLoading=!1):this.isLoading=!1},n=>{this.isLoading=!1,console.log(n)})}getCardDetails(n){const e=n?.formGroup?.find(u=>"thong-tin-chung"===u.key)?.control,r=e?.find(u=>"nam-am-lich"===u.key)?.value,i=e?.find(u=>"thang-am-lich"===u.key)?.value,a=e?.find(u=>"ngay-am-lich"===u.key)?.value,s=n?.formGroup?.find(u=>"thong-tin-cau-sieu"===u.key)?.control?.find(u=>"linh-hon"===u.key)?.value?.length;return{title:`C\u1ea7u si\xeau v\xe0o ng\xe0y ${a} th\xe1ng ${i} n\u0103m ${r}`,count:s}}static#t=this.\u0275fac=function(e){return new(e||M)(t.Y36(F),t.Y36(A.Yg),t.Y36(D.e),t.Y36(v.F0))};static#e=this.\u0275cmp=t.Xpm({type:M,selectors:[["app-cau-sieu-vo-vi-list"]],decls:5,vars:4,consts:[["mode","indeterminate",4,"ngIf"],["rowHeight","2:1",1,"w-100",3,"cols"],["class","csvv-item w-100",3,"routerLink",4,"ngFor","ngForOf"],[1,"csvv-item","w-100",3,"routerLink"],[1,"w-100","h-100"],["mode","indeterminate"],["matRipple","",1,"w-100","h-100"]],template:function(e,r){1&e&&(t.YNc(0,_,1,0,"mat-progress-bar",0),t.TgZ(1,"mat-grid-list",1),t.YNc(2,C,6,3,"mat-grid-tile",2),t.TgZ(3,"mat-grid-tile",3),t._UZ(4,"mat-card",4),t.qZA()()),2&e&&(t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("cols",r.cols),t.xp6(1),t.Q6J("ngForOf",r.cauSieuVoViList),t.xp6(1),t.Q6J("routerLink","them-moi"))},dependencies:[c.sg,c.O5,v.rH,k.Il,k.DX,S.S$,S.mi,S._K,m.eI,f.wG],styles:[".csvv-item{cursor:pointer}  .csvv-item .mat-grid-tile-content{padding:1rem}"]})}var O=d(5559),g=d(8455),Z=d(9203),h=d(4006),q=d(9818),Y=d(7084),pt=d(8256),I=d(7392),bt=d(4850);function vt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"input",8),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG("prevText"===a.modifierAt?a.inputFormControl.prevText:"nextText"===a.modifierAt?a.inputFormControl.nextText:a.inputFormControl.value=i)}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("type","text")("placeholder","prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.placeholder)("ngModel","prevText"===e.modifierAt?e.inputFormControl.prevText:"nextText"===e.modifierAt?e.inputFormControl.nextText:e.inputFormControl.value)("required",null==e.inputFormControl?null:e.inputFormControl.required)("autocomplete",null!=e.inputFormControl&&e.inputFormControl.autocomplete?null==e.inputFormControl?null:e.inputFormControl.autocomplete:"off")("maxlength",null==e.inputFormControl?null:e.inputFormControl.maxLength)("minlength",null==e.inputFormControl?null:e.inputFormControl.minLength)("disabled",null==e.inputFormControl?null:e.inputFormControl.disabled)("disabled",!e.contentEditable)}}function yt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"textarea",9),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.inputFormControl.value=i)}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("rows",null==e.inputFormControl?null:e.inputFormControl.rows)("placeholder",null==e.inputFormControl?null:e.inputFormControl.placeholder)("ngModel",e.inputFormControl.value)("required",null==e.inputFormControl?null:e.inputFormControl.required)("autocomplete",null!=e.inputFormControl&&e.inputFormControl.autocomplete?null==e.inputFormControl?null:e.inputFormControl.autocomplete:"off")("maxlength",null==e.inputFormControl?null:e.inputFormControl.maxLength)("minlength",null==e.inputFormControl?null:e.inputFormControl.minLength)("disabled",null==e.inputFormControl?null:e.inputFormControl.disabled)("disabled",!e.contentEditable)}}function Tt(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getErrorMessage(e.inputFormControl))}}function Ft(o,n){if(1&o&&(t.TgZ(0,"mat-hint",10),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("align","end"),t.xp6(1),t.AsE("",(null==e.inputFormControl||null==e.inputFormControl.value?null:e.inputFormControl.value.length)||0," / ",null==e.inputFormControl?null:e.inputFormControl.maxLength,"")}}function Et(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",1)(1,"mat-label"),t._uU(2),t.qZA(),t.YNc(3,vt,1,9,"input",2),t.YNc(4,yt,1,9,"textarea",3),t.YNc(5,Tt,2,1,"mat-error",4),t.YNc(6,Ft,2,3,"mat-hint",5),t.TgZ(7,"span",6),t._uU(8),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.qZA()()),2&o){const e=t.oxw();t.Q6J("hintLabel",(null!=e.inputFormControl&&null!=e.inputFormControl.hintLabel&&e.inputFormControl.hintLabel.text?null==e.inputFormControl||null==e.inputFormControl.hintLabel?null:e.inputFormControl.hintLabel.text:"")+e.getOptionalLabel(e.inputFormControl)),t.xp6(2),t.Oqu("prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.label),t.xp6(1),t.Q6J("ngIf","shortText"===(null==e.inputFormControl?null:e.inputFormControl.type)),t.xp6(1),t.Q6J("ngIf","longText"===(null==e.inputFormControl?null:e.inputFormControl.type)),t.xp6(1),t.Q6J("ngIf",!!e.getErrorMessage(e.inputFormControl)),t.xp6(1),t.Q6J("ngIf",null==e.inputFormControl?null:e.inputFormControl.maxLength),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.prefix),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.suffix)}}class U{constructor(n){this.authService=n}ngOnInit(){this.contentEditable=this.authService.contentEditable}getOptionalLabel(n){let e="";return n?.minLength&&(e+=`. T\u1ed1i thi\u1ec3u: ${n?.minLength} k\xfd t\u1ef1`),n?.maxLength&&(e+=`. T\u1ed1i \u0111a: ${n?.maxLength} k\xfd t\u1ef1`),e}getErrorMessage(n){let e="";return n?.required&&(e+=n?.requiredErrorMessage?n?.requiredErrorMessage:""),e}static#t=this.\u0275fac=function(e){return new(e||U)(t.Y36(D.e))};static#e=this.\u0275cmp=t.Xpm({type:U,selectors:[["cp-input-form-field"]],inputs:{inputFormControl:"inputFormControl",modifierAt:"modifierAt"},decls:1,vars:1,consts:[["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange",4,"ngIf"],["matInput","",3,"rows","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange",4,"ngIf"],[4,"ngIf"],["class","hint-max-lenght",3,"align",4,"ngIf"],["matPrefix",""],["matSuffix",""],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],["matInput","",3,"rows","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],[1,"hint-max-lenght",3,"align"]],template:function(e,r){1&e&&t.YNc(0,Et,11,8,"mat-form-field",0),2&e&&t.Q6J("ngIf",null==r.inputFormControl||null==r.inputFormControl.type?null:r.inputFormControl.type.includes("Text"))},dependencies:[c.O5,g.nI,g.v_,g.pH,g.$V,g.g4,g.nX,Z.k0,h.Fj,h.JJ,h.Q7,h.wO,h.nD,h.On],styles:["mat-form-field{min-width:0}"]})}function wt(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getErrorMessage(e.inputFormControl))}}function Nt(o,n){if(1&o&&(t.TgZ(0,"mat-hint",7),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("align","end"),t.xp6(1),t.AsE("",(null==e.inputFormControl||null==e.inputFormControl.value?null:e.inputFormControl.value.length)||0," / ",null==e.inputFormControl?null:e.inputFormControl.maxLength,"")}}function At(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",1)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"input",2),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG("prevText"===a.modifierAt?a.inputFormControl.prevText:"nextText"===a.modifierAt?a.inputFormControl.nextText:a.inputFormControl.value=i)}),t.qZA(),t.YNc(4,wt,2,1,"mat-error",3),t.YNc(5,Nt,2,3,"mat-hint",4),t.TgZ(6,"span",5),t._uU(7),t.qZA(),t.TgZ(8,"span",6),t._uU(9),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("hintLabel",(null!=e.inputFormControl&&null!=e.inputFormControl.hintLabel&&e.inputFormControl.hintLabel.text?null==e.inputFormControl||null==e.inputFormControl.hintLabel?null:e.inputFormControl.hintLabel.text:"")+e.getOptionalLabel(e.inputFormControl)),t.xp6(2),t.Oqu("prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.label),t.xp6(1),t.Q6J("type","number")("placeholder","prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.placeholder)("ngModel","prevText"===e.modifierAt?e.inputFormControl.prevText:"nextText"===e.modifierAt?e.inputFormControl.nextText:e.inputFormControl.value)("required",null==e.inputFormControl?null:e.inputFormControl.required)("autocomplete",null!=e.inputFormControl&&e.inputFormControl.autocomplete?null==e.inputFormControl?null:e.inputFormControl.autocomplete:"off")("maxlength",null==e.inputFormControl?null:e.inputFormControl.maxLength)("minlength",null==e.inputFormControl?null:e.inputFormControl.minLength)("disabled",null==e.inputFormControl?null:e.inputFormControl.disabled),t.xp6(1),t.Q6J("ngIf",!!e.getErrorMessage(e.inputFormControl)),t.xp6(1),t.Q6J("ngIf",null==e.inputFormControl?null:e.inputFormControl.maxLength),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.prefix),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.suffix)}}class z{constructor(){}ngOnInit(){}getOptionalLabel(n){let e="";return n?.minLength&&(e+=`. T\u1ed1i thi\u1ec3u: ${n?.minLength} k\xfd t\u1ef1`),n?.maxLength&&(e+=`. T\u1ed1i \u0111a: ${n?.maxLength} k\xfd t\u1ef1`),e}getErrorMessage(n){let e="";return n?.required&&(e+=n?.requiredErrorMessage?n?.requiredErrorMessage:""),e}static#t=this.\u0275fac=function(e){return new(e||z)};static#e=this.\u0275cmp=t.Xpm({type:z,selectors:[["cp-number-form-field"]],inputs:{inputFormControl:"inputFormControl",modifierAt:"modifierAt"},decls:1,vars:1,consts:[["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],[4,"ngIf"],["class","hint-max-lenght",3,"align",4,"ngIf"],["matPrefix",""],["matSuffix",""],[1,"hint-max-lenght",3,"align"]],template:function(e,r){1&e&&t.YNc(0,At,10,14,"mat-form-field",0),2&e&&t.Q6J("ngIf",null==r.inputFormControl||null==r.inputFormControl.type?null:r.inputFormControl.type.includes("number"))},dependencies:[c.O5,g.nI,g.v_,g.pH,g.$V,g.g4,g.nX,Z.k0,h.Fj,h.JJ,h.Q7,h.wO,h.nD,h.On]})}function Dt(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"cp-input-form-field",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputFormControl",e)}}function kt(o,n){if(1&o&&(t.TgZ(0,"mat-radio-button",12),t._uU(1),t.qZA()),2&o){const e=n.$implicit,r=t.oxw(5);t.Q6J("value",e)("disabled",!r.contentEditable),t.xp6(1),t.Oqu(e)}}function St(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-radio-group",10),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw().$implicit;return t.KtG(a.value=i)}),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t.YNc(3,kt,2,3,"mat-radio-button",11),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("ngModel",e.value)("ngClass","layout-"+(null==e?null:e.layout)),t.xp6(2),t.Oqu(null==e?null:e.label),t.xp6(1),t.Q6J("ngForOf",null==e?null:e.data)}}function Mt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"textarea",18),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(3).$implicit;return t.KtG(a.value=i)}),t.qZA()}if(2&o){const e=t.oxw(3).$implicit,r=t.oxw(3);t.Q6J("rows",null==e?null:e.rows)("disabled",!r.contentEditable)("placeholder",null==e?null:e.placeholder)("ngModel",e.value)("required",null==e?null:e.required)("autocomplete",null!=e&&e.autocomplete?null==e?null:e.autocomplete:"off")("maxlength",null==e?null:e.maxLength)("minlength",null==e?null:e.minLength)("disabled",null==e?null:e.disabled)}}function Ot(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",16)(1,"mat-label"),t._uU(2),t.qZA(),t.YNc(3,Mt,1,9,"textarea",17),t.qZA()),2&o){const e=t.oxw(2).$implicit,r=t.oxw(3);t.Q6J("hintLabel",(null!=e&&null!=e.hintLabel&&e.hintLabel.text?null==e||null==e.hintLabel?null:e.hintLabel.text:"")+r.getOptionalLabel(e)),t.xp6(2),t.Oqu(null==e?null:e.label),t.xp6(1),t.Q6J("ngIf","formArrayTrigerLongString"===(null==e?null:e.type))}}function Zt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",13),t.YNc(1,Ot,4,3,"mat-form-field",14),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.onChangeTrigerFormArray(i))}),t.TgZ(3,"mat-icon"),t._uU(4,"sync_alt"),t.qZA(),t._uU(5," Nh\u1eadp "),t.qZA(),t._UZ(6,"mat-divider"),t.qZA()}if(2&o){const e=t.oxw().$implicit,r=t.oxw(3);t.xp6(1),t.Q6J("ngIf","formArrayTrigerLongString"===(null==e?null:e.type)),t.xp6(1),t.Q6J("color","accent")("disabled",!r.contentEditable)}}function It(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"cp-input-form-field",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputFormControl",e)}}function Bt(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"cp-number-form-field",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputFormControl",e)}}function Jt(o,n){if(1&o&&(t.ynx(0),t.YNc(1,It,2,1,"ng-container",0),t.YNc(2,Bt,2,1,"ng-container",0),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null==e||null==e.type?null:e.type.includes("Text")),t.xp6(1),t.Q6J("ngIf",null==e||null==e.type?null:e.type.includes("number"))}}function Lt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",20)(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"button",21),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(3).$implicit,s=t.oxw(3);return t.KtG(s.onDeleteItem(l,a))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()(),t.YNc(7,Jt,3,2,"ng-container",2),t._UZ(8,"mat-divider"),t.qZA()}if(2&o){const e=n.$implicit,r=n.index,i=t.oxw(3).$implicit,a=t.oxw(3);t.xp6(3),t.AsE("",null==i?null:i.itemLabel,"(",r+1,")"),t.xp6(1),t.Q6J("disabled",!a.contentEditable),t.xp6(3),t.Q6J("ngForOf",null==e?null:e.control)}}function Qt(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Lt,9,4,"div",2),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",null==e?null:e.value)}}function Pt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",19),t.YNc(1,Qt,2,1,"ng-container",0),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw(3),l=t.MAs(2);return t.KtG(a.onAddNewItem(i,l))}),t.TgZ(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t._uU(5,"Th\xeam "),t.qZA()()}if(2&o){const e=t.oxw().$implicit,r=t.oxw(3);t.xp6(1),t.Q6J("ngIf",(null==e?null:e.value.length)>0),t.xp6(1),t.Q6J("color","primary")("disabled",!r.contentEditable)}}function Vt(o,n){if(1&o&&(t.TgZ(0,"div",24),t._UZ(1,"cp-input-form-field",25)(2,"cp-input-form-field",9)(3,"cp-input-form-field",25),t.qZA()),2&o){const e=n.$implicit,r=t.oxw(2).$implicit;t.xp6(1),t.Q6J("inputFormControl",null==r?null:r.value[e])("modifierAt","prevText"),t.xp6(1),t.Q6J("inputFormControl",null==r?null:r.value[e]),t.xp6(1),t.Q6J("inputFormControl",null==r?null:r.value[e])("modifierAt","nextText")}}function qt(o,n){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,Vt,4,5,"div",23),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.addressGroup)}}function Yt(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Dt,2,1,"ng-container",0),t.YNc(2,St,4,4,"mat-radio-group",5),t.YNc(3,Zt,7,3,"div",6),t.YNc(4,Pt,6,3,"div",7),t.YNc(5,qt,2,1,"div",8),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null==e||null==e.type?null:e.type.includes("Text")),t.xp6(1),t.Q6J("ngIf","radiobox"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formArrayTrigerLongString"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formArray"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","addressGroup"===(null==e?null:e.type))}}function Ut(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-expansion-panel",3)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t._uU(4),t.qZA()(),t.TgZ(5,"div",4)(6,"mat-panel-description"),t._uU(7),t.qZA(),t.YNc(8,Yt,6,5,"ng-container",2),t.qZA()(),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("expanded",!(null==e||!e.expaned)||(null==e?null:e.expaned)),t.xp6(3),t.Oqu(null==e?null:e.title),t.xp6(3),t.Oqu(null==e?null:e.hint),t.xp6(1),t.Q6J("ngForOf",null==e?null:e.control)}}function zt(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ut,9,4,"ng-container",2),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.renderDocument.formGroup)}}function Gt(o,n){if(1&o&&(t.TgZ(0,"div",26)(1,"mat-icon",27),t._uU(2,"error_outline"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.errorMessage)}}class G{constructor(n,e){this.matDialog=n,this.authService=e,this.changeTrigerFormArray=new t.vpe,this.addressGroup=["country","province","district","ward","village","address"],this.errorMessage=void 0}ngOnInit(){this.onChangeControl(),this.contentEditable=this.authService.contentEditable}onChangeControl(){}getErrorMessage(n){let e="";return n?.required&&(e+=n?.requiredErrorMessage?n?.requiredErrorMessage:""),e}getOptionalLabel(n){let e="";return n?.minLength&&(e+=`. T\u1ed1i thi\u1ec3u: ${n?.minLength} k\xfd t\u1ef1`),n?.maxLength&&(e+=`. T\u1ed1i \u0111a: ${n?.maxLength} k\xfd t\u1ef1`),e}getObjectArray(n){return Object.entries(n)}onChangeTrigerFormArray(n){this.changeTrigerFormArray.emit(n)}onAddNewItem(n,e){let r=!0;if(n?.value?.length>0&&n?.value[n?.value?.length-1]?.control?.forEach(a=>{r&&a?.required&&!a?.value&&(r=!1)}),r){let i=[];n?.addTemplate?.forEach(a=>{let l=new ot;l.type=a.type,l.value=a.value,l.placeholder=a.placeholder,l.required=a.required,l.autocomplete=a.autocomplete,l.label=a.label,l.suffix=a.suffix,i.push(l)}),n?.value?.push({control:i})}else this.errorMessage="H\xe3y nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin b\u1eaft bu\u1ed9c tr\u01b0\u1edbc khi th\xeam m\u1edbi",this.errorMessageDialogRef=this.matDialog.open(e)}onDeleteItem(n,e){n?.value?.splice(e,1)}static#t=this.\u0275fac=function(e){return new(e||G)(t.Y36(O.on),t.Y36(D.e))};static#e=this.\u0275cmp=t.Xpm({type:G,selectors:[["cp-editor-form-control"]],inputs:{renderDocument:"renderDocument"},outputs:{changeTrigerFormArray:"changeTrigerFormArray"},decls:3,vars:1,consts:[[4,"ngIf"],["errorMessageDialog",""],[4,"ngFor","ngForOf"],[3,"expanded"],[1,"form-group"],[3,"ngModel","ngClass","ngModelChange",4,"ngIf"],["class","triger-form-array",4,"ngIf"],["class","form-array",4,"ngIf"],["class","address-group",4,"ngIf"],[3,"inputFormControl"],[3,"ngModel","ngClass","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[1,"triger-form-array"],["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["mat-flat-button","",1,"w-100",3,"color","disabled","click"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"rows","disabled","placeholder","ngModel","required","autocomplete","maxlength","minlength","ngModelChange",4,"ngIf"],["matInput","",3,"rows","disabled","placeholder","ngModel","required","autocomplete","maxlength","minlength","ngModelChange"],[1,"form-array"],[1,"d-flex","justify-content-between"],["mat-icon-button","",3,"disabled","click"],[1,"address-group"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],[3,"inputFormControl","modifierAt"],[1,"error-message-dialog"],["color","warn"]],template:function(e,r){1&e&&(t.YNc(0,zt,2,1,"ng-container",0),t.YNc(1,Gt,5,1,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("ngIf",null==r.renderDocument?null:r.renderDocument.formGroup)},dependencies:[c.mk,c.sg,c.O5,g.v_,g.$V,Z.k0,h.Fj,h.JJ,h.Q7,h.wO,h.nD,h.On,q.eB,Y.ib,Y.yz,Y.yK,Y.u4,pt.OY,pt.vy,I.Hw,bt.d,U,z],styles:[".form-group mat-panel-description{margin-bottom:1rem}  .form-group .hint-max-lenght{white-space:nowrap}  .form-group mat-radio-group{margin:1.34375em 0}  .form-group .layout-column{display:flex;flex-direction:column;align-items:flex-start}  .form-group mat-radio-button{margin:5px}  .form-group cp-input-form-field,   .form-group cp-number-form-field{min-width:0}  .form-group .form-array mat-divider{margin-bottom:1rem}  .error-message-dialog{text-align:center}  .error-message-dialog .mat-icon{font-size:80px;height:80px;width:80px}  .triger-form-array{margin-bottom:2rem}"]})}class ot{}var B=d(5484),rt=d(5001),$t=d(8242),Rt=d(6289),Ht=d(4363),Kt=d(7462),it=d(3239);function Wt(o,n){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.viewValue)}}function Xt(o,n){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.viewValue)}}function jt(o,n){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.viewValue)}}const te=function(o){return{color:o}};function ee(o,n){if(1&o&&(t.TgZ(0,"button",17)(1,"mat-icon",24),t._uU(2,"circle"),t.qZA()()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(2,te,null==e?null:e.value))("matTooltip",null==e?null:e.name)}}class ${constructor(n){this.editorService=n,this.foods=[{value:"steak-0",viewValue:"Steak"},{value:"pizza-1",viewValue:"Pizza"},{value:"tacos-2",viewValue:"Tacos"}],this.colors=[{name:"\u0111en",value:"black"},{name:"tr\u1eafng",value:"white"},{name:"\u0111\u1ecf",value:"red"},{name:"xanh d\u01b0\u01a1ng",value:"blue"},{name:"v\xe0ng",value:"yellow"},{name:"xanh l\xe1",value:"green"},{name:"t\xedm",value:"purple"},{name:"x\xe1m",value:"gray"},{name:"cam",value:"orange"}]}ngOnInit(){}onChangeStyle(n){this.editorService.onChangeStyle(n)}static#t=this.\u0275fac=function(e){return new(e||$)(t.Y36(B.TB))};static#e=this.\u0275cmp=t.Xpm({type:$,selectors:[["cp-toolbar-editor"]],decls:56,vars:10,consts:[[1,"editor-toolbar","d-flex","justify-content-center","align-items-center"],[3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"h-100",3,"placeholder"],[1,"h-100","dropdown-font-size",3,"placeholder"],["mat-icon-button","","matTooltip","\u0110\u1eadm",3,"click"],["mat-icon-button","","matTooltip","Nghi\xeang",3,"click"],["mat-icon-button","","matTooltip","G\u1ea1ch ch\xe2n",3,"click"],[1,"material-icons-outlined"],["mat-icon-button","","matTooltip","M\xe0u v\u0103n b\u1ea3n",3,"matMenuTriggerFor"],[1,"horizontal-menu","color-menu"],["menuColor",""],["mat-icon-button","",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Ch\xe8n \u0111\u01b0\u1eddng li\xean k\u1ebft"],["mat-icon-button","","matTooltip","C\u0103n ch\u1ec9nh",3,"matMenuTriggerFor"],[1,"horizontal-menu"],["menuAlign",""],["mat-icon-button",""],["mat-icon-button","","matTooltip","Danh s\xe1ch \u0111\xe1nh s\u1ed1 \u0111\u1ea7u d\xf2ng"],["mat-icon-button","","matTooltip","Danh s\xe1ch c\xf3 d\u1ea5u \u0111\u1ea7u d\xf2ng"],["mat-icon-button","","matTooltip","Th\xeam",3,"matMenuTriggerFor"],["menuMore",""],["mat-menu-item",""],[3,"value"],[3,"ngStyle","matTooltip"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-select",1),t.YNc(2,Wt,2,2,"mat-option",2),t.qZA(),t.TgZ(3,"mat-select",3),t.YNc(4,Xt,2,2,"mat-option",2),t.qZA(),t.TgZ(5,"mat-select",4),t.YNc(6,jt,2,2,"mat-option",2),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return r.onChangeStyle({type:"fontWeight"})}),t.TgZ(8,"mat-icon"),t._uU(9,"format_bold"),t.qZA()(),t.TgZ(10,"button",6),t.NdJ("click",function(){return r.onChangeStyle({type:"fontStyle"})}),t.TgZ(11,"mat-icon"),t._uU(12,"format_italic"),t.qZA()(),t.TgZ(13,"button",7),t.NdJ("click",function(){return r.onChangeStyle({type:"textDecoration"})}),t.TgZ(14,"mat-icon",8),t._uU(15,"format_underlined"),t.qZA()(),t.TgZ(16,"button",9)(17,"mat-icon",8),t._uU(18,"format_color_text"),t.qZA()(),t.TgZ(19,"mat-menu",10,11),t.YNc(21,ee,3,4,"button",12),t.qZA(),t.TgZ(22,"button",13)(23,"mat-icon",8),t._uU(24,"link"),t.qZA()(),t.TgZ(25,"button",14)(26,"mat-icon",8),t._uU(27,"format_align_left"),t.qZA()(),t.TgZ(28,"mat-menu",15,16)(30,"button",17)(31,"mat-icon"),t._uU(32,"format_align_left"),t.qZA()(),t.TgZ(33,"button",17)(34,"mat-icon"),t._uU(35,"format_align_center"),t.qZA()(),t.TgZ(36,"button",17)(37,"mat-icon"),t._uU(38,"format_align_right"),t.qZA()()(),t.TgZ(39,"button",18)(40,"mat-icon",8),t._uU(41,"format_list_numbered"),t.qZA()(),t.TgZ(42,"button",19)(43,"mat-icon",8),t._uU(44,"format_list_bulleted"),t.qZA()(),t.TgZ(45,"button",20)(46,"mat-icon"),t._uU(47,"more_horiz"),t.qZA()(),t.TgZ(48,"mat-menu",null,21)(50,"button",22),t._uU(51,"More 1"),t.qZA(),t.TgZ(52,"button",22),t._uU(53,"More 2"),t.qZA(),t.TgZ(54,"button",22),t._uU(55,"More 3"),t.qZA()()()),2&e){const i=t.MAs(20),a=t.MAs(29),l=t.MAs(49);t.xp6(1),t.Q6J("placeholder","Ki\u1ec3u ch\u1eef"),t.xp6(1),t.Q6J("ngForOf",r.foods),t.xp6(1),t.Q6J("placeholder","Ph\xf4ng ch\u1eef"),t.xp6(1),t.Q6J("ngForOf",r.foods),t.xp6(1),t.Q6J("placeholder","C\u1ee1 ch\u1eef"),t.xp6(1),t.Q6J("ngForOf",r.foods),t.xp6(10),t.Q6J("matMenuTriggerFor",i),t.xp6(5),t.Q6J("ngForOf",r.colors),t.xp6(4),t.Q6J("matMenuTriggerFor",a),t.xp6(20),t.Q6J("matMenuTriggerFor",l)}},dependencies:[c.sg,c.PC,Rt.x8,Ht.CK,I.Hw,Kt.Kd,q.eB,it.W0,it.tN,it.D8],styles:[".editor-toolbar{background-color:#fff;position:sticky;top:0}  .editor-toolbar .mat-form-field-wrapper{padding-bottom:0}  .editor-toolbar .dropdown-font-size{width:350px}  .horizontal-menu .mat-menu-content:not(:empty){display:flex;flex-wrap:wrap}  .color-menu .mat-icon-button{box-sizing:border-box;line-height:1;height:30px;width:30px;display:flex;align-items:center;justify-content:center}  .color-menu .mat-icon-button .mat-icon{border-radius:50%;border:solid 1px #f4eff4;display:flex;align-items:center;justify-content:center}"]})}const _t=function(o,n,e,r,i,a){return{paddingTop:o,paddingRight:n,paddingBottom:e,paddingLeft:r,width:i,height:a}};function ne(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("keyup",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onChangeContent(i))})("keydown.tab",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onTab(i))})("keydown.backspace",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onDeleteContent(i))}),t._UZ(1,"cp-content-editor",6),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("id",(null==e.renderedDocument?null:e.renderedDocument.key)+"-CONTENT")("ngStyle",t.HTZ(4,_t,null==e.pagePadding?null:e.pagePadding.paddingTop,null==e.pagePadding?null:e.pagePadding.paddingRight,null==e.pagePadding?null:e.pagePadding.paddingBottom,null==e.pagePadding?null:e.pagePadding.paddingLeft,null==e.pageSize?null:e.pageSize.width,null==e.pageSize?null:e.pageSize.height)),t.xp6(1),t.Q6J("nested",!0)("renderDocument",e.renderedDocument)}}function oe(o,n){if(1&o&&(t.TgZ(0,"div",7),t._UZ(1,"cp-content-editor",6),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("id",(null==e.renderedDocument?null:e.renderedDocument.key)+"-CONTENT")("ngStyle",t.HTZ(4,_t,null==e.pagePadding?null:e.pagePadding.paddingTop,null==e.pagePadding?null:e.pagePadding.paddingRight,null==e.pagePadding?null:e.pagePadding.paddingBottom,null==e.pagePadding?null:e.pagePadding.paddingLeft,null==e.pageSize?null:e.pageSize.width,null==e.pageSize?null:e.pageSize.height)),t.xp6(1),t.Q6J("nested",!0)("renderDocument",e.renderedDocument)}}function re(o,n){if(1&o&&(t.TgZ(0,"div",2),t.YNc(1,ne,2,11,"div",3),t.YNc(2,oe,2,11,"div",4),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",!e.contentEditable)}}function ie(o,n){1&o&&(t.TgZ(0,"p"),t._UZ(1,"br"),t.qZA())}function ae(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.clickTargetLink(i,!0))}),t.TgZ(1,"mat-icon"),t._uU(2,"link"),t.qZA()()}}const R=function(o,n,e,r,i){return{color:o,fontWeight:n,fontStyle:e,fontSize:r,textDecoration:i}};function le(o,n){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.Q6J("ngStyle",t.qbA(2,R,null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration)),t.xp6(1),t.Oqu(e.text)}}function se(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.text)}}function ce(o,n){if(1&o&&(t.ynx(0),t.YNc(1,le,2,8,"span",15),t.YNc(2,se,2,1,"ng-container",1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!(null==e||!e.attrs)),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.attrs))}}function de(o,n){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,r=t.oxw(4);let i;t.Q6J("ngStyle",t.qbA(2,R,null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration)),t.xp6(1),t.Oqu(null==(i=r.insertFormControlValue(e))?null:i.value)}}function ue(o,n){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,r=t.oxw(4);let i;t.Q6J("ngStyle",t.qbA(2,R,null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration)),t.xp6(1),t.Oqu(null==(i=r.insertFormControlValue(e))?null:i.value)}}function me(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu((null==e[1]?null:e[1].prevText)+" ")}}function pe(o,n){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,r=t.oxw(2).$implicit;t.Q6J("ngStyle",t.qbA(2,R,null==r||null==r.attrs?null:r.attrs.color,null==r||null==r.attrs?null:r.attrs.fontWeight,null==r||null==r.attrs?null:r.attrs.fontStyle,null==r.attrs?null:r.attrs.fontSize,null==r||null==r.attrs?null:r.attrs.textDecoration)),t.xp6(1),t.Oqu(null==e[1]?null:e[1].value)}}function _e(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(),r=e.$implicit,i=e.index,a=t.oxw(2).$implicit,l=t.oxw(4);let s;t.xp6(1),t.Oqu(" "+(null==r[1]?null:r[1].nextText)+(i===l.getObjectArray(null==(s=l.insertFormControlValue(a))?null:s.value).length-1?"":", "))}}function ge(o,n){if(1&o&&(t.ynx(0),t.YNc(1,me,2,1,"span",1),t.YNc(2,pe,2,8,"span",15),t.YNc(3,_e,2,1,"span",1),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null==e[1]?null:e[1].prevText),t.xp6(1),t.Q6J("ngIf",null==e[1]?null:e[1].value),t.xp6(1),t.Q6J("ngIf",null==e[1]?null:e[1].nextText)}}function fe(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ge,4,3,"ng-container",8),t.BQk()),2&o){const e=t.oxw().$implicit,r=t.oxw(4);let i;t.xp6(1),t.Q6J("ngForOf",r.getObjectArray(null==(i=r.insertFormControlValue(e))?null:i.value))}}function he(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit,r=t.oxw().index,i=t.oxw(2).$implicit,a=t.oxw(4);let l;t.xp6(1),t.AsE("",e.suffix,"",r===(null==(l=a.insertFormControlValue(i))?null:l.value.length)-1?".":","," ")}}function xe(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.YNc(3,he,2,2,"ng-container",1),t.BQk()),2&o){const e=n.$implicit;t.xp6(2),t.hij("",null==e?null:e.value," "),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.value)&&e.suffix)}}function Ce(o,n){if(1&o&&(t.ynx(0),t.YNc(1,xe,4,2,"ng-container",8),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngForOf",null==e?null:e.control)}}function be(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ce,2,1,"ng-container",8),t.BQk()),2&o){const e=t.oxw().$implicit,r=t.oxw(4);let i;t.xp6(1),t.Q6J("ngForOf",null==(i=r.insertFormControlValue(e))?null:i.value)}}function ve(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ce,3,2,"ng-container",1),t.YNc(2,de,2,8,"span",15),t.YNc(3,ue,2,8,"span",15),t.YNc(4,fe,2,1,"ng-container",1),t.YNc(5,be,2,1,"ng-container",1),t.BQk()),2&o){const e=n.$implicit,r=t.oxw(4);let i,a,l;t.xp6(1),t.Q6J("ngIf","text"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formControl"===(null==e?null:e.type)&&"shortText"===(null==(i=r.insertFormControlValue(e))?null:i.type)||"radiobox"===(null==(i=r.insertFormControlValue(e))?null:i.type)),t.xp6(1),t.Q6J("ngIf","triggerFormControl"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formControl"===(null==e?null:e.type)&&"addressGroup"===(null==(a=r.insertFormControlValue(e))?null:a.type)),t.xp6(1),t.Q6J("ngIf","formControl"===(null==e?null:e.type)&&"formArray"===(null==(l=r.insertFormControlValue(e))?null:l.type))}}const ye=function(o,n,e,r,i,a,l){return{textAlign:o,color:n,fontWeight:e,fontStyle:r,fontSize:i,textDecoration:a,textIndent:l,margin:0}},Te=function(o){return{targetLink:o}};function Fe(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"p",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.clickTargetLink(i))}),t.YNc(1,ae,3,0,"button",13),t.YNc(2,ve,6,5,"ng-container",8),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("ngStyle",t.Hh0(5,ye,null!=e&&null!=e.attrs&&e.attrs.textAlign?null==e||null==e.attrs?null:e.attrs.textAlign:"jusify",null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e||null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration,null==e||null==e.attrs?null:e.attrs.textIndent))("id",null!=e&&null!=e.attrs&&e.attrs.hash&&null!=e&&null!=e.attrs&&e.attrs.pathname?(null==e||null==e.attrs?null:e.attrs.pathname.replaceAll("/","").replaceAll("-",""))+(null==e||null==e.attrs?null:e.attrs.hash):"")("ngClass",t.VKq(13,Te,(null==e||null==e.attrs?null:e.attrs.hash)&&(null==e||null==e.attrs?null:e.attrs.pathname))),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.attrs?null:e.attrs.hash)&&(null==e||null==e.attrs?null:e.attrs.pathname)),t.xp6(1),t.Q6J("ngForOf",e.content)}}function Ee(o,n){if(1&o&&(t.TgZ(0,"div",17),t._UZ(1,"cp-content-editor",18),t.qZA()),2&o){const e=t.oxw().$implicit,r=t.oxw(2);t.Q6J("id",(null==e?null:e.targetDocumentKey)+"-CONTENT_"+(null==e?null:e.targetContentKey)),t.xp6(1),t.Q6J("renderDocument",e)("nestedId",null==r.renderedDocument?null:r.renderedDocument.key)("nested",!0)}}function we(o,n){if(1&o&&(t.TgZ(0,"div",19),t._UZ(1,"cp-content-editor",20),t.qZA()),2&o){const e=t.oxw(3);t.Q6J("id",e.nestedId+"-CONTENT"),t.xp6(1),t.Q6J("renderDocument",e.sourceContent)("isSourceContent",!0)("nested",!0)}}function Ne(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Fe,3,15,"p",9),t.YNc(2,Ee,2,4,"div",10),t.YNc(3,we,2,4,"div",11),t.BQk()),2&o){const e=n.$implicit,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf","paragraph"===e.type),t.xp6(1),t.Q6J("ngIf","sourceContent"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","targetContent"===(null==e?null:e.type)&&(null==r.renderedDocument?null:r.renderedDocument.key)===(null==r.sourceContent?null:r.sourceContent.targetDocumentKey)&&(null==e?null:e.key)===(null==r.sourceContent?null:r.sourceContent.targetContentKey))}}function Ae(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ie,2,0,"p",1),t.YNc(2,Ne,4,3,"ng-container",8),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null!=e.renderedDocument&&e.renderedDocument.content)||0===(null==e.renderedDocument||null==e.renderedDocument.content?null:e.renderedDocument.content.length)),t.xp6(1),t.Q6J("ngForOf",null==e.renderedDocument?null:e.renderedDocument.content)}}class J{constructor(n,e,r){this.editorService=n,this._snackBar=e,this.breakpointObserver=r,this.contentEditable=!0,this.nested=!1,this.isSourceContent=!1,this.durationInSeconds=3,this.horizontalPosition="start",this.verticalPosition="bottom"}ngOnInit(){this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{n.matches?(this.pagePadding={paddingTop:"1rem",paddingRight:"1rem",paddingBottom:"1rem",paddingLeft:"1rem"},this.pageSize={width:"fit-content",height:"auto"}):(this.pagePadding={paddingTop:"2cm",paddingRight:"2cm",paddingBottom:"2cm",paddingLeft:"2cm"},this.pageSize={width:this.pageSize?.width?this.pageSize?.width:"210mm",height:this.pageSize?.height?this.pageSize?.height:""})})}ngOnChanges(){this.renderedDocument=this.renderDocument,"sourceContent"===this.renderDocument?.type&&!this.isSourceContent&&(this.sourceContent=this.renderDocument,this.onGetDocument(this.sourceContent.targetDocumentKey))}insertFormControlValue(n){let r=this.renderedDocument?.formGroup?.find(a=>a?.key===n?.targetFormGroupKey)?.control?.find(a=>a?.key===n?.targetFormControlKey),i={value:r?.value,type:r?.type};return"triggerFormControl"===n.type&&"formArray"===r?.type&&(i.value=r?.value?.length),i}getObjectArray(n){return Object.entries(n)}onGetDocument(n){this.editorService.getJSON(n).subscribe(e=>{this.renderedDocument=e.data})}onChangeContent(n){this.editorService.onChangeContent(n)}onTab(n){n.preventDefault();var r=document.getSelection()?.getRangeAt(0),a=document.createTextNode("\t");r?.insertNode(a),r?.setStartAfter(a),r?.setEndAfter(a)}onDeleteContent(n){let e=[...new Set(n?.target?.childNodes[0]?.childNodes)].filter(r=>"P"===r?.nodeName);if(1===e.length){let r=e[0];if(1===r.childNodes.length&&"BR"===r.childNodes[0].nodeName)return!1}}clickTargetLink(n,e){if(n?.attrs?.hash&&n?.attrs?.pathname){const r=new Array(document.getElementsByClassName("targetLink"))[0];for(let a=0;a<=r.length;a++)r[a]?.setAttribute("style","color: unset");document.getElementById(`${n?.attrs?.pathname.replaceAll("/","").replaceAll("-","")}${n?.attrs?.hash}`).style.color="#4285f4",location.hash=n?.attrs?.hash,e&&(navigator.clipboard.writeText(`${location.origin}${n?.attrs?.pathname}${n?.attrs?.hash}`),this._snackBar.open("\u0110\xe3 sao ch\xe9p li\xean k\u1ebft \u0111\u1ebfn \u0111o\u1ea1n kinh n\xe0y","\u0110\xf3ng",{duration:200*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition}))}}static#t=this.\u0275fac=function(e){return new(e||J)(t.Y36(B.TB),t.Y36(rt.pl),t.Y36(A.Yg))};static#e=this.\u0275cmp=t.Xpm({type:J,selectors:[["cp-content-editor"]],inputs:{renderDocument:"renderDocument",nestedId:"nestedId",contentEditable:"contentEditable",nested:"nested",isSourceContent:"isSourceContent",pageSize:"pageSize"},features:[t.TTD],decls:2,vars:2,consts:[["class","editor-wrapper h-100",4,"ngIf"],[4,"ngIf"],[1,"editor-wrapper","h-100"],["class","page","style","\n      box-sizing: border-box;\n      cursor: text;\n      line-height: 1.42;\n      outline: none;\n      overflow-y: auto;\n      tab-size: 6;\n      -moz-tab-size: 6;\n      white-space: pre-wrap;\n      text-align: jutify;\n      word-wrap: break-word;\n      font-size: 17.5px;\n      overflow: hidden;\n      background: #ffff;\n      text-align: justify;\n      user-select: text;\n    ","contenteditable","","aria-multiline","true","role","textbox",3,"id","ngStyle","keyup","keydown.tab","keydown.backspace",4,"ngIf"],["class","page","style","\n      box-sizing: border-box;\n      cursor: text;\n      line-height: 1.42;\n      outline: none;\n      overflow-y: auto;\n      tab-size: 6;\n      -moz-tab-size: 6;\n      white-space: pre-wrap;\n      text-align: jutify;\n      word-wrap: break-word;\n      font-size: 17.5px;\n      overflow: hidden;\n      background: #ffff;\n      text-align: justify;\n      user-select: text;\n    ",3,"id","ngStyle",4,"ngIf"],["contenteditable","","aria-multiline","true","role","textbox",1,"page",2,"box-sizing","border-box","cursor","text","line-height","1.42","outline","none","overflow-y","auto","tab-size","6","-moz-tab-size","6","white-space","pre-wrap","text-align","jutify","word-wrap","break-word","font-size","17.5px","overflow","hidden","background","#ffff","text-align","justify","user-select","text",3,"id","ngStyle","keyup","keydown.tab","keydown.backspace"],[3,"nested","renderDocument"],[1,"page",2,"box-sizing","border-box","cursor","text","line-height","1.42","outline","none","overflow-y","auto","tab-size","6","-moz-tab-size","6","white-space","pre-wrap","text-align","jutify","word-wrap","break-word","font-size","17.5px","overflow","hidden","background","#ffff","text-align","justify","user-select","text",3,"id","ngStyle"],[4,"ngFor","ngForOf"],[3,"ngStyle","id","ngClass","click",4,"ngIf"],["class","targetContent",3,"id",4,"ngIf"],["class","sourceContent",3,"id",4,"ngIf"],[3,"ngStyle","id","ngClass","click"],["mat-icon-button","","class","targetLinkButton",3,"click",4,"ngIf"],["mat-icon-button","",1,"targetLinkButton",3,"click"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"targetContent",3,"id"],[3,"renderDocument","nestedId","nested"],[1,"sourceContent",3,"id"],[3,"renderDocument","isSourceContent","nested"]],template:function(e,r){1&e&&(t.YNc(0,re,3,2,"div",0),t.YNc(1,Ae,3,2,"ng-container",1)),2&e&&(t.Q6J("ngIf",!r.nested),t.xp6(1),t.Q6J("ngIf",r.nested))},dependencies:[c.mk,c.sg,c.O5,c.PC,I.Hw,q.eB,J],styles:[".editor-wrapper[_ngcontent-%COMP%]{padding:1rem}@media only screen and (max-width: 600px){.editor-wrapper[_ngcontent-%COMP%]{padding:0}}.page[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;margin:0 auto;min-height:100%}.targetLink[_ngcontent-%COMP%]{position:relative}.targetLink[_ngcontent-%COMP%]   .targetLinkButton[_ngcontent-%COMP%]{position:absolute;right:100%;visibility:hidden;opacity:0;transition:.5s all;transform:translate(-20px)}.targetLink[_ngcontent-%COMP%]:hover   .targetLinkButton[_ngcontent-%COMP%]{visibility:visible;transform:translate(0);opacity:1}@media only screen and (max-width: 600px){.targetLink[_ngcontent-%COMP%]:hover   .targetLinkButton[_ngcontent-%COMP%]{transform:translate(10px)}}"]})}var at=d(3267),De=d(3683),gt=d(5754);function ke(o,n){1&o&&(t.TgZ(0,"mat-toolbar"),t._UZ(1,"cp-toolbar-editor"),t.qZA())}function Se(o,n){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","CH\xc8N")}function Me(o,n){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","C\xc0I \u0110\u1eb6T")}function Oe(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-drawer",7)(1,"div",8)(2,"button",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSave())}),t._uU(3,"L\u01b0u"),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onPrint())}),t.TgZ(5,"mat-icon"),t._uU(6,"print"),t.qZA()(),t.TgZ(7,"button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onBack())}),t._uU(8,"Tho\xe1t"),t.qZA()(),t.TgZ(9,"mat-tab-group")(10,"mat-tab",12)(11,"cp-editor-form-control",13),t.NdJ("changeTrigerFormArray",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangeTrigerFormArray(i))}),t.qZA()(),t.YNc(12,Se,3,1,"mat-tab",14),t.YNc(13,Me,3,1,"mat-tab",14),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("mode","side")("opened",e.isShowContronller)("position","end"),t.xp6(10),t.Q6J("label",e.formControlLabel),t.xp6(1),t.Q6J("renderDocument",e.renderDocument),t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",e.contentEditable)}}function Ze(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(),a=t.MAs(8);return t.KtG(i.openBottomSheet(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA()()}2&o&&t.Q6J("color","primary")}function Ie(o,n){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","CH\xc8N")}function Be(o,n){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","C\xc0I \u0110\u1eb6T")}function Je(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",8)(1,"button",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSave())}),t._uU(2,"L\u01b0u"),t.qZA(),t.TgZ(3,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onPrint())}),t.TgZ(4,"mat-icon"),t._uU(5,"print"),t.qZA()(),t.TgZ(6,"button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.editorControllerBottomSheetRef.dismiss())}),t._uU(7," Tho\xe1t "),t.qZA()(),t.TgZ(8,"mat-tab-group")(9,"mat-tab",12)(10,"cp-editor-form-control",13),t.NdJ("changeTrigerFormArray",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangeTrigerFormArray(i))}),t.qZA()(),t.YNc(11,Ie,3,1,"mat-tab",14),t.YNc(12,Be,3,1,"mat-tab",14),t.qZA()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("label",e.formControlLabel),t.xp6(1),t.Q6J("renderDocument",e.renderDocument),t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",e.contentEditable)}}class H{constructor(n,e,r,i,a){this.breakpointObserver=n,this._bottomSheet=e,this.editorService=r,this.location=i,this.router=a,this.contentEditable=!0,this.onSaveContent=new t.vpe,this.changeTrigerFormArray=new t.vpe,this.isShowContronller=!1}ngOnInit(){console.log(this.renderDocument),this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.isShowContronller=!n.matches})}onSave(){this.onSaveContent.emit(this.editorService.onSaveDocument(this.renderDocument))}openBottomSheet(n){this.editorControllerBottomSheetRef=this._bottomSheet.open(n)}onPrint(){let n=window.open("","PRINT",`width=${window.innerWidth},height=${window.innerHeight}`);n?.document.write("<html><head><title>"+document.title.toUpperCase()+" PRINTER</title>"),n?.document.write("</head><body >");const e=document.getElementById(`${this.renderDocument?.key}-CONTENT`),r=document.createElement("DIV");r&&(r.innerHTML=e?.outerHTML,r.childNodes[0].style.padding=0),n?.document.write(r?.outerHTML),n?.document.write("</body></html>"),n?.document.close(),n?.focus(),n?.print()}onChangeTrigerFormArray(n){this.changeTrigerFormArray.emit(n)}onBack(){this.location.back()}static#t=this.\u0275fac=function(e){return new(e||H)(t.Y36(A.Yg),t.Y36($t.ch),t.Y36(B.TB),t.Y36(c.Ye),t.Y36(v.F0))};static#e=this.\u0275cmp=t.Xpm({type:H,selectors:[["caodaion-editor"]],inputs:{renderDocument:"renderDocument",formControlLabel:"formControlLabel",pageSize:"pageSize",contentEditable:"contentEditable"},outputs:{onSaveContent:"onSaveContent",changeTrigerFormArray:"changeTrigerFormArray"},decls:9,vars:7,consts:[[1,"caodaion-editor"],[4,"ngIf"],[1,"drawer-content-wrapper",3,"id"],[3,"renderDocument","contentEditable","pageSize"],["class","editor-controller",3,"mode","opened","position",4,"ngIf"],["mat-fab","","class","edit-content-fab",3,"color","click",4,"ngIf"],["editorControllerBottomSheet",""],[1,"editor-controller",3,"mode","opened","position"],[1,"d-flex","justify-content-between"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-stroked-button","","color","default",3,"click"],[3,"label"],[3,"renderDocument","changeTrigerFormArray"],[3,"label",4,"ngIf"],["mat-fab","",1,"edit-content-fab",3,"color","click"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer-content"),t.YNc(2,ke,2,0,"mat-toolbar",1),t.TgZ(3,"div",2),t._UZ(4,"cp-content-editor",3),t.qZA()(),t.YNc(5,Oe,14,7,"mat-drawer",4),t.qZA(),t.YNc(6,Ze,3,1,"button",5),t.YNc(7,Je,13,4,"ng-template",null,6,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf",r.isShowContronller&&r.contentEditable),t.xp6(1),t.Q6J("id","caodaionEditorDrawer"),t.xp6(1),t.Q6J("renderDocument",r.renderDocument)("contentEditable",r.contentEditable)("pageSize",r.pageSize),t.xp6(1),t.Q6J("ngIf",r.contentEditable),t.xp6(1),t.Q6J("ngIf",!r.isShowContronller&&r.contentEditable))},dependencies:[c.O5,$,J,at.jA,at.kh,at.LW,De.Ye,gt.SK,gt.R7,q.eB,I.Hw,G],styles:[".caodaion-editor{display:flex;flex-direction:column;width:100%;height:100%;background-color:transparent}  .caodaion-editor cp-content-editor{flex:1}  .caodaion-editor mat-drawer{min-width:300px;width:300px;background-color:#fff;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  .caodaion-editor mat-drawer .mat-drawer-inner-container{display:flex;flex-direction:column;overflow:hidden;height:100%}  .caodaion-editor mat-drawer .mat-drawer-inner-container mat-tab-group{flex:1;overflow:auto;position:relative}  .caodaion-editor mat-drawer-content{display:flex;flex-direction:column}  .caodaion-editor mat-toolbar{position:sticky;top:0;border-bottom:solid 1px #f4eff4;background-color:#fff;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  .caodaion-editor mat-toolbar cp-toolbar-editor{width:100%}  .caodaion-editor .drawer-content-wrapper{flex:1;overflow:auto}  .mat-tab-label{min-width:0!important;width:100%}  .edit-content-fab{position:fixed;right:2rem;bottom:calc(77px + 2rem);z-index:9}  .print-content-fab{position:fixed;right:2rem;bottom:calc(77px + 6rem);z-index:9}  mat-bottom-sheet-container{display:flex!important;flex-direction:column;overflow:hidden!important}  mat-bottom-sheet-container .mat-tab-group{max-width:100%;flex:1;overflow:hidden;height:100%}"]})}function Le(o,n){1&o&&t._UZ(0,"mat-progress-bar",3)}function Qe(o,n){1&o&&(t.TgZ(0,"div",4)(1,"mat-icon",5),t._uU(2,"error_outline"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"H\xe3y ho\xe0n th\xe0nh to\xe0n t\u1ea5t c\u1ea3 th\xf4ng tin b\u1eaft bu\u1ed9c tr\u01b0\u1edbc khi l\u01b0u"),t.qZA()())}class L{constructor(n,e,r,i,a,l,s,u){this.editorService=n,this.cauSieuVoViService=e,this.authService=r,this.route=i,this.breakpointObserver=a,this.router=l,this._snackBar=s,this.matDialog=u,this.horizontalPosition="center",this.verticalPosition="bottom",this.isLoading=!1,this.contentEditable=!1}ngOnInit(){this.authService.currentUser?.role?.includes("administrator")?(this._id=void 0,this.route.params.subscribe(n=>{this._id=n._id}),this.onGetDocument("cau-sieu-vo-vi")):this.router.navigate(["/tac-vu"]),this.authService.currentUser?.role?.includes("administrator")?(this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.contentEditable=!n.matches}),this._id=void 0,this.route.params.subscribe(n=>{this._id=n._id}),this.onGetDocument("cau-sieu-vo-vi")):this.router.navigate(["/tac-vu"])}onGetDocument(n){this.isLoading=!0,this._id?this.cauSieuVoViService.getCauSieuVoViById(this._id).subscribe(e=>{e&&(this.cauSieuVoVi=e.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(r=>{this.so=r.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this.isLoading=!1}))},e=>{this.isLoading=!1,console.log(e)}):this.editorService.getJSON(n).subscribe(e=>{this.so=e.data,this.isLoading=!1})}onSaveCauSieuVoVi(n,e){this.isLoading=!0;let r=[];const i=a=>{a?.forEach(l=>{l?.control?.forEach(s=>{let u=r?.find(x=>x?.key===l.key);"formArray"!==s?.type?s?.required&&!s?.value&&(u?u.control.push(s):r.push({key:l?.key,title:l?.title,control:[s]})):i(s?.value)})})};if(i(n?.formGroup),r?.length>0)this.errorGroup=r,this.errorMessageDialogRef=this.matDialog.open(e),this.isLoading=!1;else{let a=new B.T;a._id=n._id,a.documentKey=n.documentKey,a.formGroup=n.formGroup;const l=a.formGroup?.find(p=>"thong-tin-chung"===p.key)?.control,s=l?.find(p=>"nam-dao"===p.key)?.value,u=l?.find(p=>"nam-am-lich"===p.key)?.value,x=l?.find(p=>"thang-am-lich"===p.key)?.value,ut=l?.find(p=>"ngay-am-lich"===p.key)?.value;a.key=this.editorService.generatedSlug(`csvv ${s} ${u} ${x} ${ut}`);let w,N,xt=localStorage.getItem("csvv");xt&&(w=JSON.parse(xt)),N=w,w?.data&&w.data.length>0?w?.data?.find(p=>p?.key===this._id)?(w?.data?.findIndex(p=>p.key===this._id),N.data[w?.data?.findIndex(p=>p.key===this._id)]=a):N?.data.push(a):N={data:[a]},this._id?this.cauSieuVoViService.updateCauSieuVoVi(N,a?.key).subscribe(p=>{p?(this.isLoading=!1,this.cauSieuVoVi=p.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(mt=>{this.so=mt.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this._id=this.so._id,this._snackBar.open("L\u01b0u th\xe0nh c\xf4ng","T\u1eaft",{duration:5,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})):this.isLoading=!1}):this.cauSieuVoViService.addCauSieuVoVi(N,a?.key).subscribe(p=>{p?(this.isLoading=!1,this.cauSieuVoVi=p.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(mt=>{this.so=mt.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this._id=this.so._id,this._snackBar.open("L\u01b0u th\xe0nh c\xf4ng","T\u1eaft",{duration:5,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})):this.isLoading=!1})}}onChangeTrigerFormArray(n){if(n.value){let e=n.value?.trim().replace(new RegExp("[,;.\n]","g"),""),r=e.split(new RegExp("[0-9]","g"));r=r.filter(s=>!!s&&"t"!==s);let i=[],l=this.so.formGroup.find(s=>s.key===n.targetFormGroupKey).control.find(s=>s.key===n.targetFormControlKey);r.forEach((s,u)=>{(s=s.trim()).slice(0,1)===s.slice(0,1).toLowerCase()&&"t"===s.slice(0,1)&&(s=(s=s.slice(1)).trim()),i.push({name:s,age:parseInt(e.slice(e.indexOf(s)+s.length+1,e.indexOf(r[u+1]))?.replace("t",""))})}),i.forEach(s=>{if(s?.name&&s?.age){let u=new ot,x=new ot;u.autocomplete=l.addTemplate[0].autocomplete,u.label=l.addTemplate[0].label,u.placeholder=l.addTemplate[0].placeholder,u.required=l.addTemplate[0].required,u.suffix=l.addTemplate[0].suffix,u.type=l.addTemplate[0].type,u.value=s?.name,x.autocomplete=l.addTemplate[1].autocomplete,x.label=l.addTemplate[1].label,x.placeholder=l.addTemplate[1].placeholder,x.required=l.addTemplate[1].required,x.suffix=l.addTemplate[1].suffix,x.type=l.addTemplate[1].type,x.value=s?.age,l.value.push({control:[u,x]})}}),n.value=""}}static#t=this.\u0275fac=function(e){return new(e||L)(t.Y36(B.TB),t.Y36(F),t.Y36(D.e),t.Y36(v.gz),t.Y36(A.Yg),t.Y36(v.F0),t.Y36(rt.pl),t.Y36(O.on))};static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["app-content"]],decls:5,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[3,"formControlLabel","renderDocument","contentEditable","onSaveContent","changeTrigerFormArray"],["errorMessageDialog",""],["mode","indeterminate"],[1,"error-message-dialog"],["color","warn"]],template:function(e,r){if(1&e){const i=t.EpF();t.YNc(0,Le,1,0,"mat-progress-bar",0),t.TgZ(1,"caodaion-editor",1),t.NdJ("onSaveContent",function(l){t.CHM(i);const s=t.MAs(4);return t.KtG(r.onSaveCauSieuVoVi(l,s))})("changeTrigerFormArray",function(l){return r.onChangeTrigerFormArray(l)}),t._UZ(2,"caodaion-editor"),t.qZA(),t.YNc(3,Qe,5,0,"ng-template",null,2,t.W1O)}2&e&&(t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("formControlLabel","S\u1eda")("renderDocument",r.so)("contentEditable",r.contentEditable))},dependencies:[c.O5,H,I.Hw,m.eI]})}const Pe=[{path:"",component:M},{path:"them-moi",component:L},{path:":_id",component:L}];class K{static#t=this.\u0275fac=function(e){return new(e||K)};static#e=this.\u0275mod=t.oAB({type:K});static#n=this.\u0275inj=t.cJS({imports:[v.Bz.forChild(Pe),v.Bz]})}var Ve=d(9777);d(5017),d(7579),d(1135),d(576),d(9646),d(2722),d(1281),d(445);let Ke=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({}),o})(),rn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[Ke,f.BQ,f.BQ]}),o})();class et{static#t=this.\u0275fac=function(e){return new(e||et)};static#e=this.\u0275mod=t.oAB({type:et});static#n=this.\u0275inj=t.cJS({imports:[c.ez,Ve.l,K,k.N6,S.IF,I.Ps,O.yj,rn,rt.y,m.jc,f.si]})}},3162:(Ct,V,d)=>{d.d(V,{$M:()=>E,Cv:()=>S,Gx:()=>nt,pW:()=>D});var c=d(4650),v=d(6895),t=d(3238),T=d(1281);const E=new c.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),nt=new c.OlP("mat-progress-bar-location",{providedIn:"root",factory:function F(){const m=(0,c.f3M)(v.K0),f=m?m.location:null;return{getPathname:()=>f?f.pathname+f.search:""}}}),A=(0,t.pj)(class{constructor(m){this._elementRef=m}},"primary");let D=(()=>{class m extends A{constructor(_,C,M,O,g){super(_),this._ngZone=C,this._changeDetectorRef=M,this._animationMode=O,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new c.vpe,this._mode="determinate",this._transitionendHandler=Z=>{0===this.animationEnd.observers.length||!Z.target||!Z.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===O,g&&(g.color&&(this.color=this.defaultColor=g.color),this.mode=g.mode||this.mode)}get value(){return this._value}set value(_){this._value=k((0,T.su)(_)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(_){this._bufferValue=k((0,T.su)(_)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(_){this._mode=_,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return m.\u0275fac=function(_){return new(_||m)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(c.QbO,8),c.Y36(E,8))},m.\u0275cmp=c.Xpm({type:m,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(_,C){2&_&&(c.uIk("aria-valuenow",C._isIndeterminate()?null:C.value)("mode",C.mode),c.ekj("_mat-animation-noopable",C._isNoopAnimation)("mdc-linear-progress--animation-ready",!C._isNoopAnimation)("mdc-linear-progress--indeterminate",C._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[c.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(_,C){1&_&&(c.TgZ(0,"div",0),c._UZ(1,"div",1)(2,"div",2),c.qZA(),c.TgZ(3,"div",3),c._UZ(4,"span",4),c.qZA(),c.TgZ(5,"div",5),c._UZ(6,"span",4),c.qZA()),2&_&&(c.xp6(1),c.Udp("flex-basis",C._getBufferBarFlexBasis()),c.xp6(2),c.Udp("transform",C._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),m})();function k(m,f=0,_=100){return Math.max(f,Math.min(_,m))}let S=(()=>{class m{}return m.\u0275fac=function(_){return new(_||m)},m.\u0275mod=c.oAB({type:m}),m.\u0275inj=c.cJS({imports:[t.BQ]}),m})()}}]);