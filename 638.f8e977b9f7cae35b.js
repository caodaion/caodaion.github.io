"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[638],{3638:($,h,l)=>{l.r(h),l.d(h,{GameModule:()=>V});var c=l(6814),u=l(2787),t=l(5879),m=l(4104),f=l(1529),y=l(1088),v=l(3096),p=l(3176);function C(e,r){if(1&e&&(t.TgZ(0,"mat-grid-tile",14)(1,"div",15),t._UZ(2,"img",16),t.TgZ(3,"div",17),t._uU(4),t.qZA()()()),2&e){const n=r.$implicit;t.Q6J("routerLink",null==n?null:n.key),t.xp6(2),t.Q6J("src",null==n?null:n.preview,t.LSH)("alt",null==n?null:n.subject),t.xp6(2),t.Oqu(null==n?null:n.subject)}}let E=(()=>{var e;class r{constructor(a,i,o,s){this.gameService=a,this.cd=i,this.breakpointObserver=o,this.authService=s,this.contentEditable=!1,this.quaList=[],this.cols=2}ngOnInit(){this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(a=>{this.cols=a.matches?2:5}),this.contentEditable=this.authService.contentEditable,"caodaion"===this.authService.currentUser?.userName&&(this.contentEditable=!0)}ngAfterViewChecked(){this.gameService.isActiveKidsList&&this.gameService.isActivePurifyList&&0===this.quaList?.length&&(this.getQuaList(),this.cd.detectChanges())}getQuaList(){this.gameService.getPurifyList().subscribe(a=>{200===a.code&&(this.quaList=JSON.parse(JSON.stringify(a.data)),this.quaList.forEach(i=>{i.preview&&i.preview.match(/d\/([^\/]+)/)&&(i.preview=`https://drive.google.com/uc?export=view&id=${i.preview.match(/d\/([^\/]+)/)[1]}`)}),this.contentEditable||(this.quaList=this.quaList?.filter(i=>1==i?.published)))})}}return(e=r).\u0275fac=function(a){return new(a||e)(t.Y36(f.h),t.Y36(t.sBO),t.Y36(y.Yg),t.Y36(v.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dao-lam-con"]],decls:25,vars:3,consts:[[1,"container-fluid"],[1,"block","lg:flex","flex-wrap","justify-around","items-center","mb-4"],["src","/assets/game/dao-lam-con.jpg","alt","\u0110\u1ea1o l\xe0m con",1,"w-full","lg:w-1/3"],[1,"lg:w-1/3","block","lg:flex","justify-center"],[1,"text-xl","italic","font-semibold","relative","w-fit","px-4","h-fit"],[1,"absolute","text-3xl","bottom-full","left-0"],[1,"absolute","right-0","text-3xl","top-full"],["src","/assets/game/truoc-hieu-thuan.jpg","alt","Tr\u01b0\u1edbc hi\u1ebfu thu\u1eadn",1,"w-full","lg:w-1/3"],["src","/assets/game/thuong-moi-nguoi.jpg","alt","Th\u01b0\u01a1ng m\u1ecdi ng\u01b0\u1eddi",1,"w-full","lg:w-1/3"],["src","/assets/game/ket-ban-tot.jpg","alt","K\u1ebft b\u1ea1n t\u1ed1t",1,"w-full","lg:w-1/3"],["src","/assets/game/hoc-tap-them.jpg","alt","L\u1ea1i n\u1ed7 l\u1ef1c, h\u1ecdc t\u1eadp th\xeam.",1,"w-full","lg:w-1/3"],[1,"mt-4"],[3,"cols","gutterSize"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"border","w-full","h-full","p-3","rounded","cursor-pointer","overflow-hidden"],[3,"src","alt"],[1,"content"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"blockquote",4)(5,"span",5),t._uU(6,'"'),t.qZA(),t.TgZ(7,"p"),t._uU(8,"\u0110\u1ea1o l\xe0m con, th\xe1nh nh\xe2n d\u1ea1y"),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Tr\u01b0\u1edbc hi\u1ebfu thu\u1eadn, sau c\u1ea9n t\xedn"),t.qZA(),t.TgZ(11,"p"),t._uU(12,"Th\u01b0\u01a1ng m\u1ecdi ng\u01b0\u1eddi, k\u1ebft b\u1ea1n t\u1ed1t"),t.qZA(),t.TgZ(13,"p"),t._uU(14,"L\u1ea1i n\u1ed7 l\u1ef1c, h\u1ecdc t\u1eadp th\xeam."),t.qZA(),t.TgZ(15,"span",6),t._uU(16,'"'),t.qZA()()(),t._UZ(17,"img",7)(18,"img",8)(19,"img",9)(20,"img",10),t.qZA(),t._UZ(21,"hr"),t.TgZ(22,"div",11)(23,"mat-grid-list",12),t.YNc(24,C,5,4,"mat-grid-tile",13),t.qZA()()()),2&a&&(t.xp6(23),t.Q6J("cols",i.cols)("gutterSize","1rem"),t.xp6(1),t.Q6J("ngForOf",i.quaList))},dependencies:[c.sg,u.rH,p.Il,p.DX],styles:[".content[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:1px;right:1px;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:.75rem}"]}),r})();function Z(e,r){1&e&&t._uU(0," \u0110\u1ea1o l\xe0m con ")}let A=(()=>{var e;class r{}return(e=r).\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-vuon-trai"]],decls:5,vars:0,consts:[[1,"flex","flex-col","h-full","max-h-full","overflow-hidden"],[1,"flex-[1]","max-h-full"],["mat-tab-label",""]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab"),t.YNc(3,Z,1,0,"ng-template",2),t._UZ(4,"app-dao-lam-con"),t.qZA()()())},dependencies:[m.uD,m.uX,m.SP,E]}),r})();var x=l(9347),T=l(2939),w=l(617),b=l(4611),g=l(6223);const D=["videoFrame"];function L(e,r){if(1&e&&(t.TgZ(0,"div",18)(1,"mat-icon"),t._uU(2,"arrow_back_ios"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw();t.Q6J("routerLink","/kids/vuon-trai/"+n.prev.key),t.xp6(3),t.hij(" ",null==n.prev?null:n.prev.subject," ")}}function j(e,r){if(1&e&&(t.TgZ(0,"div",19),t._uU(1),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_forward_ios"),t.qZA()()),2&e){const n=t.oxw();t.Q6J("routerLink","/kids/vuon-trai/"+n.next.key),t.xp6(1),t.hij(" ",null==n.next?null:n.next.subject," ")}}const U=function(e){return{"!border-[#4285f4]":e}};function F(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"img",20),t.NdJ("click",function(){const o=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.article.preview=o.src)}),t.qZA(),t.BQk()}if(2&e){const n=r.$implicit,a=t.oxw();t.xp6(1),t.Q6J("src",n.src,t.LSH)("alt",null==a.article?null:a.article.subject)("ngClass",t.VKq(3,U,a.article.preview===n.src))}}function J(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"textarea",21),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw();return t.KtG(o.article.article=i)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("ngModel",n.article.article)}}const S=function(e){return{"lg:w-full":e}};function k(e,r){if(1&e&&t._UZ(0,"markdown",22),2&e){const n=t.oxw();t.Q6J("data",n.article.article)("ngClass",t.VKq(2,S,!n.contentEditable))}}const B=[{path:"",children:[{path:"",redirectTo:"vuon-trai",pathMatch:"full"},{path:"vuon-trai",component:A},{path:"vuon-trai/:key",component:(()=>{var e;class r{constructor(a,i,o,s,d,P){this.gameService=a,this.route=i,this.matDialog=o,this.authService=s,this.cd=d,this.snackBar=P,this.contentEditable=!1,this.article={},this.prev={},this.next={}}ngOnInit(){this.contentEditable=this.authService.contentEditable,"caodaion"===this.authService.currentUser?.userName&&(this.contentEditable=!0),this.route.params.subscribe(a=>{this.articleKey=a.key,this.getArticle()})}ngAfterViewChecked(){this.gameService.isActivePurifyList&&this.articleKey&&!this.article.key&&(this.getArticle(),this.cd.detectChanges())}getArticle(){this.gameService.getPurifyByKey(this.articleKey).subscribe(a=>{if(200===a.code){this.article=a.data,this.article.preview&&this.article.preview.match(/d\/([^\/]+)/)&&(this.article.preview=`https://drive.google.com/uc?export=view&id=${this.article.preview.match(/d\/([^\/]+)/)[1]}`),"string"==typeof this.article?.images&&(this.article.images=JSON.parse(this.article?.images)),this.article.images=this.article.images?.map(s=>{const d={};return s.match(/d\/([^\/]+)/)&&(d.ready=!0,d.src=`https://drive.google.com/uc?export=view&id=${s.match(/d\/([^\/]+)/)[1]}`,this.cd.detectChanges()),d}),this.article.audio&&this.article.audio.match(/d\/([^\/]+)/)&&(this.article.audio=`https://drive.google.com/uc?export=view&id=${this.article.audio.match(/d\/([^\/]+)/)[1]}`),this.article.video&&setTimeout(()=>{this.videoFrame&&(this.videoFrame.nativeElement.innerHTML=`<iframe src="${this.article.video}" style="width: 100%; height: 100%" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`)},0);let i=this.gameService?.purifyList;this.contentEditable||(i=i?.filter(s=>1==s?.published));const o=i?.find(s=>s.key===this.articleKey);i?.length>0&&(this.prev=i[i.indexOf(o)-1],this.next=i[i.indexOf(o)+1])}})}}return(e=r).\u0275fac=function(a){return new(a||e)(t.Y36(f.h),t.Y36(u.gz),t.Y36(x.uw),t.Y36(v.e),t.Y36(t.sBO),t.Y36(T.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-details"]],viewQuery:function(a,i){if(1&a&&t.Gf(D,5),2&a){let o;t.iGM(o=t.CRH())&&(i.videoFrame=o.first)}},decls:19,vars:11,consts:[[1,"flex","items-center","justify-between","border-b","p-3","sticky","top-0","z-20","bg-white"],["class","w-full cursor-pointer flex items-center justify-start",3,"routerLink",4,"ngIf"],[1,"w-[1px]","h-6","bg-[#e5e7eb]"],["class","w-full cursor-pointer flex items-center justify-end",3,"routerLink",4,"ngIf"],[1,"container-fluid"],[1,"text-center"],[1,"w-100",3,"src","controls","autoplay"],[1,"flex","flex-col","lg:flex-row"],[1,"p-3","w-full","lg:w-1/2","relative","lg:sticky","top-0","h-fit"],[1,"preview"],[1,"w-full","object-contain",3,"src","alt"],[1,"flex","flex-wrap"],[4,"ngFor","ngForOf"],[1,"flex","w-full","lg:w-1/2","relative","lg:sticky","top-0","h-fit"],["class","variable-textarea w-1/2 p-3 border","placeholder","Update the article content",3,"ngModel","ngModelChange",4,"ngIf"],["class","variable-binding w-full lg:w-1/2 p-3 text-justify bg-white",3,"data","ngClass",4,"ngIf"],[1,"aspect-video"],["videoFrame",""],[1,"w-full","cursor-pointer","flex","items-center","justify-start",3,"routerLink"],[1,"w-full","cursor-pointer","flex","items-center","justify-end",3,"routerLink"],[1,"w-1/6","lg:w-1/12","border-[3px]","cursor-pointer","rounded","border-transparent",3,"src","alt","ngClass","click"],["placeholder","Update the article content",1,"variable-textarea","w-1/2","p-3","border",3,"ngModel","ngModelChange"],[1,"variable-binding","w-full","lg:w-1/2","p-3","text-justify","bg-white",3,"data","ngClass"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t.YNc(1,L,4,2,"div",1),t._UZ(2,"div",2),t.YNc(3,j,4,2,"div",3),t.qZA(),t.TgZ(4,"div",4)(5,"h1",5),t._uU(6),t.qZA(),t._UZ(7,"audio",6),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9),t._UZ(11,"img",10),t.TgZ(12,"div",11),t.YNc(13,F,2,5,"ng-container",12),t.qZA()()(),t.TgZ(14,"div",13),t.YNc(15,J,1,1,"textarea",14),t.YNc(16,k,1,4,"markdown",15),t.qZA()(),t._UZ(17,"div",16,17),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngIf",i.prev),t.xp6(2),t.Q6J("ngIf",i.next),t.xp6(3),t.Oqu(null==i.article?null:i.article.subject),t.xp6(1),t.Q6J("src",null==i.article?null:i.article.audio,t.LSH)("controls",!0)("autoplay",!0),t.xp6(4),t.Q6J("src",null==i.article?null:i.article.preview,t.LSH)("alt",null==i.article?null:i.article.subject),t.xp6(2),t.Q6J("ngForOf",null==i.article?null:i.article.images),t.xp6(2),t.Q6J("ngIf",i.contentEditable),t.xp6(1),t.Q6J("ngIf",i.article.article))},dependencies:[c.mk,c.sg,c.O5,u.rH,w.Hw,b.lF,g.Fj,g.JJ,g.On]}),r})()}]}];let Q=(()=>{var e;class r{}return(e=r).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(B),u.Bz]}),r})();var M=l(2596),O=l(6385),Y=l(2296),N=l(7742),q=l(6848),I=l(4170),G=l(2032),H=l(9038),K=l(8525);let V=(()=>{var e;class r{}return(e=r).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,Q,p.N6,M.AV,O.t,Y.ot,w.Ps,b.JP,g.u5,x.Is,N.N,q.s,I.lN,G.c,m.Nh,H.ie,K.LD]}),r})()}}]);