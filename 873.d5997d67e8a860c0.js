"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[873],{5873:(nn,X,c)=>{c.r(X),c.d(X,{CauSieuVoViModule:()=>tn});var g=c(6814),v=c(2787),t=c(5879),D=c(5592),at=(c(1094),c(9862));let tt=(()=>{var o;class r{constructor(n){this.http=n}getCauSieuVoViList(){return new D.y(l=>{l.next(JSON.parse(localStorage.getItem("csvv")||"{data: []}"))})}getCauSieuVoViById(n){return JSON.parse(localStorage.getItem("csvv")||"{data: []}"),new D.y(a=>{a.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(s=>s.key===n)})})}addCauSieuVoVi(n,i){return localStorage.setItem("csvv",JSON.stringify(n)),new D.y(s=>{s.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(u=>u.key===i)})})}updateCauSieuVoVi(n,i){return localStorage.setItem("csvv",JSON.stringify(n)),new D.y(s=>{s.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(u=>u.key===i)})})}}return(o=r).\u0275fac=function(n){return new(n||o)(t.LFG(at.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),r})();var Z=c(1088),k=c(3096),B=c(3176),M=c(5195),q=c(6007),b=c(3680);function st(o,r){1&o&&t._UZ(0,"mat-progress-bar",5)}function ut(o,r){if(1&o&&(t.TgZ(0,"mat-grid-tile",3)(1,"mat-card",6)(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5),t.qZA()()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("routerLink",null==e?null:e.key),t.xp6(3),t.Oqu(n.getCardDetails(e).title),t.xp6(2),t.hij("\u0110\xe3 ghi nh\u1eadn: ",n.getCardDetails(e).count," linh h\u1ed3n")}}let ct=(()=>{var o;class r{constructor(n,i,l,a){this.cauSieuVoViService=n,this.breakpointObserver=i,this.authService=l,this.router=a,this.cauSieuVoViList=[],this.cols=1,this.isLoading=!1}ngOnInit(){this.authService.currentUser?.role?.includes("administrator")?(this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.cols=n.matches?1:4}),this.getCauSieuVoViList()):this.router.navigate(["/tac-vu"])}getCauSieuVoViList(){this.isLoading=!0,this.cauSieuVoViService.getCauSieuVoViList().subscribe(n=>{console.log(n),n?.data?(this.cauSieuVoViList=n?.data,this.isLoading=!1):this.isLoading=!1},n=>{this.isLoading=!1,console.log(n)})}getCardDetails(n){const i=n?.formGroup?.find(p=>"thong-tin-chung"===p.key)?.control,l=i?.find(p=>"nam-am-lich"===p.key)?.value,a=i?.find(p=>"thang-am-lich"===p.key)?.value,s=i?.find(p=>"ngay-am-lich"===p.key)?.value,d=n?.formGroup?.find(p=>"thong-tin-cau-sieu"===p.key)?.control?.find(p=>"linh-hon"===p.key)?.value?.length;return{title:`C\u1ea7u si\xeau v\xe0o ng\xe0y ${s} th\xe1ng ${a} n\u0103m ${l}`,count:d}}}return(o=r).\u0275fac=function(n){return new(n||o)(t.Y36(tt),t.Y36(Z.Yg),t.Y36(k.e),t.Y36(v.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cau-sieu-vo-vi-list"]],decls:5,vars:4,consts:[["mode","indeterminate",4,"ngIf"],["rowHeight","2:1",1,"w-100",3,"cols"],["class","csvv-item w-100",3,"routerLink",4,"ngFor","ngForOf"],[1,"csvv-item","w-100",3,"routerLink"],["appearance","outlined",1,"w-100","h-100"],["mode","indeterminate"],["appearance","outlined","matRipple","",1,"w-100","h-100"]],template:function(n,i){1&n&&(t.YNc(0,st,1,0,"mat-progress-bar",0),t.TgZ(1,"mat-grid-list",1),t.YNc(2,ut,6,3,"mat-grid-tile",2),t.TgZ(3,"mat-grid-tile",3),t._UZ(4,"mat-card",4),t.qZA()()),2&n&&(t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("cols",i.cols),t.xp6(1),t.Q6J("ngForOf",i.cauSieuVoViList),t.xp6(1),t.Q6J("routerLink","them-moi"))},dependencies:[g.sg,g.O5,v.rH,B.Il,B.DX,M.a8,M.$j,M.n5,q.pW,b.wG],styles:[".csvv-item{cursor:pointer}  .csvv-item .mat-grid-tile-content{padding:1rem}"]}),r})();var P=c(9347),f=c(4170),Y=c(2032),m=c(6223),F=c(2296),O=c(3305),et=c(7466),E=c(617),dt=c(6385);function pt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",8),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG("prevText"===l.modifierAt?l.inputFormControl.prevText:"nextText"===l.modifierAt?l.inputFormControl.nextText:l.inputFormControl.value=i)}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("type","text")("placeholder","prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.placeholder)("ngModel","prevText"===e.modifierAt?e.inputFormControl.prevText:"nextText"===e.modifierAt?e.inputFormControl.nextText:e.inputFormControl.value)("required",null==e.inputFormControl?null:e.inputFormControl.required)("autocomplete",null!=e.inputFormControl&&e.inputFormControl.autocomplete?null==e.inputFormControl?null:e.inputFormControl.autocomplete:"off")("maxlength",null==e.inputFormControl?null:e.inputFormControl.maxLength)("minlength",null==e.inputFormControl?null:e.inputFormControl.minLength)("disabled",null==e.inputFormControl?null:e.inputFormControl.disabled)("disabled",!e.contentEditable)}}function _t(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"textarea",9),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG(l.inputFormControl.value=i)}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("rows",null==e.inputFormControl?null:e.inputFormControl.rows)("placeholder",null==e.inputFormControl?null:e.inputFormControl.placeholder)("ngModel",e.inputFormControl.value)("required",null==e.inputFormControl?null:e.inputFormControl.required)("autocomplete",null!=e.inputFormControl&&e.inputFormControl.autocomplete?null==e.inputFormControl?null:e.inputFormControl.autocomplete:"off")("maxlength",null==e.inputFormControl?null:e.inputFormControl.maxLength)("minlength",null==e.inputFormControl?null:e.inputFormControl.minLength)("disabled",null==e.inputFormControl?null:e.inputFormControl.disabled)("disabled",!e.contentEditable)}}function mt(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getErrorMessage(e.inputFormControl))}}function gt(o,r){if(1&o&&(t.TgZ(0,"mat-hint",10),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("align","end"),t.xp6(1),t.AsE("",(null==e.inputFormControl||null==e.inputFormControl.value?null:e.inputFormControl.value.length)||0," / ",null==e.inputFormControl?null:e.inputFormControl.maxLength,"")}}function ft(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",1)(1,"mat-label"),t._uU(2),t.qZA(),t.YNc(3,pt,1,9,"input",2),t.YNc(4,_t,1,9,"textarea",3),t.YNc(5,mt,2,1,"mat-error",4),t.YNc(6,gt,2,3,"mat-hint",5),t.TgZ(7,"span",6),t._uU(8),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.qZA()()),2&o){const e=t.oxw();t.Q6J("hintLabel",(null!=e.inputFormControl&&null!=e.inputFormControl.hintLabel&&e.inputFormControl.hintLabel.text?null==e.inputFormControl||null==e.inputFormControl.hintLabel?null:e.inputFormControl.hintLabel.text:"")+e.getOptionalLabel(e.inputFormControl)),t.xp6(2),t.Oqu("prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.label),t.xp6(1),t.Q6J("ngIf","shortText"===(null==e.inputFormControl?null:e.inputFormControl.type)),t.xp6(1),t.Q6J("ngIf","longText"===(null==e.inputFormControl?null:e.inputFormControl.type)),t.xp6(1),t.Q6J("ngIf",!!e.getErrorMessage(e.inputFormControl)),t.xp6(1),t.Q6J("ngIf",null==e.inputFormControl?null:e.inputFormControl.maxLength),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.prefix),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.suffix)}}let ht=(()=>{var o;class r{constructor(n){this.authService=n}ngOnInit(){this.contentEditable=this.authService.contentEditable}getOptionalLabel(n){let i="";return n?.minLength&&(i+=`. T\u1ed1i thi\u1ec3u: ${n?.minLength} k\xfd t\u1ef1`),n?.maxLength&&(i+=`. T\u1ed1i \u0111a: ${n?.maxLength} k\xfd t\u1ef1`),i}getErrorMessage(n){let i="";return n?.required&&(i+=n?.requiredErrorMessage?n?.requiredErrorMessage:""),i}}return(o=r).\u0275fac=function(n){return new(n||o)(t.Y36(k.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cp-input-form-field"]],inputs:{inputFormControl:"inputFormControl",modifierAt:"modifierAt"},decls:1,vars:1,consts:[["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange",4,"ngIf"],["matInput","",3,"rows","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange",4,"ngIf"],[4,"ngIf"],["class","hint-max-lenght",3,"align",4,"ngIf"],["matPrefix",""],["matSuffix",""],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],["matInput","",3,"rows","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],[1,"hint-max-lenght",3,"align"]],template:function(n,i){1&n&&t.YNc(0,ft,11,8,"mat-form-field",0),2&n&&t.Q6J("ngIf",null==i.inputFormControl||null==i.inputFormControl.type?null:i.inputFormControl.type.includes("Text"))},dependencies:[g.O5,f.KE,f.hX,f.bx,f.TO,f.qo,f.R9,Y.Nt,m.Fj,m.JJ,m.Q7,m.wO,m.nD,m.On],styles:["mat-form-field{min-width:0}"]}),r})();function Ct(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getErrorMessage(e.inputFormControl))}}function xt(o,r){if(1&o&&(t.TgZ(0,"mat-hint",7),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("align","end"),t.xp6(1),t.AsE("",(null==e.inputFormControl||null==e.inputFormControl.value?null:e.inputFormControl.value.length)||0," / ",null==e.inputFormControl?null:e.inputFormControl.maxLength,"")}}function vt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",1)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"input",2),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG("prevText"===l.modifierAt?l.inputFormControl.prevText:"nextText"===l.modifierAt?l.inputFormControl.nextText:l.inputFormControl.value=i)}),t.qZA(),t.YNc(4,Ct,2,1,"mat-error",3),t.YNc(5,xt,2,3,"mat-hint",4),t.TgZ(6,"span",5),t._uU(7),t.qZA(),t.TgZ(8,"span",6),t._uU(9),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("hintLabel",(null!=e.inputFormControl&&null!=e.inputFormControl.hintLabel&&e.inputFormControl.hintLabel.text?null==e.inputFormControl||null==e.inputFormControl.hintLabel?null:e.inputFormControl.hintLabel.text:"")+e.getOptionalLabel(e.inputFormControl)),t.xp6(2),t.Oqu("prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.label),t.xp6(1),t.Q6J("type","number")("placeholder","prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.placeholder)("ngModel","prevText"===e.modifierAt?e.inputFormControl.prevText:"nextText"===e.modifierAt?e.inputFormControl.nextText:e.inputFormControl.value)("required",null==e.inputFormControl?null:e.inputFormControl.required)("autocomplete",null!=e.inputFormControl&&e.inputFormControl.autocomplete?null==e.inputFormControl?null:e.inputFormControl.autocomplete:"off")("maxlength",null==e.inputFormControl?null:e.inputFormControl.maxLength)("minlength",null==e.inputFormControl?null:e.inputFormControl.minLength)("disabled",null==e.inputFormControl?null:e.inputFormControl.disabled),t.xp6(1),t.Q6J("ngIf",!!e.getErrorMessage(e.inputFormControl)),t.xp6(1),t.Q6J("ngIf",null==e.inputFormControl?null:e.inputFormControl.maxLength),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.prefix),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.suffix)}}let bt=(()=>{var o;class r{constructor(){}ngOnInit(){}getOptionalLabel(n){let i="";return n?.minLength&&(i+=`. T\u1ed1i thi\u1ec3u: ${n?.minLength} k\xfd t\u1ef1`),n?.maxLength&&(i+=`. T\u1ed1i \u0111a: ${n?.maxLength} k\xfd t\u1ef1`),i}getErrorMessage(n){let i="";return n?.required&&(i+=n?.requiredErrorMessage?n?.requiredErrorMessage:""),i}}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["cp-number-form-field"]],inputs:{inputFormControl:"inputFormControl",modifierAt:"modifierAt"},decls:1,vars:1,consts:[["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],[4,"ngIf"],["class","hint-max-lenght",3,"align",4,"ngIf"],["matPrefix",""],["matSuffix",""],[1,"hint-max-lenght",3,"align"]],template:function(n,i){1&n&&t.YNc(0,vt,10,14,"mat-form-field",0),2&n&&t.Q6J("ngIf",null==i.inputFormControl||null==i.inputFormControl.type?null:i.inputFormControl.type.includes("number"))},dependencies:[g.O5,f.KE,f.hX,f.bx,f.TO,f.qo,f.R9,Y.Nt,m.Fj,m.JJ,m.Q7,m.wO,m.nD,m.On]}),r})();function Tt(o,r){if(1&o&&(t.ynx(0),t._UZ(1,"cp-input-form-field",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputFormControl",e)}}function yt(o,r){if(1&o&&(t.TgZ(0,"mat-radio-button",12),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(5);t.Q6J("value",e)("disabled",!n.contentEditable),t.xp6(1),t.Oqu(e)}}function Ft(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-radio-group",10),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.value=i)}),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t.YNc(3,yt,2,3,"mat-radio-button",11),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("ngModel",e.value)("ngClass","layout-"+(null==e?null:e.layout)),t.xp6(2),t.Oqu(null==e?null:e.label),t.xp6(1),t.Q6J("ngForOf",null==e?null:e.data)}}function Et(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"textarea",18),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw(3).$implicit;return t.KtG(l.value=i)}),t.qZA()}if(2&o){const e=t.oxw(3).$implicit,n=t.oxw(3);t.Q6J("rows",null==e?null:e.rows)("disabled",!n.contentEditable)("placeholder",null==e?null:e.placeholder)("ngModel",e.value)("required",null==e?null:e.required)("autocomplete",null!=e&&e.autocomplete?null==e?null:e.autocomplete:"off")("maxlength",null==e?null:e.maxLength)("minlength",null==e?null:e.minLength)("disabled",null==e?null:e.disabled)}}function wt(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",16)(1,"mat-label"),t._uU(2),t.qZA(),t.YNc(3,Et,1,9,"textarea",17),t.qZA()),2&o){const e=t.oxw(2).$implicit,n=t.oxw(3);t.Q6J("hintLabel",(null!=e&&null!=e.hintLabel&&e.hintLabel.text?null==e||null==e.hintLabel?null:e.hintLabel.text:"")+n.getOptionalLabel(e)),t.xp6(2),t.Oqu(null==e?null:e.label),t.xp6(1),t.Q6J("ngIf","formArrayTrigerLongString"===(null==e?null:e.type))}}function Nt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",13),t.YNc(1,wt,4,3,"mat-form-field",14),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.onChangeTrigerFormArray(i))}),t.TgZ(3,"mat-icon"),t._uU(4,"sync_alt"),t.qZA(),t._uU(5," Nh\u1eadp "),t.qZA(),t._UZ(6,"mat-divider"),t.qZA()}if(2&o){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf","formArrayTrigerLongString"===(null==e?null:e.type)),t.xp6(1),t.Q6J("color","accent")("disabled",!n.contentEditable)}}function At(o,r){if(1&o&&(t.ynx(0),t._UZ(1,"cp-input-form-field",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputFormControl",e)}}function Dt(o,r){if(1&o&&(t.ynx(0),t._UZ(1,"cp-number-form-field",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputFormControl",e)}}function St(o,r){if(1&o&&(t.ynx(0),t.YNc(1,At,2,1,"ng-container",0),t.YNc(2,Dt,2,1,"ng-container",0),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",null==e||null==e.type?null:e.type.includes("Text")),t.xp6(1),t.Q6J("ngIf",null==e||null==e.type?null:e.type.includes("number"))}}function Zt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",20)(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"button",21),t.NdJ("click",function(){const l=t.CHM(e).index,a=t.oxw(3).$implicit,s=t.oxw(3);return t.KtG(s.onDeleteItem(a,l))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()(),t.YNc(7,St,3,2,"ng-container",2),t._UZ(8,"mat-divider"),t.qZA()}if(2&o){const e=r.$implicit,n=r.index,i=t.oxw(3).$implicit,l=t.oxw(3);t.xp6(3),t.AsE("",null==i?null:i.itemLabel,"(",n+1,")"),t.xp6(1),t.Q6J("disabled",!l.contentEditable),t.xp6(3),t.Q6J("ngForOf",null==e?null:e.control)}}function kt(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Zt,9,4,"div",2),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",null==e?null:e.value)}}function Mt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",19),t.YNc(1,kt,2,1,"ng-container",0),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(3),a=t.MAs(2);return t.KtG(l.onAddNewItem(i,a))}),t.TgZ(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t._uU(5,"Th\xeam "),t.qZA()()}if(2&o){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",(null==e?null:e.value.length)>0),t.xp6(1),t.Q6J("color","primary")("disabled",!n.contentEditable)}}function Ot(o,r){if(1&o&&(t.TgZ(0,"div",24),t._UZ(1,"cp-input-form-field",25)(2,"cp-input-form-field",9)(3,"cp-input-form-field",25),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("inputFormControl",null==n?null:n.value[e])("modifierAt","prevText"),t.xp6(1),t.Q6J("inputFormControl",null==n?null:n.value[e]),t.xp6(1),t.Q6J("inputFormControl",null==n?null:n.value[e])("modifierAt","nextText")}}function It(o,r){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,Ot,4,5,"div",23),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.addressGroup)}}function Jt(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Tt,2,1,"ng-container",0),t.YNc(2,Ft,4,4,"mat-radio-group",5),t.YNc(3,Nt,7,3,"div",6),t.YNc(4,Mt,6,3,"div",7),t.YNc(5,It,2,1,"div",8),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",null==e||null==e.type?null:e.type.includes("Text")),t.xp6(1),t.Q6J("ngIf","radiobox"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formArrayTrigerLongString"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formArray"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","addressGroup"===(null==e?null:e.type))}}function Lt(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-expansion-panel",3)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t._uU(4),t.qZA()(),t.TgZ(5,"div",4)(6,"mat-panel-description"),t._uU(7),t.qZA(),t.YNc(8,Jt,6,5,"ng-container",2),t.qZA()(),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("expanded",!(null==e||!e.expaned)||(null==e?null:e.expaned)),t.xp6(3),t.Oqu(null==e?null:e.title),t.xp6(3),t.Oqu(null==e?null:e.hint),t.xp6(1),t.Q6J("ngForOf",null==e?null:e.control)}}function Qt(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Lt,9,4,"ng-container",2),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.renderDocument.formGroup)}}function Vt(o,r){if(1&o&&(t.TgZ(0,"div",26)(1,"mat-icon",27),t._uU(2,"error_outline"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.errorMessage)}}let Bt=(()=>{var o;class r{constructor(n,i){this.matDialog=n,this.authService=i,this.changeTrigerFormArray=new t.vpe,this.addressGroup=["country","province","district","ward","village","address"],this.errorMessage=void 0}ngOnInit(){this.onChangeControl(),this.contentEditable=this.authService.contentEditable}onChangeControl(){}getErrorMessage(n){let i="";return n?.required&&(i+=n?.requiredErrorMessage?n?.requiredErrorMessage:""),i}getOptionalLabel(n){let i="";return n?.minLength&&(i+=`. T\u1ed1i thi\u1ec3u: ${n?.minLength} k\xfd t\u1ef1`),n?.maxLength&&(i+=`. T\u1ed1i \u0111a: ${n?.maxLength} k\xfd t\u1ef1`),i}getObjectArray(n){return Object.entries(n)}onChangeTrigerFormArray(n){this.changeTrigerFormArray.emit(n)}onAddNewItem(n,i){let l=!0;if(n?.value?.length>0&&n?.value[n?.value?.length-1]?.control?.forEach(s=>{l&&s?.required&&!s?.value&&(l=!1)}),l){let a=[];n?.addTemplate?.forEach(s=>{let u=new U;u.type=s.type,u.value=s.value,u.placeholder=s.placeholder,u.required=s.required,u.autocomplete=s.autocomplete,u.label=s.label,u.suffix=s.suffix,a.push(u)}),n?.value?.push({control:a})}else this.errorMessage="H\xe3y nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin b\u1eaft bu\u1ed9c tr\u01b0\u1edbc khi th\xeam m\u1edbi",this.errorMessageDialogRef=this.matDialog.open(i)}onDeleteItem(n,i){n?.value?.splice(i,1)}}return(o=r).\u0275fac=function(n){return new(n||o)(t.Y36(P.uw),t.Y36(k.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cp-editor-form-control"]],inputs:{renderDocument:"renderDocument"},outputs:{changeTrigerFormArray:"changeTrigerFormArray"},decls:3,vars:1,consts:[[4,"ngIf"],["errorMessageDialog",""],[4,"ngFor","ngForOf"],[3,"expanded"],[1,"form-group"],[3,"ngModel","ngClass","ngModelChange",4,"ngIf"],["class","triger-form-array",4,"ngIf"],["class","form-array",4,"ngIf"],["class","address-group",4,"ngIf"],[3,"inputFormControl"],[3,"ngModel","ngClass","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[1,"triger-form-array"],["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["mat-flat-button","",1,"w-100",3,"color","disabled","click"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"rows","disabled","placeholder","ngModel","required","autocomplete","maxlength","minlength","ngModelChange",4,"ngIf"],["matInput","",3,"rows","disabled","placeholder","ngModel","required","autocomplete","maxlength","minlength","ngModelChange"],[1,"form-array"],[1,"d-flex","justify-content-between"],["mat-icon-button","",3,"disabled","click"],[1,"address-group"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],[3,"inputFormControl","modifierAt"],[1,"error-message-dialog"],["color","warn"]],template:function(n,i){1&n&&(t.YNc(0,Qt,2,1,"ng-container",0),t.YNc(1,Vt,5,1,"ng-template",null,1,t.W1O)),2&n&&t.Q6J("ngIf",null==i.renderDocument?null:i.renderDocument.formGroup)},dependencies:[g.mk,g.sg,g.O5,f.KE,f.hX,Y.Nt,m.Fj,m.JJ,m.Q7,m.wO,m.nD,m.On,F.lW,F.RK,O.ib,O.yz,O.yK,O.u4,et.VQ,et.U0,E.Hw,dt.d,ht,bt],styles:[".form-group mat-panel-description{margin-bottom:1rem}  .form-group .hint-max-lenght{white-space:nowrap}  .form-group mat-radio-group{margin:1.34375em 0}  .form-group .layout-column{display:flex;flex-direction:column;align-items:flex-start}  .form-group mat-radio-button{margin:5px}  .form-group cp-input-form-field,   .form-group cp-number-form-field{min-width:0}  .form-group .form-array mat-divider{margin-bottom:1rem}  .error-message-dialog{text-align:center}  .error-message-dialog .mat-icon{font-size:80px;height:80px;width:80px}  .triger-form-array{margin-bottom:2rem}"]}),r})();class U{}var w=c(7259),G=c(2939),qt=c(8005),Pt=c(8525),Yt=c(2596),$=c(7988);function Ut(o,r){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.viewValue)}}function Gt(o,r){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.viewValue)}}function $t(o,r){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.viewValue)}}const zt=function(o){return{color:o}};function Rt(o,r){if(1&o&&(t.TgZ(0,"button",17)(1,"mat-icon",24),t._uU(2,"circle"),t.qZA()()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(2,zt,null==e?null:e.value))("matTooltip",null==e?null:e.name)}}let Wt=(()=>{var o;class r{constructor(n){this.editorService=n,this.foods=[{value:"steak-0",viewValue:"Steak"},{value:"pizza-1",viewValue:"Pizza"},{value:"tacos-2",viewValue:"Tacos"}],this.colors=[{name:"\u0111en",value:"black"},{name:"tr\u1eafng",value:"white"},{name:"\u0111\u1ecf",value:"red"},{name:"xanh d\u01b0\u01a1ng",value:"blue"},{name:"v\xe0ng",value:"yellow"},{name:"xanh l\xe1",value:"green"},{name:"t\xedm",value:"purple"},{name:"x\xe1m",value:"gray"},{name:"cam",value:"orange"}]}ngOnInit(){}onChangeStyle(n){this.editorService.onChangeStyle(n)}}return(o=r).\u0275fac=function(n){return new(n||o)(t.Y36(w.TB))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cp-toolbar-editor"]],decls:56,vars:10,consts:[[1,"editor-toolbar","d-flex","justify-content-center","align-items-center"],[3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"h-100",3,"placeholder"],[1,"h-100","dropdown-font-size",3,"placeholder"],["mat-icon-button","","matTooltip","\u0110\u1eadm",3,"click"],["mat-icon-button","","matTooltip","Nghi\xeang",3,"click"],["mat-icon-button","","matTooltip","G\u1ea1ch ch\xe2n",3,"click"],[1,"material-icons-outlined"],["mat-icon-button","","matTooltip","M\xe0u v\u0103n b\u1ea3n",3,"matMenuTriggerFor"],[1,"horizontal-menu","color-menu"],["menuColor",""],["mat-icon-button","",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Ch\xe8n \u0111\u01b0\u1eddng li\xean k\u1ebft"],["mat-icon-button","","matTooltip","C\u0103n ch\u1ec9nh",3,"matMenuTriggerFor"],[1,"horizontal-menu"],["menuAlign",""],["mat-icon-button",""],["mat-icon-button","","matTooltip","Danh s\xe1ch \u0111\xe1nh s\u1ed1 \u0111\u1ea7u d\xf2ng"],["mat-icon-button","","matTooltip","Danh s\xe1ch c\xf3 d\u1ea5u \u0111\u1ea7u d\xf2ng"],["mat-icon-button","","matTooltip","Th\xeam",3,"matMenuTriggerFor"],["menuMore",""],["mat-menu-item",""],[3,"value"],[3,"ngStyle","matTooltip"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"mat-select",1),t.YNc(2,Ut,2,2,"mat-option",2),t.qZA(),t.TgZ(3,"mat-select",3),t.YNc(4,Gt,2,2,"mat-option",2),t.qZA(),t.TgZ(5,"mat-select",4),t.YNc(6,$t,2,2,"mat-option",2),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.onChangeStyle({type:"fontWeight"})}),t.TgZ(8,"mat-icon"),t._uU(9,"format_bold"),t.qZA()(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.onChangeStyle({type:"fontStyle"})}),t.TgZ(11,"mat-icon"),t._uU(12,"format_italic"),t.qZA()(),t.TgZ(13,"button",7),t.NdJ("click",function(){return i.onChangeStyle({type:"textDecoration"})}),t.TgZ(14,"mat-icon",8),t._uU(15,"format_underlined"),t.qZA()(),t.TgZ(16,"button",9)(17,"mat-icon",8),t._uU(18,"format_color_text"),t.qZA()(),t.TgZ(19,"mat-menu",10,11),t.YNc(21,Rt,3,4,"button",12),t.qZA(),t.TgZ(22,"button",13)(23,"mat-icon",8),t._uU(24,"link"),t.qZA()(),t.TgZ(25,"button",14)(26,"mat-icon",8),t._uU(27,"format_align_left"),t.qZA()(),t.TgZ(28,"mat-menu",15,16)(30,"button",17)(31,"mat-icon"),t._uU(32,"format_align_left"),t.qZA()(),t.TgZ(33,"button",17)(34,"mat-icon"),t._uU(35,"format_align_center"),t.qZA()(),t.TgZ(36,"button",17)(37,"mat-icon"),t._uU(38,"format_align_right"),t.qZA()()(),t.TgZ(39,"button",18)(40,"mat-icon",8),t._uU(41,"format_list_numbered"),t.qZA()(),t.TgZ(42,"button",19)(43,"mat-icon",8),t._uU(44,"format_list_bulleted"),t.qZA()(),t.TgZ(45,"button",20)(46,"mat-icon"),t._uU(47,"more_horiz"),t.qZA()(),t.TgZ(48,"mat-menu",null,21)(50,"button",22),t._uU(51,"More 1"),t.qZA(),t.TgZ(52,"button",22),t._uU(53,"More 2"),t.qZA(),t.TgZ(54,"button",22),t._uU(55,"More 3"),t.qZA()()()),2&n){const l=t.MAs(20),a=t.MAs(29),s=t.MAs(49);t.xp6(1),t.Q6J("placeholder","Ki\u1ec3u ch\u1eef"),t.xp6(1),t.Q6J("ngForOf",i.foods),t.xp6(1),t.Q6J("placeholder","Ph\xf4ng ch\u1eef"),t.xp6(1),t.Q6J("ngForOf",i.foods),t.xp6(1),t.Q6J("placeholder","C\u1ee1 ch\u1eef"),t.xp6(1),t.Q6J("ngForOf",i.foods),t.xp6(10),t.Q6J("matMenuTriggerFor",l),t.xp6(5),t.Q6J("ngForOf",i.colors),t.xp6(4),t.Q6J("matMenuTriggerFor",a),t.xp6(20),t.Q6J("matMenuTriggerFor",s)}},dependencies:[g.sg,g.PC,Pt.gD,b.ey,E.Hw,Yt.gM,F.RK,$.VK,$.OP,$.p6],styles:[".editor-toolbar{background-color:#fff;position:sticky;top:0}  .editor-toolbar .mat-form-field-wrapper{padding-bottom:0}  .editor-toolbar .dropdown-font-size{width:350px}  .horizontal-menu .mat-mdc-menu-content:not(:empty){display:flex;flex-wrap:wrap}  .color-menu .mat-mdc-icon-button{box-sizing:border-box;line-height:1;height:30px;width:30px;display:flex;align-items:center;justify-content:center}  .color-menu .mat-mdc-icon-button .mat-icon{border-radius:50%;border:solid 1px #f4eff4;display:flex;align-items:center;justify-content:center}"]}),r})();const nt=function(o,r,e,n,i,l){return{paddingTop:o,paddingRight:r,paddingBottom:e,paddingLeft:n,width:i,height:l}};function Kt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("keyup",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG(l.onChangeContent(i))})("keydown.tab",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG(l.onTab(i))})("keydown.backspace",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG(l.onDeleteContent(i))}),t._UZ(1,"cp-content-editor",6),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("id",(null==e.renderedDocument?null:e.renderedDocument.key)+"-CONTENT")("ngStyle",t.HTZ(4,nt,null==e.pagePadding?null:e.pagePadding.paddingTop,null==e.pagePadding?null:e.pagePadding.paddingRight,null==e.pagePadding?null:e.pagePadding.paddingBottom,null==e.pagePadding?null:e.pagePadding.paddingLeft,null==e.pageSize?null:e.pageSize.width,null==e.pageSize?null:e.pageSize.height)),t.xp6(1),t.Q6J("nested",!0)("renderDocument",e.renderedDocument)}}function Ht(o,r){if(1&o&&(t.TgZ(0,"div",7),t._UZ(1,"cp-content-editor",6),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("id",(null==e.renderedDocument?null:e.renderedDocument.key)+"-CONTENT")("ngStyle",t.HTZ(4,nt,null==e.pagePadding?null:e.pagePadding.paddingTop,null==e.pagePadding?null:e.pagePadding.paddingRight,null==e.pagePadding?null:e.pagePadding.paddingBottom,null==e.pagePadding?null:e.pagePadding.paddingLeft,null==e.pageSize?null:e.pageSize.width,null==e.pageSize?null:e.pageSize.height)),t.xp6(1),t.Q6J("nested",!0)("renderDocument",e.renderedDocument)}}function jt(o,r){if(1&o&&(t.TgZ(0,"div",2),t.YNc(1,Kt,2,11,"div",3),t.YNc(2,Ht,2,11,"div",4),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",!e.contentEditable)}}function Xt(o,r){1&o&&(t.TgZ(0,"p"),t._UZ(1,"br"),t.qZA())}function te(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,l=t.oxw(2);return t.KtG(l.clickTargetLink(i,!0))}),t.TgZ(1,"mat-icon"),t._uU(2,"link"),t.qZA()()}}const I=function(o,r,e,n,i){return{color:o,fontWeight:r,fontStyle:e,fontSize:n,textDecoration:i}};function ee(o,r){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.Q6J("ngStyle",t.qbA(2,I,null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration)),t.xp6(1),t.Oqu(e.text)}}function ne(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.text)}}function oe(o,r){if(1&o&&(t.ynx(0),t.YNc(1,ee,2,8,"span",15),t.YNc(2,ne,2,1,"ng-container",1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!(null==e||!e.attrs)),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.attrs))}}function ie(o,r){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,n=t.oxw(4);let i;t.Q6J("ngStyle",t.qbA(2,I,null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration)),t.xp6(1),t.Oqu(null==(i=n.insertFormControlValue(e))?null:i.value)}}function re(o,r){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,n=t.oxw(4);let i;t.Q6J("ngStyle",t.qbA(2,I,null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration)),t.xp6(1),t.Oqu(null==(i=n.insertFormControlValue(e))?null:i.value)}}function le(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu((null==e[1]?null:e[1].prevText)+" ")}}function ae(o,r){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,n=t.oxw(2).$implicit;t.Q6J("ngStyle",t.qbA(2,I,null==n||null==n.attrs?null:n.attrs.color,null==n||null==n.attrs?null:n.attrs.fontWeight,null==n||null==n.attrs?null:n.attrs.fontStyle,null==n.attrs?null:n.attrs.fontSize,null==n||null==n.attrs?null:n.attrs.textDecoration)),t.xp6(1),t.Oqu(null==e[1]?null:e[1].value)}}function se(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(),n=e.$implicit,i=e.index,l=t.oxw(2).$implicit,a=t.oxw(4);let s;t.xp6(1),t.Oqu(" "+(null==n[1]?null:n[1].nextText)+(i===a.getObjectArray(null==(s=a.insertFormControlValue(l))?null:s.value).length-1?"":", "))}}function ue(o,r){if(1&o&&(t.ynx(0),t.YNc(1,le,2,1,"span",1),t.YNc(2,ae,2,8,"span",15),t.YNc(3,se,2,1,"span",1),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",null==e[1]?null:e[1].prevText),t.xp6(1),t.Q6J("ngIf",null==e[1]?null:e[1].value),t.xp6(1),t.Q6J("ngIf",null==e[1]?null:e[1].nextText)}}function ce(o,r){if(1&o&&(t.ynx(0),t.YNc(1,ue,4,3,"ng-container",8),t.BQk()),2&o){const e=t.oxw().$implicit,n=t.oxw(4);let i;t.xp6(1),t.Q6J("ngForOf",n.getObjectArray(null==(i=n.insertFormControlValue(e))?null:i.value))}}function de(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit,n=t.oxw().index,i=t.oxw(2).$implicit,l=t.oxw(4);let a;t.xp6(1),t.AsE("",e.suffix,"",n===(null==(a=l.insertFormControlValue(i))?null:a.value.length)-1?".":","," ")}}function pe(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.YNc(3,de,2,2,"ng-container",1),t.BQk()),2&o){const e=r.$implicit;t.xp6(2),t.hij("",null==e?null:e.value," "),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.value)&&e.suffix)}}function _e(o,r){if(1&o&&(t.ynx(0),t.YNc(1,pe,4,2,"ng-container",8),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",null==e?null:e.control)}}function me(o,r){if(1&o&&(t.ynx(0),t.YNc(1,_e,2,1,"ng-container",8),t.BQk()),2&o){const e=t.oxw().$implicit,n=t.oxw(4);let i;t.xp6(1),t.Q6J("ngForOf",null==(i=n.insertFormControlValue(e))?null:i.value)}}function ge(o,r){if(1&o&&(t.ynx(0),t.YNc(1,oe,3,2,"ng-container",1),t.YNc(2,ie,2,8,"span",15),t.YNc(3,re,2,8,"span",15),t.YNc(4,ce,2,1,"ng-container",1),t.YNc(5,me,2,1,"ng-container",1),t.BQk()),2&o){const e=r.$implicit,n=t.oxw(4);let i,l,a;t.xp6(1),t.Q6J("ngIf","text"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formControl"===(null==e?null:e.type)&&"shortText"===(null==(i=n.insertFormControlValue(e))?null:i.type)||"radiobox"===(null==(i=n.insertFormControlValue(e))?null:i.type)),t.xp6(1),t.Q6J("ngIf","triggerFormControl"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formControl"===(null==e?null:e.type)&&"addressGroup"===(null==(l=n.insertFormControlValue(e))?null:l.type)),t.xp6(1),t.Q6J("ngIf","formControl"===(null==e?null:e.type)&&"formArray"===(null==(a=n.insertFormControlValue(e))?null:a.type))}}const fe=function(o,r,e,n,i,l,a){return{textAlign:o,color:r,fontWeight:e,fontStyle:n,fontSize:i,textDecoration:l,textIndent:a,margin:0}},he=function(o){return{targetLink:o}};function Ce(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"p",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.clickTargetLink(i))}),t.YNc(1,te,3,0,"button",13),t.YNc(2,ge,6,5,"ng-container",8),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("ngStyle",t.Hh0(5,fe,null!=e&&null!=e.attrs&&e.attrs.textAlign?null==e||null==e.attrs?null:e.attrs.textAlign:"jusify",null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e||null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration,null==e||null==e.attrs?null:e.attrs.textIndent))("id",null!=e&&null!=e.attrs&&e.attrs.hash&&null!=e&&null!=e.attrs&&e.attrs.pathname?(null==e||null==e.attrs?null:e.attrs.pathname.replaceAll("/","").replaceAll("-",""))+(null==e||null==e.attrs?null:e.attrs.hash):"")("ngClass",t.VKq(13,he,(null==e||null==e.attrs?null:e.attrs.hash)&&(null==e||null==e.attrs?null:e.attrs.pathname))),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.attrs?null:e.attrs.hash)&&(null==e||null==e.attrs?null:e.attrs.pathname)),t.xp6(1),t.Q6J("ngForOf",e.content)}}function xe(o,r){if(1&o&&(t.TgZ(0,"div",17),t._UZ(1,"cp-content-editor",18),t.qZA()),2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.Q6J("id",(null==e?null:e.targetDocumentKey)+"-CONTENT_"+(null==e?null:e.targetContentKey)),t.xp6(1),t.Q6J("renderDocument",e)("nestedId",null==n.renderedDocument?null:n.renderedDocument.key)("nested",!0)}}function ve(o,r){if(1&o&&(t.TgZ(0,"div",19),t._UZ(1,"cp-content-editor",20),t.qZA()),2&o){const e=t.oxw(3);t.Q6J("id",e.nestedId+"-CONTENT"),t.xp6(1),t.Q6J("renderDocument",e.sourceContent)("isSourceContent",!0)("nested",!0)}}function be(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Ce,3,15,"p",9),t.YNc(2,xe,2,4,"div",10),t.YNc(3,ve,2,4,"div",11),t.BQk()),2&o){const e=r.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf","paragraph"===e.type),t.xp6(1),t.Q6J("ngIf","sourceContent"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","targetContent"===(null==e?null:e.type)&&(null==n.renderedDocument?null:n.renderedDocument.key)===(null==n.sourceContent?null:n.sourceContent.targetDocumentKey)&&(null==e?null:e.key)===(null==n.sourceContent?null:n.sourceContent.targetContentKey))}}function Te(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Xt,2,0,"p",1),t.YNc(2,be,4,3,"ng-container",8),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null!=e.renderedDocument&&e.renderedDocument.content)||0===(null==e.renderedDocument||null==e.renderedDocument.content?null:e.renderedDocument.content.length)),t.xp6(1),t.Q6J("ngForOf",null==e.renderedDocument?null:e.renderedDocument.content)}}let ye=(()=>{var o;class r{constructor(n,i,l){this.editorService=n,this._snackBar=i,this.breakpointObserver=l,this.contentEditable=!0,this.nested=!1,this.isSourceContent=!1,this.durationInSeconds=3,this.horizontalPosition="start",this.verticalPosition="bottom"}ngOnInit(){this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{n.matches?(this.pagePadding={paddingTop:"1rem",paddingRight:"1rem",paddingBottom:"1rem",paddingLeft:"1rem"},this.pageSize={width:"fit-content",height:"auto"}):(this.pagePadding={paddingTop:"2cm",paddingRight:"2cm",paddingBottom:"2cm",paddingLeft:"2cm"},this.pageSize={width:this.pageSize?.width?this.pageSize?.width:"210mm",height:this.pageSize?.height?this.pageSize?.height:""})})}ngOnChanges(){this.renderedDocument=this.renderDocument,"sourceContent"===this.renderDocument?.type&&!this.isSourceContent&&(this.sourceContent=this.renderDocument,this.onGetDocument(this.sourceContent.targetDocumentKey))}insertFormControlValue(n){let l=this.renderedDocument?.formGroup?.find(s=>s?.key===n?.targetFormGroupKey)?.control?.find(s=>s?.key===n?.targetFormControlKey),a={value:l?.value,type:l?.type};return"triggerFormControl"===n.type&&"formArray"===l?.type&&(a.value=l?.value?.length),a}getObjectArray(n){return Object.entries(n)}onGetDocument(n){this.editorService.getJSON(n).subscribe(i=>{this.renderedDocument=i.data})}onChangeContent(n){this.editorService.onChangeContent(n)}onTab(n){n.preventDefault();var i=document.getSelection(),l=i?.getRangeAt(0),s=document.createTextNode("\t");l?.insertNode(s),l?.setStartAfter(s),l?.setEndAfter(s)}onDeleteContent(n){let i=[...new Set(n?.target?.childNodes[0]?.childNodes)].filter(l=>"P"===l?.nodeName);if(1===i.length){let l=i[0];if(1===l.childNodes.length&&"BR"===l.childNodes[0].nodeName)return!1}}clickTargetLink(n,i){if(n?.attrs?.hash&&n?.attrs?.pathname){const l=new Array(document.getElementsByClassName("targetLink"))[0];for(let s=0;s<=l.length;s++)l[s]?.setAttribute("style","color: unset");document.getElementById(`${n?.attrs?.pathname.replaceAll("/","").replaceAll("-","")}${n?.attrs?.hash}`).style.color="#4285f4",location.hash=n?.attrs?.hash,i&&(navigator.clipboard.writeText(`${location.origin}${n?.attrs?.pathname}${n?.attrs?.hash}`),this._snackBar.open("\u0110\xe3 sao ch\xe9p li\xean k\u1ebft \u0111\u1ebfn \u0111o\u1ea1n kinh n\xe0y","\u0110\xf3ng",{duration:200*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition}))}}}return(o=r).\u0275fac=function(n){return new(n||o)(t.Y36(w.TB),t.Y36(G.ux),t.Y36(Z.Yg))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cp-content-editor"]],inputs:{renderDocument:"renderDocument",nestedId:"nestedId",contentEditable:"contentEditable",nested:"nested",isSourceContent:"isSourceContent",pageSize:"pageSize"},features:[t.TTD],decls:2,vars:2,consts:[["class","editor-wrapper h-100",4,"ngIf"],[4,"ngIf"],[1,"editor-wrapper","h-100"],["class","page","style","\n      box-sizing: border-box;\n      cursor: text;\n      line-height: 1.42;\n      outline: none;\n      overflow-y: auto;\n      tab-size: 6;\n      -moz-tab-size: 6;\n      white-space: pre-wrap;\n      text-align: jutify;\n      word-wrap: break-word;\n      font-size: 17.5px;\n      overflow: hidden;\n      background: #ffff;\n      text-align: justify;\n      user-select: text;\n    ","contenteditable","","aria-multiline","true","role","textbox",3,"id","ngStyle","keyup","keydown.tab","keydown.backspace",4,"ngIf"],["class","page","style","\n      box-sizing: border-box;\n      cursor: text;\n      line-height: 1.42;\n      outline: none;\n      overflow-y: auto;\n      tab-size: 6;\n      -moz-tab-size: 6;\n      white-space: pre-wrap;\n      text-align: jutify;\n      word-wrap: break-word;\n      font-size: 17.5px;\n      overflow: hidden;\n      background: #ffff;\n      text-align: justify;\n      user-select: text;\n    ",3,"id","ngStyle",4,"ngIf"],["contenteditable","","aria-multiline","true","role","textbox",1,"page",2,"box-sizing","border-box","cursor","text","line-height","1.42","outline","none","overflow-y","auto","tab-size","6","-moz-tab-size","6","white-space","pre-wrap","text-align","jutify","word-wrap","break-word","font-size","17.5px","overflow","hidden","background","#ffff","text-align","justify","user-select","text",3,"id","ngStyle","keyup","keydown.tab","keydown.backspace"],[3,"nested","renderDocument"],[1,"page",2,"box-sizing","border-box","cursor","text","line-height","1.42","outline","none","overflow-y","auto","tab-size","6","-moz-tab-size","6","white-space","pre-wrap","text-align","jutify","word-wrap","break-word","font-size","17.5px","overflow","hidden","background","#ffff","text-align","justify","user-select","text",3,"id","ngStyle"],[4,"ngFor","ngForOf"],[3,"ngStyle","id","ngClass","click",4,"ngIf"],["class","targetContent",3,"id",4,"ngIf"],["class","sourceContent",3,"id",4,"ngIf"],[3,"ngStyle","id","ngClass","click"],["mat-icon-button","","class","targetLinkButton",3,"click",4,"ngIf"],["mat-icon-button","",1,"targetLinkButton",3,"click"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"targetContent",3,"id"],[3,"renderDocument","nestedId","nested"],[1,"sourceContent",3,"id"],[3,"renderDocument","isSourceContent","nested"]],template:function(n,i){1&n&&(t.YNc(0,jt,3,2,"div",0),t.YNc(1,Te,3,2,"ng-container",1)),2&n&&(t.Q6J("ngIf",!i.nested),t.xp6(1),t.Q6J("ngIf",i.nested))},dependencies:[g.mk,g.sg,g.O5,g.PC,E.Hw,F.RK,o],styles:[".editor-wrapper[_ngcontent-%COMP%]{padding:1rem}@media only screen and (max-width: 600px){.editor-wrapper[_ngcontent-%COMP%]{padding:0}}.page[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;margin:0 auto;min-height:100%}.targetLink[_ngcontent-%COMP%]{position:relative}.targetLink[_ngcontent-%COMP%]   .targetLinkButton[_ngcontent-%COMP%]{position:absolute;right:100%;visibility:hidden;opacity:0;transition:.5s all;transform:translate(-20px)}.targetLink[_ngcontent-%COMP%]:hover   .targetLinkButton[_ngcontent-%COMP%]{visibility:visible;transform:translate(0);opacity:1}@media only screen and (max-width: 600px){.targetLink[_ngcontent-%COMP%]:hover   .targetLinkButton[_ngcontent-%COMP%]{transform:translate(10px)}}"]}),r})();var z=c(2651),Fe=c(1274),ot=c(4104);function Ee(o,r){1&o&&(t.TgZ(0,"mat-toolbar"),t._UZ(1,"cp-toolbar-editor"),t.qZA())}function we(o,r){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","CH\xc8N")}function Ne(o,r){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","C\xc0I \u0110\u1eb6T")}function Ae(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-drawer",7)(1,"div",8)(2,"button",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSave())}),t._uU(3,"L\u01b0u"),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onPrint())}),t.TgZ(5,"mat-icon"),t._uU(6,"print"),t.qZA()(),t.TgZ(7,"button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onBack())}),t._uU(8,"Tho\xe1t"),t.qZA()(),t.TgZ(9,"mat-tab-group")(10,"mat-tab",12)(11,"cp-editor-form-control",13),t.NdJ("changeTrigerFormArray",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onChangeTrigerFormArray(i))}),t.qZA()(),t.YNc(12,we,3,1,"mat-tab",14),t.YNc(13,Ne,3,1,"mat-tab",14),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("mode","side")("opened",e.isShowContronller)("position","end"),t.xp6(10),t.Q6J("label",e.formControlLabel),t.xp6(1),t.Q6J("renderDocument",e.renderDocument),t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",e.contentEditable)}}function De(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(),l=t.MAs(8);return t.KtG(i.openBottomSheet(l))}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA()()}2&o&&t.Q6J("color","primary")}function Se(o,r){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","CH\xc8N")}function Ze(o,r){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","C\xc0I \u0110\u1eb6T")}function ke(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",8)(1,"button",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSave())}),t._uU(2,"L\u01b0u"),t.qZA(),t.TgZ(3,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onPrint())}),t.TgZ(4,"mat-icon"),t._uU(5,"print"),t.qZA()(),t.TgZ(6,"button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.editorControllerBottomSheetRef.dismiss())}),t._uU(7," Tho\xe1t "),t.qZA()(),t.TgZ(8,"mat-tab-group")(9,"mat-tab",12)(10,"cp-editor-form-control",13),t.NdJ("changeTrigerFormArray",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onChangeTrigerFormArray(i))}),t.qZA()(),t.YNc(11,Se,3,1,"mat-tab",14),t.YNc(12,Ze,3,1,"mat-tab",14),t.qZA()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("label",e.formControlLabel),t.xp6(1),t.Q6J("renderDocument",e.renderDocument),t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",e.contentEditable)}}let Me=(()=>{var o;class r{constructor(n,i,l,a,s){this.breakpointObserver=n,this._bottomSheet=i,this.editorService=l,this.location=a,this.router=s,this.contentEditable=!0,this.onSaveContent=new t.vpe,this.changeTrigerFormArray=new t.vpe,this.isShowContronller=!1}ngOnInit(){console.log(this.renderDocument),this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.isShowContronller=!n.matches})}onSave(){this.onSaveContent.emit(this.editorService.onSaveDocument(this.renderDocument))}openBottomSheet(n){this.editorControllerBottomSheetRef=this._bottomSheet.open(n)}onPrint(){let n=window.open("","PRINT",`width=${window.innerWidth},height=${window.innerHeight}`);n?.document.write("<html><head><title>"+document.title.toUpperCase()+" PRINTER</title>"),n?.document.write("</head><body >");const i=document.getElementById(`${this.renderDocument?.key}-CONTENT`),l=document.createElement("DIV");l&&(l.innerHTML=i?.outerHTML,l.childNodes[0].style.padding=0),n?.document.write(l?.outerHTML),n?.document.write("</body></html>"),n?.document.close(),n?.focus(),n?.print()}onChangeTrigerFormArray(n){this.changeTrigerFormArray.emit(n)}onBack(){this.location.back()}}return(o=r).\u0275fac=function(n){return new(n||o)(t.Y36(Z.Yg),t.Y36(qt.ch),t.Y36(w.TB),t.Y36(g.Ye),t.Y36(v.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["caodaion-editor"]],inputs:{renderDocument:"renderDocument",formControlLabel:"formControlLabel",pageSize:"pageSize",contentEditable:"contentEditable"},outputs:{onSaveContent:"onSaveContent",changeTrigerFormArray:"changeTrigerFormArray"},decls:9,vars:7,consts:[[1,"caodaion-editor"],[4,"ngIf"],[1,"drawer-content-wrapper",3,"id"],[3,"renderDocument","contentEditable","pageSize"],["class","editor-controller",3,"mode","opened","position",4,"ngIf"],["mat-fab","","class","edit-content-fab",3,"color","click",4,"ngIf"],["editorControllerBottomSheet",""],[1,"editor-controller",3,"mode","opened","position"],[1,"d-flex","justify-content-between"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-stroked-button","","color","default",3,"click"],[3,"label"],[3,"renderDocument","changeTrigerFormArray"],[3,"label",4,"ngIf"],["mat-fab","",1,"edit-content-fab",3,"color","click"]],template:function(n,i){1&n&&(t.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer-content"),t.YNc(2,Ee,2,0,"mat-toolbar",1),t.TgZ(3,"div",2),t._UZ(4,"cp-content-editor",3),t.qZA()(),t.YNc(5,Ae,14,7,"mat-drawer",4),t.qZA(),t.YNc(6,De,3,1,"button",5),t.YNc(7,ke,13,4,"ng-template",null,6,t.W1O)),2&n&&(t.xp6(2),t.Q6J("ngIf",i.isShowContronller&&i.contentEditable),t.xp6(1),t.Q6J("id","caodaionEditorDrawer"),t.xp6(1),t.Q6J("renderDocument",i.renderDocument)("contentEditable",i.contentEditable)("pageSize",i.pageSize),t.xp6(1),t.Q6J("ngIf",i.contentEditable),t.xp6(1),t.Q6J("ngIf",!i.isShowContronller&&i.contentEditable))},dependencies:[g.O5,Wt,ye,z.jA,z.kh,z.LW,Fe.Ye,ot.uX,ot.SP,F.lW,F.cs,E.Hw,Bt],styles:[".caodaion-editor{display:flex;flex-direction:column;width:100%;height:100%;background-color:transparent}  .caodaion-editor cp-content-editor{flex:1}  .caodaion-editor mat-drawer{min-width:300px;width:300px;background-color:#fff;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  .caodaion-editor mat-drawer .mat-drawer-inner-container{display:flex;flex-direction:column;overflow:hidden;height:100%}  .caodaion-editor mat-drawer .mat-drawer-inner-container mat-tab-group{flex:1;overflow:auto;position:relative}  .caodaion-editor mat-drawer-content{display:flex;flex-direction:column}  .caodaion-editor mat-toolbar{position:sticky;top:0;border-bottom:solid 1px #f4eff4;background-color:#fff;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  .caodaion-editor mat-toolbar cp-toolbar-editor{width:100%}  .caodaion-editor .drawer-content-wrapper{flex:1;overflow:auto}  .mat-tab-label{min-width:0!important;width:100%}  .edit-content-fab{position:fixed;right:2rem;bottom:calc(77px + 2rem);z-index:9}  .print-content-fab{position:fixed;right:2rem;bottom:calc(77px + 6rem);z-index:9}  mat-bottom-sheet-container{display:flex!important;flex-direction:column;overflow:hidden!important}  mat-bottom-sheet-container .mat-mdc-tab-group{max-width:100%;flex:1;overflow:hidden;height:100%}"]}),r})();function Oe(o,r){1&o&&t._UZ(0,"mat-progress-bar",3)}function Ie(o,r){1&o&&(t.TgZ(0,"div",4)(1,"mat-icon",5),t._uU(2,"error_outline"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"H\xe3y ho\xe0n th\xe0nh to\xe0n t\u1ea5t c\u1ea3 th\xf4ng tin b\u1eaft bu\u1ed9c tr\u01b0\u1edbc khi l\u01b0u"),t.qZA()())}let it=(()=>{var o;class r{constructor(n,i,l,a,s,u,d,p){this.editorService=n,this.cauSieuVoViService=i,this.authService=l,this.route=a,this.breakpointObserver=s,this.router=u,this._snackBar=d,this.matDialog=p,this.horizontalPosition="center",this.verticalPosition="bottom",this.isLoading=!1,this.contentEditable=!1}ngOnInit(){this.authService.currentUser?.role?.includes("administrator")?(this._id=void 0,this.route.params.subscribe(n=>{this._id=n._id}),this.onGetDocument("cau-sieu-vo-vi")):this.router.navigate(["/tac-vu"]),this.authService.currentUser?.role?.includes("administrator")?(this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.contentEditable=!n.matches}),this._id=void 0,this.route.params.subscribe(n=>{this._id=n._id}),this.onGetDocument("cau-sieu-vo-vi")):this.router.navigate(["/tac-vu"])}onGetDocument(n){this.isLoading=!0,this._id?this.cauSieuVoViService.getCauSieuVoViById(this._id).subscribe(i=>{i&&(this.cauSieuVoVi=i.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(l=>{this.so=l.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this.isLoading=!1}))},i=>{this.isLoading=!1,console.log(i)}):this.editorService.getJSON(n).subscribe(i=>{this.so=i.data,this.isLoading=!1})}onSaveCauSieuVoVi(n,i){this.isLoading=!0;let l=[];const a=s=>{s?.forEach(u=>{u?.control?.forEach(d=>{let p=l?.find(h=>h?.key===u.key);"formArray"!==d?.type?d?.required&&!d?.value&&(p?p.control.push(d):l.push({key:u?.key,title:u?.title,control:[d]})):a(d?.value)})})};if(a(n?.formGroup),l?.length>0)this.errorGroup=l,this.errorMessageDialogRef=this.matDialog.open(i),this.isLoading=!1;else{let s=new w.T;s._id=n._id,s.documentKey=n.documentKey,s.formGroup=n.formGroup;const u=s.formGroup?.find(_=>"thong-tin-chung"===_.key)?.control,d=u?.find(_=>"nam-dao"===_.key)?.value,p=u?.find(_=>"nam-am-lich"===_.key)?.value,h=u?.find(_=>"thang-am-lich"===_.key)?.value,en=u?.find(_=>"ngay-am-lich"===_.key)?.value;s.key=this.editorService.generatedSlug(`csvv ${d} ${p} ${h} ${en}`);let T,y,lt=localStorage.getItem("csvv");lt&&(T=JSON.parse(lt)),y=T,T?.data&&T.data.length>0?T?.data?.find(_=>_?.key===this._id)?(T?.data?.findIndex(_=>_.key===this._id),y.data[T?.data?.findIndex(_=>_.key===this._id)]=s):y?.data.push(s):y={data:[s]},this._id?this.cauSieuVoViService.updateCauSieuVoVi(y,s?.key).subscribe(_=>{_?(this.isLoading=!1,this.cauSieuVoVi=_.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(j=>{this.so=j.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this._id=this.so._id,this._snackBar.open("L\u01b0u th\xe0nh c\xf4ng","T\u1eaft",{duration:5,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})):this.isLoading=!1}):this.cauSieuVoViService.addCauSieuVoVi(y,s?.key).subscribe(_=>{_?(this.isLoading=!1,this.cauSieuVoVi=_.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(j=>{this.so=j.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this._id=this.so._id,this._snackBar.open("L\u01b0u th\xe0nh c\xf4ng","T\u1eaft",{duration:5,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})):this.isLoading=!1})}}onChangeTrigerFormArray(n){if(n.value){let i=n.value?.trim().replace(new RegExp("[,;.\n]","g"),""),l=i.split(new RegExp("[0-9]","g"));l=l.filter(d=>!!d&&"t"!==d);let a=[],u=this.so.formGroup.find(d=>d.key===n.targetFormGroupKey).control.find(d=>d.key===n.targetFormControlKey);l.forEach((d,p)=>{(d=d.trim()).slice(0,1)===d.slice(0,1).toLowerCase()&&"t"===d.slice(0,1)&&(d=(d=d.slice(1)).trim()),a.push({name:d,age:parseInt(i.slice(i.indexOf(d)+d.length+1,i.indexOf(l[p+1]))?.replace("t",""))})}),a.forEach(d=>{if(d?.name&&d?.age){let p=new U,h=new U;p.autocomplete=u.addTemplate[0].autocomplete,p.label=u.addTemplate[0].label,p.placeholder=u.addTemplate[0].placeholder,p.required=u.addTemplate[0].required,p.suffix=u.addTemplate[0].suffix,p.type=u.addTemplate[0].type,p.value=d?.name,h.autocomplete=u.addTemplate[1].autocomplete,h.label=u.addTemplate[1].label,h.placeholder=u.addTemplate[1].placeholder,h.required=u.addTemplate[1].required,h.suffix=u.addTemplate[1].suffix,h.type=u.addTemplate[1].type,h.value=d?.age,u.value.push({control:[p,h]})}}),n.value=""}}}return(o=r).\u0275fac=function(n){return new(n||o)(t.Y36(w.TB),t.Y36(tt),t.Y36(k.e),t.Y36(v.gz),t.Y36(Z.Yg),t.Y36(v.F0),t.Y36(G.ux),t.Y36(P.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-content"]],decls:5,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[3,"formControlLabel","renderDocument","contentEditable","onSaveContent","changeTrigerFormArray"],["errorMessageDialog",""],["mode","indeterminate"],[1,"error-message-dialog"],["color","warn"]],template:function(n,i){if(1&n){const l=t.EpF();t.YNc(0,Oe,1,0,"mat-progress-bar",0),t.TgZ(1,"caodaion-editor",1),t.NdJ("onSaveContent",function(s){t.CHM(l);const u=t.MAs(4);return t.KtG(i.onSaveCauSieuVoVi(s,u))})("changeTrigerFormArray",function(s){return i.onChangeTrigerFormArray(s)}),t._UZ(2,"caodaion-editor"),t.qZA(),t.YNc(3,Ie,5,0,"ng-template",null,2,t.W1O)}2&n&&(t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("formControlLabel","S\u1eda")("renderDocument",i.so)("contentEditable",i.contentEditable))},dependencies:[g.O5,Me,E.Hw,q.pW]}),r})();const Je=[{path:"",component:ct},{path:"them-moi",component:it},{path:":_id",component:it}];let Le=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[v.Bz.forChild(Je),v.Bz]}),r})();var Qe=c(4517);c(8337),c(8645),c(5619),c(2664),c(2096),c(9773),c(2495),c(9388);let ze=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({}),r})(),Xe=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[ze,b.BQ,b.BQ]}),r})(),tn=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,Qe.l,Le,B.N6,M.QW,E.Ps,P.Is,Xe,G.ZX,q.Cv,b.si]}),r})()}}]);