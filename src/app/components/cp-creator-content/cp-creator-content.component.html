<div
  [contentEditable]="authService.contentEditable"
  class="creator-content-editable"
  style="
    box-sizing: border-box;
    cursor: text;
    line-height: 1.42;
    outline: none;
    overflow-y: auto;
    tab-size: 6;
    -moz-tab-size: 6;
    white-space: pre-wrap;
    text-align: jutify;
    word-wrap: break-word;
    font-size: 18px;
    overflow: visible;
    text-align: justify;
    user-select: text;
  "
  (blur)="onBlur($event)"
  (input)="updated = true"
  (keydown.enter)="onEnter($event)"
  (keydown.tab)="onTab($event)"
>
  <ng-container *ngFor="let content of data.content">
    <p
      *ngIf="content.type == 'paragraph'"
      [id]="content.key"
      [ngStyle]="{
        textAlign: content?.attrs?.textAlign
          ? content?.attrs?.textAlign
          : 'jusify',
        color: content?.attrs?.color,
        fontWeight: content?.attrs?.fontWeight,
        fontStyle: content?.attrs?.fontStyle,
        fontSize: content?.attrs?.fontSize,
        textDecoration: content?.attrs?.textDecoration,
        textIndent: content?.attrs?.textIndent,
        margin: 0
      }"
    >
      <ng-container *ngFor="let text of content.content">
        <ng-container *ngIf="text.type == 'text' && !text.attrs">{{
          text.text
        }}</ng-container>
        <span
          *ngIf="text.type == 'text' && text.attrs"
          [ngClass]="{ knoll: text?.attrs?.knoll }"
          [ngStyle]="{
            textAlign: text?.attrs?.textAlign
              ? text?.attrs?.textAlign
              : 'jusify',
            color: text?.attrs?.color,
            fontWeight: text?.attrs?.fontWeight,
            fontStyle: text?.attrs?.fontStyle,
            fontSize: text?.attrs?.fontSize,
            textDecoration: text?.attrs?.textDecoration,
            textIndent: text?.attrs?.textIndent,
            position: text?.attrs?.knoll ? 'relative' : ''
          }"
        >
        <ng-container *ngIf="text?.attrs?.knoll">
          <span class="knoll" style="color: rgb(255, 153, 43); position: relative; text-decoration: underline;"><span class="stading-bell-icon" style="position: absolute; height: 15px; right: 100%; bottom: 100%; transform: translate(5px, 5px);"><svg width="15px" height="15px" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 10C3 8.89543 3.89543 8 5 8H51C52.1046 8 53 8.89543 53 10V23C53 36.8071 41.8071 48 28 48V48C14.1929 48 3 36.8071 3 23V10Z" fill="#FF992B"></path>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.1182 8H14.8819L46.5937 39.7118C46.0001 40.3719 45.3719 41.0001 44.7119 41.5937L11.1182 8ZM9.37695 8H10.1485L44.1947 42.0462C44.0556 42.1645 43.9153 42.2814 43.7737 42.3967L9.37695 8ZM47.0462 39.1947L15.8516 8H28.3848L51.614 31.2292C50.5879 34.1741 49.0264 36.8681 47.0462 39.1947Z" fill="#B87333"></path>
            <rect x="27" y="53" width="2" height="16" rx="1" transform="rotate(-90 27 53)" fill="#A82300"></rect>
            <rect x="26" y="55" width="6" height="6" rx="3" transform="rotate(-90 26 55)" fill="#A82300"></rect>
            <rect x="13" y="56" width="8" height="16" rx="1" transform="rotate(-90 13 56)" fill="#FFD700"></rect>
            <rect x="41" y="54" width="4" height="2" rx="1" transform="rotate(-90 41 54)" fill="#A82300"></rect>
            </svg></span><span class="knoll-content">{{ text.text }}</span></span>
        </ng-container>
        <ng-container *ngIf="!text?.attrs?.knoll">{{ text.text }}</ng-container>
        </span>
      </ng-container>
    </p>
  </ng-container>
</div>
<button
  mat-icon-button
  class="targetButton"
  *ngIf="data.attrs.pathname && data.attrs.hash"
  (click)="getLink(data)"
  matTooltip="Sao chép liên kết"
>
  <mat-icon>link</mat-icon>
</button>
<cp-creator-block-toolbar
  *ngIf="data.focused"
  [data]="data"
></cp-creator-block-toolbar>
