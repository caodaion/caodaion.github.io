<div class="wrapper-container lunar-calendar-container" *ngIf="selectedDate">
  <mat-toolbar class="lunar-calendar-toolbar !h-auto !pr-0">
    <div class="!h-auto w-full">
      <div class="d-flex justify-content-between !h-auto w-full overflow-hidden pr-4">
        <div class="d-flex align-items-center w-100">
          <div class="d-flex align-items-center justify-content-between"
            [ngClass]="viewPortMode === 'mobile' ? 'w-100' : ''">
            <div *ngIf="viewPortMode === 'mobile'" class="w-100">
              <mat-select [(ngModel)]="monthSelectValue" (selectionChange)="
                  onChangeSelectedCalendar(calendarMode, monthSelectValue)
                ">
                <mat-option class="!px-0" *ngFor="let item of commonDateTimeValue.month" [value]="item?.key">{{
                  item?.name
                  }}</mat-option>
              </mat-select>
            </div>
            <button mat-icon-button (click)="onChangeSelectedCalendar('current')" [matTooltip]="
                currentDate.solar.getDate() +
                ' th√°ng ' +
                currentDate.solar.getMonth() +
                ' nƒÉm ' +
                currentDate.solar.getFullYear()
              " class="relative">
              <span class="absolute text-[12px] top-1/2 left-1/2 translate-x-[-50%] translate-y-[-40%] font-bold">
                {{currentDate.solar.getDate()}}
              </span>
              <mat-icon>calendar_today</mat-icon>
            </button>
          </div>
          <button *ngIf="viewPortMode === 'desktop'" mat-icon-button (click)="onChangeSelectedCalendar('before')"
            [matTooltip]="calendarMode === 'day' ? 'ng√†y tr∆∞·ªõc' : 'th√°ng tr∆∞·ªõc'">
            <mat-icon>navigate_before</mat-icon>
          </button>
          <button *ngIf="viewPortMode === 'desktop'" mat-icon-button (click)="onChangeSelectedCalendar('next')"
            [matTooltip]="calendarMode === 'day' ? 'ng√†y sau' : 'th√°ng sau'">
            <mat-icon>navigate_next</mat-icon>
          </button>
          <span class="selected-date" *ngIf="viewPortMode === 'desktop'">
            <mat-select [(ngModel)]="monthSelectValue"
              (selectionChange)="onChangeSelectedCalendar(calendarMode, monthSelectValue)" id="month"
              class="!w-auto !text-[20px] !font-[500]">
              <mat-option *ngFor="let item of commonDateTimeValue.month" [value]="item?.key">{{
                item?.name
                }}</mat-option>
            </mat-select>
            {{ selectedDate.solar.getFullYear() }} ({{
            calendarMode === "day"
            ? selectedDate.lunar.convertSolar2Lunar.lunarDayName + "/"
            : ""
            }}{{ selectedDate.lunar.convertSolar2Lunar.lunarMonthName }}/{{
            selectedDate.lunar.convertSolar2Lunar.lunarYearName
            }})</span>
        </div>
        <div class="flex flex-wrap w-full align-items-center justify-center">
          <div (click)="filter.consecutive = !filter.consecutive; updatefliter()"
            class="cursor-pointer bg-[#fbbc05] border border-[#fbbc05] text-xs text-[#fbbc05] rounded px-3 transition"
            [ngClass]="{
              'bg-transparent': !filter.consecutive,
              '!text-black': filter.consecutive
            }" [matTooltip]="'Hi·ªÉn th·ªã h√†nh tr√¨nh'">
            {{currentUser?.consecutive}}
          </div>
          <div (click)="filter.cn = !filter.cn; updatefliter()"
            class="cursor-pointer bg-[#34a853] border border-[#34a853] text-xs text-[#34a853] rounded px-3 transition"
            [ngClass]="{
              'bg-transparent': !filter.cn,
              'text-white': filter.cn
            }" [matTooltip]="'Hi·ªÉn th·ªã Can Chi m·ªói ng√†y'">
            Can chi
          </div>
          <div [matMenuTriggerFor]="filterEventMenu"
            class="cursor-pointer bg-[#34a853] border border-[#34a853] text-xs text-[#34a853] rounded px-3 transition"
            [ngClass]="{
              'bg-transparent':
                !filter.red && !filter.blue && !filter.yellow && !filter.white,
              'text-white':
                filter.red || filter.blue || filter.yellow || filter.white,
            }" [matTooltip]="'Hi·ªÉn th·ªã s·ª± ki·ªán'">
            S·ª± ki·ªán
          </div>
          <mat-menu #filterEventMenu="matMenu">
            <button mat-menu-item class="!text-[#ea4335]" [ngClass]="{
                '!bg-[#ea4335] !text-white': filter.red
              }" (click)="filter.red = !filter.red; updatefliter()">
              S·ª± ki·ªán quan tr·ªçng
            </button>
            <button mat-menu-item class="!text-[#4285f4]" [ngClass]="{
                '!bg-[#4285f4] !text-white': filter.blue
              }" (click)="filter.blue = !filter.blue; updatefliter()">
              S·ª± ki·ªán s√≥c v·ªçng
            </button>
            <button mat-menu-item class="!text-[#fbbc05]" [ngClass]="{
                '!bg-[#fbbc05] !text-black': filter.yellow
              }" (click)="filter.yellow = !filter.yellow; updatefliter()">
              S·ª± ki·ªán quan h√¥n tang t·∫ø
            </button>
            <button mat-menu-item class="!text-black" [ngClass]="{
                '!bg-[#eaf1fb] !text-black': filter.white
              }" (click)="filter.white = !filter.white; updatefliter()">
              C√∫ng t·ª© th·ªùi
            </button>
          </mat-menu>
          <div [matMenuTriggerFor]="veganMenu"
            class="cursor-pointer bg-[#34a853] border border-[#34a853] text-xs text-[#34a853] rounded px-3 transition"
            [ngClass]="{
              'bg-transparent': !filter.six && !filter.ten && !filter.fifteen,
              'text-white': filter.six || filter.ten || filter.fifteen
            }" [matTooltip]="'Hi·ªÉn th·ªã ng√†y ƒÉn chay'">
            ƒÇn chay
          </div>
          <mat-menu #veganMenu="matMenu">
            <button mat-menu-item [ngClass]="{
                '!bg-[#34a853] !text-white': filter.six
              }" (click)="filter.six = !filter.six; updatefliter()">
              L·ª•c trai (6 Ng√†y)
            </button>
            <button mat-menu-item [ngClass]="{
                '!bg-[#34a853] !text-white': filter.ten
              }" (click)="filter.ten = !filter.ten; updatefliter()">
              Th·∫≠p trai (10 Ng√†y)</button><button mat-menu-item [ngClass]="{
                '!bg-[#34a853] !text-white': filter.fifteen
              }" (click)="filter.fifteen = !filter.fifteen; updatefliter()">
              Thi√™n ng∆∞∆°n (15 Ng√†y)
            </button>
          </mat-menu>
        </div>
        <button mat-icon-button [matTooltip]="
            expaned ? 'ƒê√≥ng m·ª•c b·ªï sung hi·ªÉn th·ªã' : 'M·ªü m·ª•c b·ªï sung hi·ªÉn th·ªã'
          " class="transition-all relative" (click)="expaned = !expaned" [ngClass]="{ 'rotate-180': expaned }"
          *ngIf="isActiveMoreInformation">
          <mat-icon>expand_circle_down</mat-icon>
          <span *ngIf="suggetExpand && !expaned"
            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#34a853] opacity-75 top-0 left-0"></span>
        </button>
      </div>
      <mat-divider *ngIf="expaned"></mat-divider>
      <div *ngIf="expaned && isActiveMoreInformation" class="w-full">
        <button class="w-full" mat-stroked-button [color]="'primary'" (click)="expaned = false">XEM L·ªäCH</button>
        <div class="w-full whitespace-break-spaces text-center my-3">{{guestMessage}}</div>
        <div class="w-full flex flex-col">
          <app-update-event (updateSelectedThanhSo)="updateSelectedThanhSo($event)"
            [selectedThanhSoSetting]="selectedThanhSoSetting"></app-update-event>
        </div>
      </div>
    </div>
  </mat-toolbar>
  <mat-divider></mat-divider>
  <div class="flex-1 h-100 wrapper-container selected-month-calendar" *ngIf="calendarMode === 'month'"
    (touchstart)="swipe($event, 'start')" (touchend)="swipe($event, 'end')">
    <div class="days">
      <div class="day text-center">T2</div>
      <div class="day text-center">T3</div>
      <div class="day text-center">T4</div>
      <div class="day text-center">T5</div>
      <div class="day text-center">T6</div>
      <div class="day text-center">T7</div>
      <div class="day text-center">CN</div>
    </div>
    <div class="flex-1 dates h-100" (mousewheel)="onMouseWheel($event)">
      <mat-card class="date wrapper-container align-items-center z-10"
        *ngFor="let date of selectedMonth; let dateIndex = index" [ngStyle]="{
          height:
            selectedMonth.length % 6 === 0
              ? 'calc(100%/' + 6 + ')'
              : 'calc(100%/' + 5 + ')',
          maxHeight:
            selectedMonth.length % 6 === 0
              ? 'calc(100%/' + 6 + ')'
              : 'calc(100%/' + 5 + ')',
        }" [ngClass]="{
          '!shadow-none': date?.logged !== undefined,
        }">
        <div class="absolute top-0 right-0 bottom-0 left-0 -z-10" [ngStyle]="{
          background: date?.logged ? selectedMonth[dateIndex + 1]?.logged === 0 ? 'linear-gradient(to right, rgba(251, 188, 5, ' + (selectedMonth[dateIndex - 1]?.logged || 0) / 4 + '), rgba(251, 188, 5, ' + (selectedMonth[dateIndex]?.logged || 0) / 4 + '), #eb4132)' : 'linear-gradient(to right, rgba(251, 188, 5, ' + (selectedMonth[dateIndex - 1]?.logged || 0) / 4 + '), rgba(251, 188, 5, ' + (selectedMonth[dateIndex]?.logged || 0) / 4 + '))' : '',
        }"></div>
        <div class="w-full flex justify-between flex-wrap">
          <button mat-flat-button class="!px-4 !bg-transparent" [ngClass]="getCurrentDate(date) ? 'current-date' : ''"
            (click)="onChangeCalendarMode('day', date)">
            <div class="solar-date">{{ date?.solar?.getDate() }}</div>
            <div class="lunar-date">
              <span *ngIf="!!date?.lunar?.convertSolar2Lunar?.lunarLeap" [matTooltip]="
                  'Nhu·∫≠n th√°ng ' + date?.lunar?.convertSolar2Lunar?.lunarMonth
                ">NH</span>
              {{ date?.lunar?.convertSolar2Lunar?.lunarDay }}/{{
              date?.lunar?.convertSolar2Lunar?.lunarMonth
              }}
            </div>
          </button>
          <img *ngIf="date?.lunar?.convertSolar2Lunar?.lunarDay == 15"
            class="me-0 lg:me-2 w-[16px] lg:w-[24px] h-[16px] lg:h-[24px]" src="assets/icons/assets/full-moon.svg"
            alt="full-moon" [matTooltip]="'V·ªçng nh·ª±t'">
          <img *ngIf="date?.lunar?.convertSolar2Lunar?.lunarDay == 1"
            class="me-0 lg:me-2 w-[16px] lg:w-[24px] h-[16px] lg:h-[24px]" src="assets/icons/assets/moon.svg" alt="moon"
            [matTooltip]="'S√≥c nh·ª±t'">
          <div class="text-xs p-1" *ngIf="filter.cn">
            {{
            date?.lunar?.convertSolar2Lunar?.lunarDayName
            }}
          </div>
          <div class="w-full flex">
            <div class="m-0 lg:m-1 text-xs w-full bg-[#34a853] text-white flex items-center justify-center rounded"
              *ngIf="date?.six && filter.six" [matTooltip]="'l·ª•c trai'" (click)="shareVegetarianDay(date)">
              6
            </div>
            <div class="m-0 lg:m-1 text-xs w-full bg-[#34a853] text-white flex items-center justify-center rounded"
              *ngIf="date?.ten && filter.ten" [matTooltip]="'th·∫≠p trai'" (click)="shareVegetarianDay(date)">
              10
            </div>
            <div class="m-0 lg:m-1 text-xs w-full bg-[#34a853] text-white flex items-center justify-center rounded"
              *ngIf="date?.fifteen && filter.fifteen" [matTooltip]="'thi√™n ng∆∞∆°n'" (click)="shareVegetarianDay(date)">
              15
            </div>
          </div>
        </div>
        <div class="flex-1 date-event w-100">
          <mat-list>
            <mat-list-item class="date-event-item" matRipple *ngFor="let event of date.event" [ngClass]="
                event?.event?.date === 'yearly-monthly-daily'
                  ? 'yearly-monthly-daily'
                  : event?.event?.date !== 'yearly-monthly-daily' &&
                    event?.event?.date?.includes('yearly-monthly-')
                  ? 'yearly-monthly-special'
                  : event?.event?.date !== 'yearly-monthly-daily' &&
                    !event?.event?.date?.includes('yearly-monthly-') &&
                    event?.event?.date?.includes('yearly-')
                  ? 'yearly-special-special'
                  : ''
              " (click)="openEventSummaryDialog(date, event, eventSummayDialog)">
              {{ event?.event?.name || event?.event?.eventName }}
            </mat-list-item>
          </mat-list>
        </div>
      </mat-card>
    </div>
  </div>
  <div class="flex-1 h-100 wrapper-container selected-date-calendar" *ngIf="calendarMode === 'day'"
    (touchstart)="swipe($event, 'start')" (touchend)="swipe($event, 'end')">
    <div class="current-selected-date">
      <div class="date-wraper">
        <div class="flex items-center lg:justify-between">
          <div class="date text-center">
            <div class="date-solar">
              {{ selectedDate.solar.getDate() }}
            </div>
            <div class="date-lunar">
              {{
              selectedDate.lunar.convertSolar2Lunar.lunarDay
              | number : "2.0-0"
              }}/{{
              selectedDate.lunar.convertSolar2Lunar.lunarMonth
              | number : "2.0-0"
              }}
            </div>
          </div>
          <div class="w-full lg:w-auto">
            <div class="text-right m-2 mb-0">
              Ng√†y
              <strong>{{
                selectedDate.lunar.convertSolar2Lunar.lunarDayName
                }}</strong>
              / Th√°ng
              <strong>{{
                selectedDate.lunar.convertSolar2Lunar.lunarMonthName
                }}</strong>
              / NƒÉm
              <strong>{{
                selectedDate.lunar.convertSolar2Lunar.lunarYearName
                }}</strong>
            </div>
          </div>
        </div>
      </div>
      <mat-divider></mat-divider>
    </div>
    <div class="date-hours" id="dateRange">
      <div class="munite d-flex" *ngFor="let timeRange of dateRange" [id]="
          'h' +
          (timeRange.hour | number : '2.0') +
          'm' +
          (timeRange.munite | number : '2.0')
        " [matTooltip]="
          viewPortMode === 'desktop'
            ? (timeRange.hour | number : '2.0') +
              ':' +
              (timeRange.munite | number : '2.0')
            : ''
        ">
        <div *ngIf="
            timeRange.munite === 0 ||
            (timeRange.hour !== 23 && timeRange.munite === 0)
          " class="start-time-hour">
          {{ timeRange.hour < 10 ? "0" + timeRange.hour : timeRange.hour }}:{{ timeRange.munite < 10 ? "0" +
            timeRange.munite : timeRange.munite }} </div>
            <mat-divider class="w-100" *ngIf="
            timeRange.munite === 0 ||
            (timeRange.hour !== 23 && timeRange.munite === 0)
          "></mat-divider>
        </div>
        <div class="now-time" id="now" [ngStyle]="{
          top: getPosition(time.time | async)
            ? getPosition(time.time | async) + 'px'
            : ''
        }">
          <div class="time-now text-[#eb4132]">
            {{ time.time | async | date : "HH:mm:ss" }}
          </div>
          <div class="clock"></div>
        </div>
        <div class="tu-thoi-zone" *ngFor="let zone of tuThoiZone"
          [ngStyle]="{ height: zone?.height + 'px', top: zone?.position + 'px' }"></div>
        <div class="selected-date-events" *ngFor="let zone of dateEvents"
          [ngStyle]="{ top: getPosition(zone?.timeZone?.start) + 'px' }">
          <div class="selected-date-event" *ngFor="let event of zone.event" [ngClass]="
            event?.event?.date === 'yearly-monthly-daily'
              ? 'yearly-monthly-daily'
              : event?.event?.date !== 'yearly-monthly-daily' &&
                event?.event?.date?.includes('yearly-monthly-')
              ? 'yearly-monthly-special'
              : event?.event?.date !== 'yearly-monthly-daily' &&
                !event?.event?.date?.includes('yearly-monthly-') &&
                event?.event?.date?.includes('yearly-')
              ? 'yearly-special-special'
              : ''
          " (click)="
            openEventSummaryDialog(selectedDate, event, eventSummayDialog)
          ">
            {{ event?.event?.name || event?.event?.eventName }}
          </div>
        </div>
      </div>
    </div>
  </div>
  <ng-template #eventSummayDialog>
    <div class="event-summary-dialog">
      <h2 mat-dialog-title>{{ shownDate?.event?.event?.name }}</h2>
      <mat-dialog-content>
        <div class="d-flex details-item">
          <mat-icon>event</mat-icon>
          {{
          shownDate?.event?.event?.date === "yearly-monthly-daily"
          ? "M·ªói ng√†y"
          : shownDate?.event?.event?.date !== "yearly-monthly-daily" &&
          shownDate?.event?.event?.date?.includes("yearly-monthly-")
          ? "Ng√†y " +
          shownDate?.event?.event?.date.split("-")[2] +
          " m·ªói th√°ng"
          : shownDate?.event?.event?.date !== "yearly-monthly-daily" &&
          !shownDate?.event?.event?.date?.includes("yearly-monthly-") &&
          shownDate?.event?.event?.date?.includes("yearly-")
          ? "Ng√†y " +
          shownDate?.event?.event?.date?.split("-")[2] +
          " th√°ng " +
          shownDate?.event?.event?.date?.split("-")[1] +
          " m·ªói nƒÉm"
          : shownDate?.event?.event?.date !== "yearly-monthly-daily" &&
          !shownDate?.event?.event?.date?.includes("yearly-monthly-") &&
          shownDate?.event?.event?.date?.includes("yearly-")
          ? "Ng√†y " +
          shownDate?.event?.event?.date?.split("-")[2] +
          " th√°ng " +
          shownDate?.event?.event?.date?.split("-")[1] +
          " nƒÉm" +
          shownDate?.event?.event?.date?.split("-")[0]
          : shownDate?.event?.event?.date
          }}
        </div>
        <div class="d-flex details-item" *ngIf="shownDate?.event?.event?.time?.length > 0">
          <mat-icon>schedule</mat-icon>
          <span *ngFor="let time of getTimes(shownDate?.event?.event?.time)">{{
            time?.name
            }}</span>
        </div>
        <div class="d-flex details-item" *ngIf="shownDate?.event?.event?.locationType?.length > 0">
          <mat-icon>location_pin</mat-icon>
          <span *ngFor="
            let time of getLocationTypes(shownDate?.event?.event?.locationType)
          ">{{ time?.name }}</span>
        </div>
      </mat-dialog-content>
      <mat-dialog-actions>
        <button mat-icon-button [color]="'primary'" (click)="showShareImage()" [mat-dialog-close]="true"
          *ngIf="viewPortMode !== 'mobile'" [matTooltip]="'T·∫£i ·∫£nh chia s·∫ª'">
          <mat-icon>download</mat-icon>
        </button>
        <button mat-stroked-button color="primary" (click)="showShareImage()" [mat-dialog-close]="true"
          *ngIf="viewPortMode === 'mobile'" class="w-full lg:w-auto">
          <mat-icon>download</mat-icon> T·∫£i ·∫£nh chia s·∫ª
        </button>
        <button mat-stroked-button [color]="'primary'" (click)="onOpenSoanSo()" [mat-dialog-close]="true"
          *ngIf="shownDate?.event?.event?.soTemplate" class="w-full lg:w-auto">
          <mat-icon>receipt_long</mat-icon>So·∫°n s·ªõ
        </button>
        <button mat-button [color]="'primary'" (click)="syncToGoogleCalendar()" [mat-dialog-close]="true">
          <mat-icon>cloud_sync</mat-icon>
          ƒê·ªìng b·ªô l√™n Google Calendar
        </button>
        <button mat-flat-button [color]="'primary'" (click)="onGetKinhFromSummaryEvent()" [mat-dialog-close]="true"
          class="w-full lg:w-auto">
          Xem kinh
        </button>
        <button mat-button mat-dialog-close class="w-full lg:w-auto">ƒê√≥ng</button>
      </mat-dialog-actions>
    </div>
  </ng-template>

  <ng-template #shareBottomSheet>
    <h3>T·∫£i ·∫£nh chia s·∫ª</h3>
    <div class="container-fluid">
      <div class="flex flex-wrap">
        <mat-checkbox [(ngModel)]="shareItem.traiGioi">Hi·ªÉn th·ªã trai gi·ªõi</mat-checkbox>
      </div>
      <div *ngIf="shareItem.options?.length > 0">
        <mat-form-field class="w-full" [appearance]="'outline'">
          <mat-label>Th·ªùi gian</mat-label>
          <mat-select [(ngModel)]="shareItem.time" (ngModelChange)="updateShareInformation()">
            <mat-option [value]="undefined">T·∫•t c·∫£</mat-option>
            <mat-option *ngFor="let item of shareItem.options" [value]="item?.key">{{item?.data?.name}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div *ngIf="!shareItem.time && (!shareItem.options || shareItem.options?.length == 0)">
        <mat-form-field class="w-full" [appearance]="'outline'">
          <mat-label>Th·ªùi gian</mat-label>
          <mat-select [(ngModel)]="shareItem.targetEvent">
            <mat-option *ngFor="let item of lunarTimeZone" [value]="item?.name">{{item?.name}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div #shareImage class="p-8 min-w-[1200px]" [id]="shareItem.id">
        <div class="h-3 w-full mb-8" [ngClass]="
        shareItem?.event?.date === 'yearly-monthly-daily'
          ? 'yearly-monthly-daily'
          : shareItem?.event?.date !== 'yearly-monthly-daily' &&
            shareItem?.event?.date?.includes('yearly-monthly-')
          ? 'bg-[#4285f4]'
          : shareItem?.event?.date !== 'yearly-monthly-daily' &&
            !shareItem?.event?.date?.includes('yearly-monthly-') &&
            shareItem?.event?.date?.includes('yearly-')
          ? 'bg-[#ea4335]'
          : 'bg-[#fbbc05]'
      "></div>
        <h1 class="text-2xl font-bold text-center mb-8">{{shareItem.name}}</h1>
        <p class="text-center text-xl font-bold mb-8">
          {{ shareItem?.date?.day }}
          Ng√†y {{ shareItem?.date?.lunar?.convertSolar2Lunar?.lunarDay | number : "2.0-0" }} th√°ng
          {{ shareItem?.date?.lunar?.convertSolar2Lunar?.lunarMonth | number : "2.0-0" }}
          {{ shareItem?.date?.lunar?.convertSolar2Lunar?.lunarLeap ? "nhu·∫≠n" : "" }}
          nƒÉm {{ shareItem?.date?.lunar?.convertSolar2Lunar?.lunarYearName }} ({{
          shareItem?.date?.solar | date : "dd/MM/yyyy"
          }})
        </p>
        <p class="text-center text-xl font-bold" *ngIf="shareItem.targetEvent">TH·ªúI {{ (shareItem.targetEvent || '')}}
        </p>
        <div class="text-right mt-8 text-xs">
          <span *ngIf="shareItem.traiGioi && (shareItem.date?.six || shareItem.date?.ten || shareItem.date?.fifteen)">
            Trai gi·ªõi:
          </span>
          <span *ngIf="shareItem.traiGioi && shareItem.date?.six">l·ª•c trai. </span>
          <span *ngIf="shareItem.traiGioi && shareItem.date?.ten">th·∫≠p trai. </span>
          <span *ngIf="shareItem.traiGioi && shareItem.date?.fifteen">thi√™n ng∆∞∆°n.</span>
        </div>
        <div class="h-3 w-full mb-8" [ngClass]="
        shareItem?.event?.date === 'yearly-monthly-daily'
          ? 'yearly-monthly-daily'
          : shareItem?.event?.date !== 'yearly-monthly-daily' &&
            shareItem?.event?.date?.includes('yearly-monthly-')
          ? 'bg-[#4285f4]'
          : shareItem?.event?.date !== 'yearly-monthly-daily' &&
            !shareItem?.event?.date?.includes('yearly-monthly-') &&
            shareItem?.event?.date?.includes('yearly-')
          ? 'bg-[#ea4335]'
          : 'bg-[#fbbc05]'
      "></div>
      </div>
      <div class="text-center">
        <button mat-raised-button color="primary" (click)="saveAsImage(shareItem)" [disabled]="downloading">
          <mat-icon>download</mat-icon> T·∫£i ·∫£nh chia s·∫ª
        </button>
      </div>
    </div>
  </ng-template>

  <ng-template #vegetarianBottomSheet>
    <h3>T·∫£i ·∫£nh chia s·∫ª ng√†y ƒÉn chay</h3>
    <div class="container-fluid text-center">
      <div #shareVegetarian [id]="vegetarianDay.d" class="min-w-[1200px] relative">
        <img src="/assets/images/vegetarianDayFrame.png" alt="vegetarianDay">
        <div class="absolute top-0 right-0 bottom-0 left-0 flex justify-center items-center flex-col">
          <div class="w-full">
            <h5 class="text-left ml-[33%]">B·∫°n ƒë·ª´ng qu√™n </h5>
            <h6 class="text-left ml-[33%]">Ng√†y {{vegetarianDay?.lunar?.convertSolar2Lunar?.lunarDay |
              number: '2.0-0'}} th√°ng
              {{vegetarianDay?.lunar?.convertSolar2Lunar?.lunarMonth | number: '2.0-0'}}
              {{vegetarianDay?.lunar?.convertSolar2Lunar?.lunarLeap ? 'Nhu·∫≠n' : ''}} nƒÉm
              {{vegetarianDay?.lunar?.convertSolar2Lunar?.lunarYearName}} {{vegetarianDay?.solar | date:
              '(dd/MM/YYYY)'}}</h6>
          </div>
          <h6>B·∫≠c trai gi·ªõi</h6>
          <h4 class="text-[#01855d]">{{vegetarianDay?.six ? 'L·ª•c trai . ' : ''}}{{vegetarianDay?.ten ? 'Th·∫≠p trai . ' :
            ''}}
            {{vegetarianDay?.fifteen ? 'Thi√™n Ng∆∞∆°n' : ''}}</h4>
          <h2 class="text-[#01855d]">ƒÇN CHAY</h2>
          <div class="w-full">
            <h3 class="text-right mr-[35%]">nh√©!ü•¶ü´ëü•¨</h3>
          </div>
        </div>
      </div>
      <div class="text-center">
        <button mat-raised-button color="primary" (click)="saveAsImage(shareVegetarian)" [disabled]="downloading">
          <mat-icon>download</mat-icon> T·∫£i ·∫£nh chia s·∫ª
        </button>
      </div>
    </div>
  </ng-template>