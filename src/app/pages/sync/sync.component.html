<div class="container-fluid">
  <h1>Äá»“ng bá»™ dá»¯ liá»‡u</h1>
  <div *ngIf="syncData">
    <div *ngIf="syncData?.type === 'journey'">
      <p>
        Dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘á»“ng bá»™ lÃ  dá»¯ liá»‡u: <strong> Sá»• tay hÃ nh trÃ¬nh</strong>
      </p>
      <div *ngIf="syncData.data">
        <button
          mat-flat-button
          [color]="'primary'"
          *ngIf="!isSyncSavedLoccaly"
          (click)="onSyncJourneyData()"
        >
          <mat-icon>sync</mat-icon>
          Äá»“ng bá»™ ngay
        </button>
        <div *ngIf="isSyncSavedLoccaly" class="text-center">
          <span
            [ngStyle]="{
              fontSize: isShowPhoneLayout ? '100px' : '200px'
            }"
            >ğŸ‰</span
          >
          <h2>Dá»¯ liá»‡u Sá»• tay hÃ nh trÃ¬nh Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»“ng bá»™ giá»‘ng nhau</h2>
        </div>
        <table
          mat-table
          [dataSource]="syncData.data"
          *ngIf="!isShowPhoneLayout"
        >
          <ng-container matColumnDef="timestamp">
            <th mat-header-cell *matHeaderCellDef>Thá»i gian</th>
            <td mat-cell *matCellDef="let element">
              {{ element.timestamp | date : "dd/MM/YYYY hh:mm:ss" }}
            </td>
          </ng-container>
          <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef>Loáº¡i</th>
            <td mat-cell *matCellDef="let element">
              {{ getRowData(element, "type") }}
            </td>
          </ng-container>
          <ng-container matColumnDef="location">
            <th mat-header-cell *matHeaderCellDef>Äá»‹a Ä‘iá»ƒm</th>
            <td mat-cell *matCellDef="let element">
              {{ getRowData(element, "location") }}
            </td>
          </ng-container>
          <ng-container matColumnDef="rating">
            <th mat-header-cell *matHeaderCellDef>ÄÃ¡nh giÃ¡</th>
            <td mat-cell *matCellDef="let element">
              {{ ratingPieChartLabels[element.rating - 1] || "ChÆ°a Ä‘Ã¡nh giÃ¡" }}
            </td>
          </ng-container>
          <ng-container matColumnDef="comment">
            <th mat-header-cell *matHeaderCellDef>Ghi chÃº</th>
            <td mat-cell *matCellDef="let element">
              {{ element.comment }}
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
        <mat-list *ngIf="isShowPhoneLayout">
          <mat-list-item *ngFor="let item of syncData.data; let index = index">
            <span matListItemTitle>{{ getRowData(item, "type") }} </span>
            <span matListItemLine
              ><strong>Äá»‹a Ä‘iá»ƒm:</strong>
              {{ getRowData(item, "location") }}</span
            >
            <span matListItemLine
              ><strong>Thá»i gian:</strong>
              {{ item.timestamp | date : "dd/MM/YYYY hh:mm:ss" }}</span
            >
            <span matListItemLine
              ><strong>ÄÃ¡nh giÃ¡: </strong
              >{{ ratingPieChartLabels[item.rating - 1] }}</span
            >
            <span matListItemLine
              ><strong>Ghi chÃº: </strong>{{ item.comment }}</span
            >
            <mat-divider matListItemLine></mat-divider>
          </mat-list-item>
        </mat-list>
      </div>
    </div>
  </div>
  <div *ngIf="!syncData">
    <button
      mat-flat-button
      [color]="'primary'"
      (click)="onGoToGenerate()"
      class="w-100"
    >
      <mat-icon>add</mat-icon>
      Táº¡o mÃ£ Ä‘á»“ng bá»™ ngay
    </button>
  </div>
</div>
<ng-template #confirmSyncJourneyDialog>
  <div mat-dialog-title>XÃ¡c nháº­n Ä‘á»“ng bá»™ Sá»• tay hÃ nh trÃ¬nh</div>
  <mat-dialog-content> </mat-dialog-content>
</ng-template>
