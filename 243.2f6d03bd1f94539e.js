"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[243],{9243:(rn,ct,u)=>{u.r(ct),u.d(ct,{CauSieuVoViModule:()=>A});var _=u(6895),x=u(9299),t=u(4650),Q=u(9751),ft=(u(350),u(529));class v{constructor(n){this.http=n}getCauSieuVoViList(){return new Q.y(i=>{i.next(JSON.parse(localStorage.getItem("csvv")||"{data: []}"))})}getCauSieuVoViById(n){return JSON.parse(localStorage.getItem("csvv")||"{data: []}"),new Q.y(r=>{r.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(l=>l.key===n)})})}addCauSieuVoVi(n,e){return localStorage.setItem("csvv",JSON.stringify(n)),new Q.y(l=>{l.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(a=>a.key===e)})})}updateCauSieuVoVi(n,e){return localStorage.setItem("csvv",JSON.stringify(n)),new Q.y(l=>{l.next({data:JSON.parse(localStorage.getItem("csvv")||"{data: []}")?.data.find(a=>a.key===e)})})}}v.\u0275fac=function(n){return new(n||v)(t.LFG(ft.eN))},v.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"});var B=u(2289),q=u(6256),K=u(782),Y=u(8377),W=u(2362),y=u(3238);function ht(o,n){1&o&&t._UZ(0,"mat-progress-bar",5)}function Ct(o,n){if(1&o&&(t.TgZ(0,"mat-grid-tile",3)(1,"mat-card",6)(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5),t.qZA()()()),2&o){const e=n.$implicit,i=t.oxw();t.Q6J("routerLink",null==e?null:e.key),t.xp6(3),t.Oqu(i.getCardDetails(e).title),t.xp6(2),t.hij("\u0110\xe3 ghi nh\u1eadn: ",i.getCardDetails(e).count," linh h\u1ed3n")}}class D{constructor(n,e,i,r){this.cauSieuVoViService=n,this.breakpointObserver=e,this.authService=i,this.router=r,this.cauSieuVoViList=[],this.cols=1,this.isLoading=!1}ngOnInit(){this.authService.currentUser?.role?.includes("administrator")?(this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.cols=n.matches?1:4}),this.getCauSieuVoViList()):this.router.navigate(["/tac-vu"])}getCauSieuVoViList(){this.isLoading=!0,this.cauSieuVoViService.getCauSieuVoViList().subscribe(n=>{console.log(n),n?.data?(this.cauSieuVoViList=n?.data,this.isLoading=!1):this.isLoading=!1},n=>{this.isLoading=!1,console.log(n)})}getCardDetails(n){const e=n?.formGroup?.find(c=>"thong-tin-chung"===c.key)?.control,i=e?.find(c=>"nam-am-lich"===c.key)?.value,r=e?.find(c=>"thang-am-lich"===c.key)?.value,l=e?.find(c=>"ngay-am-lich"===c.key)?.value,s=n?.formGroup?.find(c=>"thong-tin-cau-sieu"===c.key)?.control?.find(c=>"linh-hon"===c.key)?.value?.length;return{title:`C\u1ea7u si\xeau v\xe0o ng\xe0y ${l} th\xe1ng ${r} n\u0103m ${i}`,count:s}}}D.\u0275fac=function(n){return new(n||D)(t.Y36(v),t.Y36(B.Yg),t.Y36(q.e),t.Y36(x.F0))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-cau-sieu-vo-vi-list"]],decls:5,vars:4,consts:[["mode","indeterminate",4,"ngIf"],["rowHeight","2:1",1,"w-100",3,"cols"],["class","csvv-item w-100",3,"routerLink",4,"ngFor","ngForOf"],[1,"csvv-item","w-100",3,"routerLink"],[1,"w-100","h-100"],["mode","indeterminate"],["matRipple","",1,"w-100","h-100"]],template:function(n,e){1&n&&(t.YNc(0,ht,1,0,"mat-progress-bar",0),t.TgZ(1,"mat-grid-list",1),t.YNc(2,Ct,6,3,"mat-grid-tile",2),t.TgZ(3,"mat-grid-tile",3),t._UZ(4,"mat-card",4),t.qZA()()),2&n&&(t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("cols",e.cols),t.xp6(1),t.Q6J("ngForOf",e.cauSieuVoViList),t.xp6(1),t.Q6J("routerLink","them-moi"))},dependencies:[_.sg,_.O5,x.rH,K.Il,K.DX,Y.S$,Y.mi,Y._K,W.eI,y.wG],styles:[".csvv-item{cursor:pointer}  .csvv-item .mat-grid-tile-content{padding:1rem}"]});var j=u(7687),m=u(9549),f=u(8455),X=u(9203),p=u(4006),P=u(9818),U=u(7084),dt=u(8256),F=u(7392),xt=u(4850);function vt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"input",8),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw(2);return t.KtG("prevText"===l.modifierAt?l.inputFormControl.prevText:"nextText"===l.modifierAt?l.inputFormControl.nextText:l.inputFormControl.value=r)}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("type","text")("placeholder","prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.placeholder)("ngModel","prevText"===e.modifierAt?e.inputFormControl.prevText:"nextText"===e.modifierAt?e.inputFormControl.nextText:e.inputFormControl.value)("required",null==e.inputFormControl?null:e.inputFormControl.required)("autocomplete",null!=e.inputFormControl&&e.inputFormControl.autocomplete?null==e.inputFormControl?null:e.inputFormControl.autocomplete:"off")("maxlength",null==e.inputFormControl?null:e.inputFormControl.maxLength)("minlength",null==e.inputFormControl?null:e.inputFormControl.minLength)("disabled",null==e.inputFormControl?null:e.inputFormControl.disabled)("disabled",!e.contentEditable)}}function Tt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"textarea",9),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw(2);return t.KtG(l.inputFormControl.value=r)}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("rows",null==e.inputFormControl?null:e.inputFormControl.rows)("placeholder",null==e.inputFormControl?null:e.inputFormControl.placeholder)("ngModel",e.inputFormControl.value)("required",null==e.inputFormControl?null:e.inputFormControl.required)("autocomplete",null!=e.inputFormControl&&e.inputFormControl.autocomplete?null==e.inputFormControl?null:e.inputFormControl.autocomplete:"off")("maxlength",null==e.inputFormControl?null:e.inputFormControl.maxLength)("minlength",null==e.inputFormControl?null:e.inputFormControl.minLength)("disabled",null==e.inputFormControl?null:e.inputFormControl.disabled)("disabled",!e.contentEditable)}}function bt(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getErrorMessage(e.inputFormControl))}}function yt(o,n){if(1&o&&(t.TgZ(0,"mat-hint",10),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("align","end"),t.xp6(1),t.AsE("",(null==e.inputFormControl||null==e.inputFormControl.value?null:e.inputFormControl.value.length)||0," / ",null==e.inputFormControl?null:e.inputFormControl.maxLength,"")}}function Ft(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",1)(1,"mat-label"),t._uU(2),t.qZA(),t.YNc(3,vt,1,9,"input",2),t.YNc(4,Tt,1,9,"textarea",3),t.YNc(5,bt,2,1,"mat-error",4),t.YNc(6,yt,2,3,"mat-hint",5),t.TgZ(7,"span",6),t._uU(8),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.qZA()()),2&o){const e=t.oxw();t.Q6J("hintLabel",(null!=e.inputFormControl&&null!=e.inputFormControl.hintLabel&&e.inputFormControl.hintLabel.text?null==e.inputFormControl||null==e.inputFormControl.hintLabel?null:e.inputFormControl.hintLabel.text:"")+e.getOptionalLabel(e.inputFormControl)),t.xp6(2),t.Oqu("prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.label),t.xp6(1),t.Q6J("ngIf","shortText"===(null==e.inputFormControl?null:e.inputFormControl.type)),t.xp6(1),t.Q6J("ngIf","longText"===(null==e.inputFormControl?null:e.inputFormControl.type)),t.xp6(1),t.Q6J("ngIf",!!e.getErrorMessage(e.inputFormControl)),t.xp6(1),t.Q6J("ngIf",null==e.inputFormControl?null:e.inputFormControl.maxLength),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.prefix),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.suffix)}}class S{constructor(n){this.authService=n}ngOnInit(){this.contentEditable=this.authService.contentEditable}getOptionalLabel(n){let e="";return n?.minLength&&(e+=`. T\u1ed1i thi\u1ec3u: ${n?.minLength} k\xfd t\u1ef1`),n?.maxLength&&(e+=`. T\u1ed1i \u0111a: ${n?.maxLength} k\xfd t\u1ef1`),e}getErrorMessage(n){let e="";return n?.required&&(e+=n?.requiredErrorMessage?n?.requiredErrorMessage:""),e}}function Et(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getErrorMessage(e.inputFormControl))}}function Nt(o,n){if(1&o&&(t.TgZ(0,"mat-hint",7),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("align","end"),t.xp6(1),t.AsE("",(null==e.inputFormControl||null==e.inputFormControl.value?null:e.inputFormControl.value.length)||0," / ",null==e.inputFormControl?null:e.inputFormControl.maxLength,"")}}function wt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",1)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"input",2),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG("prevText"===l.modifierAt?l.inputFormControl.prevText:"nextText"===l.modifierAt?l.inputFormControl.nextText:l.inputFormControl.value=r)}),t.qZA(),t.YNc(4,Et,2,1,"mat-error",3),t.YNc(5,Nt,2,3,"mat-hint",4),t.TgZ(6,"span",5),t._uU(7),t.qZA(),t.TgZ(8,"span",6),t._uU(9),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("hintLabel",(null!=e.inputFormControl&&null!=e.inputFormControl.hintLabel&&e.inputFormControl.hintLabel.text?null==e.inputFormControl||null==e.inputFormControl.hintLabel?null:e.inputFormControl.hintLabel.text:"")+e.getOptionalLabel(e.inputFormControl)),t.xp6(2),t.Oqu("prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.label),t.xp6(1),t.Q6J("type","number")("placeholder","prevText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng tr\u01b0\u1edbc":"nextText"===e.modifierAt?"T\u1eeb \u0111\u1ee9ng sau":null==e.inputFormControl?null:e.inputFormControl.placeholder)("ngModel","prevText"===e.modifierAt?e.inputFormControl.prevText:"nextText"===e.modifierAt?e.inputFormControl.nextText:e.inputFormControl.value)("required",null==e.inputFormControl?null:e.inputFormControl.required)("autocomplete",null!=e.inputFormControl&&e.inputFormControl.autocomplete?null==e.inputFormControl?null:e.inputFormControl.autocomplete:"off")("maxlength",null==e.inputFormControl?null:e.inputFormControl.maxLength)("minlength",null==e.inputFormControl?null:e.inputFormControl.minLength)("disabled",null==e.inputFormControl?null:e.inputFormControl.disabled),t.xp6(1),t.Q6J("ngIf",!!e.getErrorMessage(e.inputFormControl)),t.xp6(1),t.Q6J("ngIf",null==e.inputFormControl?null:e.inputFormControl.maxLength),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.prefix),t.xp6(2),t.Oqu(null==e.inputFormControl?null:e.inputFormControl.suffix)}}S.\u0275fac=function(n){return new(n||S)(t.Y36(q.e))},S.\u0275cmp=t.Xpm({type:S,selectors:[["cp-input-form-field"]],inputs:{inputFormControl:"inputFormControl",modifierAt:"modifierAt"},decls:1,vars:1,consts:[["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange",4,"ngIf"],["matInput","",3,"rows","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange",4,"ngIf"],[4,"ngIf"],["class","hint-max-lenght",3,"align",4,"ngIf"],["matPrefix",""],["matSuffix",""],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],["matInput","",3,"rows","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],[1,"hint-max-lenght",3,"align"]],template:function(n,e){1&n&&t.YNc(0,Ft,11,8,"mat-form-field",0),2&n&&t.Q6J("ngIf",null==e.inputFormControl||null==e.inputFormControl.type?null:e.inputFormControl.type.includes("Text"))},dependencies:[_.O5,m.KE,m.hX,m.bx,m.TO,m.qo,m.R9,f.nI,f.pH,f.$V,f.g4,f.nX,X.k0,p.Fj,p.JJ,p.Q7,p.wO,p.nD,p.On],styles:["mat-form-field{min-width:0}"]});class k{constructor(){}ngOnInit(){}getOptionalLabel(n){let e="";return n?.minLength&&(e+=`. T\u1ed1i thi\u1ec3u: ${n?.minLength} k\xfd t\u1ef1`),n?.maxLength&&(e+=`. T\u1ed1i \u0111a: ${n?.maxLength} k\xfd t\u1ef1`),e}getErrorMessage(n){let e="";return n?.required&&(e+=n?.requiredErrorMessage?n?.requiredErrorMessage:""),e}}function At(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"cp-input-form-field",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputFormControl",e)}}function Dt(o,n){if(1&o&&(t.TgZ(0,"mat-radio-button",12),t._uU(1),t.qZA()),2&o){const e=n.$implicit,i=t.oxw(5);t.Q6J("value",e)("disabled",!i.contentEditable),t.xp6(1),t.Oqu(e)}}function St(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-radio-group",10),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.value=r)}),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t.YNc(3,Dt,2,3,"mat-radio-button",11),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("ngModel",e.value)("ngClass","layout-"+(null==e?null:e.layout)),t.xp6(2),t.Oqu(null==e?null:e.label),t.xp6(1),t.Q6J("ngForOf",null==e?null:e.data)}}function kt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"textarea",18),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw(3).$implicit;return t.KtG(l.value=r)}),t.qZA()}if(2&o){const e=t.oxw(3).$implicit,i=t.oxw(3);t.Q6J("rows",null==e?null:e.rows)("disabled",!i.contentEditable)("placeholder",null==e?null:e.placeholder)("ngModel",e.value)("required",null==e?null:e.required)("autocomplete",null!=e&&e.autocomplete?null==e?null:e.autocomplete:"off")("maxlength",null==e?null:e.maxLength)("minlength",null==e?null:e.minLength)("disabled",null==e?null:e.disabled)}}function Mt(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",16)(1,"mat-label"),t._uU(2),t.qZA(),t.YNc(3,kt,1,9,"textarea",17),t.qZA()),2&o){const e=t.oxw(2).$implicit,i=t.oxw(3);t.Q6J("hintLabel",(null!=e&&null!=e.hintLabel&&e.hintLabel.text?null==e||null==e.hintLabel?null:e.hintLabel.text:"")+i.getOptionalLabel(e)),t.xp6(2),t.Oqu(null==e?null:e.label),t.xp6(1),t.Q6J("ngIf","formArrayTrigerLongString"===(null==e?null:e.type))}}function Zt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",13),t.YNc(1,Mt,4,3,"mat-form-field",14),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.onChangeTrigerFormArray(r))}),t.TgZ(3,"mat-icon"),t._uU(4,"sync_alt"),t.qZA(),t._uU(5," Nh\u1eadp "),t.qZA(),t._UZ(6,"mat-divider"),t.qZA()}if(2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf","formArrayTrigerLongString"===(null==e?null:e.type)),t.xp6(1),t.Q6J("color","accent")("disabled",!i.contentEditable)}}function Ot(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"cp-input-form-field",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputFormControl",e)}}function It(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"cp-number-form-field",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputFormControl",e)}}function Jt(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ot,2,1,"ng-container",0),t.YNc(2,It,2,1,"ng-container",0),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null==e||null==e.type?null:e.type.includes("Text")),t.xp6(1),t.Q6J("ngIf",null==e||null==e.type?null:e.type.includes("number"))}}function Lt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",20)(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"button",21),t.NdJ("click",function(){const l=t.CHM(e).index,a=t.oxw(3).$implicit,s=t.oxw(3);return t.KtG(s.onDeleteItem(a,l))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()(),t.YNc(7,Jt,3,2,"ng-container",2),t._UZ(8,"mat-divider"),t.qZA()}if(2&o){const e=n.$implicit,i=n.index,r=t.oxw(3).$implicit,l=t.oxw(3);t.xp6(3),t.AsE("",null==r?null:r.itemLabel,"(",i+1,")"),t.xp6(1),t.Q6J("disabled",!l.contentEditable),t.xp6(3),t.Q6J("ngForOf",null==e?null:e.control)}}function Qt(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Lt,9,4,"div",2),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",null==e?null:e.value)}}function Vt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",19),t.YNc(1,Qt,2,1,"ng-container",0),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw(3),a=t.MAs(2);return t.KtG(l.onAddNewItem(r,a))}),t.TgZ(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t._uU(5,"Th\xeam "),t.qZA()()}if(2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",(null==e?null:e.value.length)>0),t.xp6(1),t.Q6J("color","primary")("disabled",!i.contentEditable)}}function Bt(o,n){if(1&o&&(t.TgZ(0,"div",24),t._UZ(1,"cp-input-form-field",25)(2,"cp-input-form-field",9)(3,"cp-input-form-field",25),t.qZA()),2&o){const e=n.$implicit,i=t.oxw(2).$implicit;t.xp6(1),t.Q6J("inputFormControl",null==i?null:i.value[e])("modifierAt","prevText"),t.xp6(1),t.Q6J("inputFormControl",null==i?null:i.value[e]),t.xp6(1),t.Q6J("inputFormControl",null==i?null:i.value[e])("modifierAt","nextText")}}function qt(o,n){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,Bt,4,5,"div",23),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.addressGroup)}}function Yt(o,n){if(1&o&&(t.ynx(0),t.YNc(1,At,2,1,"ng-container",0),t.YNc(2,St,4,4,"mat-radio-group",5),t.YNc(3,Zt,7,3,"div",6),t.YNc(4,Vt,6,3,"div",7),t.YNc(5,qt,2,1,"div",8),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null==e||null==e.type?null:e.type.includes("Text")),t.xp6(1),t.Q6J("ngIf","radiobox"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formArrayTrigerLongString"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formArray"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","addressGroup"===(null==e?null:e.type))}}function Pt(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-expansion-panel",3)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t._uU(4),t.qZA()(),t.TgZ(5,"div",4)(6,"mat-panel-description"),t._uU(7),t.qZA(),t.YNc(8,Yt,6,5,"ng-container",2),t.qZA()(),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("expanded",!(null==e||!e.expaned)||(null==e?null:e.expaned)),t.xp6(3),t.Oqu(null==e?null:e.title),t.xp6(3),t.Oqu(null==e?null:e.hint),t.xp6(1),t.Q6J("ngForOf",null==e?null:e.control)}}function Ut(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Pt,9,4,"ng-container",2),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.renderDocument.formGroup)}}function $t(o,n){if(1&o&&(t.TgZ(0,"div",26)(1,"mat-icon",27),t._uU(2,"error_outline"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.errorMessage)}}k.\u0275fac=function(n){return new(n||k)},k.\u0275cmp=t.Xpm({type:k,selectors:[["cp-number-form-field"]],inputs:{inputFormControl:"inputFormControl",modifierAt:"modifierAt"},decls:1,vars:1,consts:[["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"type","placeholder","ngModel","required","autocomplete","maxlength","minlength","disabled","ngModelChange"],[4,"ngIf"],["class","hint-max-lenght",3,"align",4,"ngIf"],["matPrefix",""],["matSuffix",""],[1,"hint-max-lenght",3,"align"]],template:function(n,e){1&n&&t.YNc(0,wt,10,14,"mat-form-field",0),2&n&&t.Q6J("ngIf",null==e.inputFormControl||null==e.inputFormControl.type?null:e.inputFormControl.type.includes("number"))},dependencies:[_.O5,m.KE,m.hX,m.bx,m.TO,m.qo,m.R9,f.nI,f.pH,f.$V,f.g4,f.nX,X.k0,p.Fj,p.JJ,p.Q7,p.wO,p.nD,p.On]});class M{constructor(n,e){this.matDialog=n,this.authService=e,this.changeTrigerFormArray=new t.vpe,this.addressGroup=["country","province","district","ward","village","address"],this.errorMessage=void 0}ngOnInit(){this.onChangeControl(),this.contentEditable=this.authService.contentEditable}onChangeControl(){}getErrorMessage(n){let e="";return n?.required&&(e+=n?.requiredErrorMessage?n?.requiredErrorMessage:""),e}getOptionalLabel(n){let e="";return n?.minLength&&(e+=`. T\u1ed1i thi\u1ec3u: ${n?.minLength} k\xfd t\u1ef1`),n?.maxLength&&(e+=`. T\u1ed1i \u0111a: ${n?.maxLength} k\xfd t\u1ef1`),e}getObjectArray(n){return Object.entries(n)}onChangeTrigerFormArray(n){this.changeTrigerFormArray.emit(n)}onAddNewItem(n,e){let i=!0;if(n?.value?.length>0&&n?.value[n?.value?.length-1]?.control?.forEach(l=>{i&&l?.required&&!l?.value&&(i=!1)}),i){let r=[];n?.addTemplate?.forEach(l=>{let a=new tt;a.type=l.type,a.value=l.value,a.placeholder=l.placeholder,a.required=l.required,a.autocomplete=l.autocomplete,a.label=l.label,a.suffix=l.suffix,r.push(a)}),n?.value?.push({control:r})}else this.errorMessage="H\xe3y nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin b\u1eaft bu\u1ed9c tr\u01b0\u1edbc khi th\xeam m\u1edbi",this.errorMessageDialogRef=this.matDialog.open(e)}onDeleteItem(n,e){n?.value?.splice(e,1)}}M.\u0275fac=function(n){return new(n||M)(t.Y36(j.on),t.Y36(q.e))},M.\u0275cmp=t.Xpm({type:M,selectors:[["cp-editor-form-control"]],inputs:{renderDocument:"renderDocument"},outputs:{changeTrigerFormArray:"changeTrigerFormArray"},decls:3,vars:1,consts:[[4,"ngIf"],["errorMessageDialog",""],[4,"ngFor","ngForOf"],[3,"expanded"],[1,"form-group"],[3,"ngModel","ngClass","ngModelChange",4,"ngIf"],["class","triger-form-array",4,"ngIf"],["class","form-array",4,"ngIf"],["class","address-group",4,"ngIf"],[3,"inputFormControl"],[3,"ngModel","ngClass","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[1,"triger-form-array"],["appearance","fill","class","w-100",3,"hintLabel",4,"ngIf"],["mat-flat-button","",1,"w-100",3,"color","disabled","click"],["appearance","fill",1,"w-100",3,"hintLabel"],["matInput","",3,"rows","disabled","placeholder","ngModel","required","autocomplete","maxlength","minlength","ngModelChange",4,"ngIf"],["matInput","",3,"rows","disabled","placeholder","ngModel","required","autocomplete","maxlength","minlength","ngModelChange"],[1,"form-array"],[1,"d-flex","justify-content-between"],["mat-icon-button","",3,"disabled","click"],[1,"address-group"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],[3,"inputFormControl","modifierAt"],[1,"error-message-dialog"],["color","warn"]],template:function(n,e){1&n&&(t.YNc(0,Ut,2,1,"ng-container",0),t.YNc(1,$t,5,1,"ng-template",null,1,t.W1O)),2&n&&t.Q6J("ngIf",null==e.renderDocument?null:e.renderDocument.formGroup)},dependencies:[_.mk,_.sg,_.O5,m.KE,m.hX,f.$V,X.k0,p.Fj,p.JJ,p.Q7,p.wO,p.nD,p.On,P.eB,U.ib,U.yz,U.yK,U.u4,dt.OY,dt.vy,F.Hw,xt.d,S,k],styles:[".form-group mat-panel-description{margin-bottom:1rem}  .form-group .hint-max-lenght{white-space:nowrap}  .form-group mat-radio-group{margin:1.34375em 0}  .form-group .layout-column{display:flex;flex-direction:column;align-items:flex-start}  .form-group mat-radio-button{margin:5px}  .form-group cp-input-form-field,   .form-group cp-number-form-field{min-width:0}  .form-group .form-array mat-divider{margin-bottom:1rem}  .error-message-dialog{text-align:center}  .error-message-dialog .mat-icon{font-size:80px;height:80px;width:80px}  .triger-form-array{margin-bottom:2rem}"]});class tt{}var Z=u(5484),et=u(2972),Gt=u(8242),zt=u(6289),Rt=u(4363),Ht=u(7462),nt=u(3239);function Kt(o,n){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.viewValue)}}function Wt(o,n){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.viewValue)}}function jt(o,n){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.viewValue)}}const Xt=function(o){return{color:o}};function te(o,n){if(1&o&&(t.TgZ(0,"button",17)(1,"mat-icon",24),t._uU(2,"circle"),t.qZA()()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(2,Xt,null==e?null:e.value))("matTooltip",null==e?null:e.name)}}class O{constructor(n){this.editorService=n,this.foods=[{value:"steak-0",viewValue:"Steak"},{value:"pizza-1",viewValue:"Pizza"},{value:"tacos-2",viewValue:"Tacos"}],this.colors=[{name:"\u0111en",value:"black"},{name:"tr\u1eafng",value:"white"},{name:"\u0111\u1ecf",value:"red"},{name:"xanh d\u01b0\u01a1ng",value:"blue"},{name:"v\xe0ng",value:"yellow"},{name:"xanh l\xe1",value:"green"},{name:"t\xedm",value:"purple"},{name:"x\xe1m",value:"gray"},{name:"cam",value:"orange"}]}ngOnInit(){}onChangeStyle(n){this.editorService.onChangeStyle(n)}}O.\u0275fac=function(n){return new(n||O)(t.Y36(Z.TB))},O.\u0275cmp=t.Xpm({type:O,selectors:[["cp-toolbar-editor"]],decls:56,vars:10,consts:[[1,"editor-toolbar","d-flex","justify-content-center","align-items-center"],[3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"h-100",3,"placeholder"],[1,"h-100","dropdown-font-size",3,"placeholder"],["mat-icon-button","","matTooltip","\u0110\u1eadm",3,"click"],["mat-icon-button","","matTooltip","Nghi\xeang",3,"click"],["mat-icon-button","","matTooltip","G\u1ea1ch ch\xe2n",3,"click"],[1,"material-icons-outlined"],["mat-icon-button","","matTooltip","M\xe0u v\u0103n b\u1ea3n",3,"matMenuTriggerFor"],[1,"horizontal-menu","color-menu"],["menuColor",""],["mat-icon-button","",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Ch\xe8n \u0111\u01b0\u1eddng li\xean k\u1ebft"],["mat-icon-button","","matTooltip","C\u0103n ch\u1ec9nh",3,"matMenuTriggerFor"],[1,"horizontal-menu"],["menuAlign",""],["mat-icon-button",""],["mat-icon-button","","matTooltip","Danh s\xe1ch \u0111\xe1nh s\u1ed1 \u0111\u1ea7u d\xf2ng"],["mat-icon-button","","matTooltip","Danh s\xe1ch c\xf3 d\u1ea5u \u0111\u1ea7u d\xf2ng"],["mat-icon-button","","matTooltip","Th\xeam",3,"matMenuTriggerFor"],["menuMore",""],["mat-menu-item",""],[3,"value"],[3,"ngStyle","matTooltip"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"mat-select",1),t.YNc(2,Kt,2,2,"mat-option",2),t.qZA(),t.TgZ(3,"mat-select",3),t.YNc(4,Wt,2,2,"mat-option",2),t.qZA(),t.TgZ(5,"mat-select",4),t.YNc(6,jt,2,2,"mat-option",2),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return e.onChangeStyle({type:"fontWeight"})}),t.TgZ(8,"mat-icon"),t._uU(9,"format_bold"),t.qZA()(),t.TgZ(10,"button",6),t.NdJ("click",function(){return e.onChangeStyle({type:"fontStyle"})}),t.TgZ(11,"mat-icon"),t._uU(12,"format_italic"),t.qZA()(),t.TgZ(13,"button",7),t.NdJ("click",function(){return e.onChangeStyle({type:"textDecoration"})}),t.TgZ(14,"mat-icon",8),t._uU(15,"format_underlined"),t.qZA()(),t.TgZ(16,"button",9)(17,"mat-icon",8),t._uU(18,"format_color_text"),t.qZA()(),t.TgZ(19,"mat-menu",10,11),t.YNc(21,te,3,4,"button",12),t.qZA(),t.TgZ(22,"button",13)(23,"mat-icon",8),t._uU(24,"link"),t.qZA()(),t.TgZ(25,"button",14)(26,"mat-icon",8),t._uU(27,"format_align_left"),t.qZA()(),t.TgZ(28,"mat-menu",15,16)(30,"button",17)(31,"mat-icon"),t._uU(32,"format_align_left"),t.qZA()(),t.TgZ(33,"button",17)(34,"mat-icon"),t._uU(35,"format_align_center"),t.qZA()(),t.TgZ(36,"button",17)(37,"mat-icon"),t._uU(38,"format_align_right"),t.qZA()()(),t.TgZ(39,"button",18)(40,"mat-icon",8),t._uU(41,"format_list_numbered"),t.qZA()(),t.TgZ(42,"button",19)(43,"mat-icon",8),t._uU(44,"format_list_bulleted"),t.qZA()(),t.TgZ(45,"button",20)(46,"mat-icon"),t._uU(47,"more_horiz"),t.qZA()(),t.TgZ(48,"mat-menu",null,21)(50,"button",22),t._uU(51,"More 1"),t.qZA(),t.TgZ(52,"button",22),t._uU(53,"More 2"),t.qZA(),t.TgZ(54,"button",22),t._uU(55,"More 3"),t.qZA()()()),2&n){const i=t.MAs(20),r=t.MAs(29),l=t.MAs(49);t.xp6(1),t.Q6J("placeholder","Ki\u1ec3u ch\u1eef"),t.xp6(1),t.Q6J("ngForOf",e.foods),t.xp6(1),t.Q6J("placeholder","Ph\xf4ng ch\u1eef"),t.xp6(1),t.Q6J("ngForOf",e.foods),t.xp6(1),t.Q6J("placeholder","C\u1ee1 ch\u1eef"),t.xp6(1),t.Q6J("ngForOf",e.foods),t.xp6(10),t.Q6J("matMenuTriggerFor",i),t.xp6(5),t.Q6J("ngForOf",e.colors),t.xp6(4),t.Q6J("matMenuTriggerFor",r),t.xp6(20),t.Q6J("matMenuTriggerFor",l)}},dependencies:[_.sg,_.PC,zt.x8,Rt.CK,F.Hw,Ht.Kd,P.eB,nt.W0,nt.tN,nt.D8],styles:[".editor-toolbar{background-color:#fff;position:sticky;top:0}  .editor-toolbar .mat-form-field-wrapper{padding-bottom:0}  .editor-toolbar .dropdown-font-size{width:350px}  .horizontal-menu .mat-menu-content:not(:empty){display:flex;flex-wrap:wrap}  .color-menu .mat-icon-button{box-sizing:border-box;line-height:1;height:30px;width:30px;display:flex;align-items:center;justify-content:center}  .color-menu .mat-icon-button .mat-icon{border-radius:50%;border:solid 1px #f4eff4;display:flex;align-items:center;justify-content:center}"]});const pt=function(o,n,e,i,r,l){return{paddingTop:o,paddingRight:n,paddingBottom:e,paddingLeft:i,width:r,height:l}};function ee(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("keyup",function(r){t.CHM(e);const l=t.oxw(2);return t.KtG(l.onChangeContent(r))})("keydown.tab",function(r){t.CHM(e);const l=t.oxw(2);return t.KtG(l.onTab(r))})("keydown.backspace",function(r){t.CHM(e);const l=t.oxw(2);return t.KtG(l.onDeleteContent(r))}),t._UZ(1,"cp-content-editor",6),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("id",(null==e.renderedDocument?null:e.renderedDocument.key)+"-CONTENT")("ngStyle",t.HTZ(4,pt,null==e.pagePadding?null:e.pagePadding.paddingTop,null==e.pagePadding?null:e.pagePadding.paddingRight,null==e.pagePadding?null:e.pagePadding.paddingBottom,null==e.pagePadding?null:e.pagePadding.paddingLeft,null==e.pageSize?null:e.pageSize.width,null==e.pageSize?null:e.pageSize.height)),t.xp6(1),t.Q6J("nested",!0)("renderDocument",e.renderedDocument)}}function ne(o,n){if(1&o&&(t.TgZ(0,"div",7),t._UZ(1,"cp-content-editor",6),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("id",(null==e.renderedDocument?null:e.renderedDocument.key)+"-CONTENT")("ngStyle",t.HTZ(4,pt,null==e.pagePadding?null:e.pagePadding.paddingTop,null==e.pagePadding?null:e.pagePadding.paddingRight,null==e.pagePadding?null:e.pagePadding.paddingBottom,null==e.pagePadding?null:e.pagePadding.paddingLeft,null==e.pageSize?null:e.pageSize.width,null==e.pageSize?null:e.pageSize.height)),t.xp6(1),t.Q6J("nested",!0)("renderDocument",e.renderedDocument)}}function oe(o,n){if(1&o&&(t.TgZ(0,"div",2),t.YNc(1,ee,2,11,"div",3),t.YNc(2,ne,2,11,"div",4),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",!e.contentEditable)}}function ie(o,n){1&o&&(t.TgZ(0,"p"),t._UZ(1,"br"),t.qZA())}function re(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,l=t.oxw(2);return t.KtG(l.clickTargetLink(r,!0))}),t.TgZ(1,"mat-icon"),t._uU(2,"link"),t.qZA()()}}const $=function(o,n,e,i,r){return{color:o,fontWeight:n,fontStyle:e,fontSize:i,textDecoration:r}};function le(o,n){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.Q6J("ngStyle",t.qbA(2,$,null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration)),t.xp6(1),t.Oqu(e.text)}}function ae(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.text)}}function se(o,n){if(1&o&&(t.ynx(0),t.YNc(1,le,2,8,"span",15),t.YNc(2,ae,2,1,"ng-container",1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!(null==e||!e.attrs)),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.attrs))}}function ue(o,n){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw(4);let r;t.Q6J("ngStyle",t.qbA(2,$,null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration)),t.xp6(1),t.Oqu(null==(r=i.insertFormControlValue(e))?null:r.value)}}function ce(o,n){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw(4);let r;t.Q6J("ngStyle",t.qbA(2,$,null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration)),t.xp6(1),t.Oqu(null==(r=i.insertFormControlValue(e))?null:r.value)}}function de(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu((null==e[1]?null:e[1].prevText)+" ")}}function pe(o,n){if(1&o&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw(2).$implicit;t.Q6J("ngStyle",t.qbA(2,$,null==i||null==i.attrs?null:i.attrs.color,null==i||null==i.attrs?null:i.attrs.fontWeight,null==i||null==i.attrs?null:i.attrs.fontStyle,null==i.attrs?null:i.attrs.fontSize,null==i||null==i.attrs?null:i.attrs.textDecoration)),t.xp6(1),t.Oqu(null==e[1]?null:e[1].value)}}function _e(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(),i=e.$implicit,r=e.index,l=t.oxw(2).$implicit,a=t.oxw(4);let s;t.xp6(1),t.Oqu(" "+(null==i[1]?null:i[1].nextText)+(r===a.getObjectArray(null==(s=a.insertFormControlValue(l))?null:s.value).length-1?"":", "))}}function ge(o,n){if(1&o&&(t.ynx(0),t.YNc(1,de,2,1,"span",1),t.YNc(2,pe,2,8,"span",15),t.YNc(3,_e,2,1,"span",1),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null==e[1]?null:e[1].prevText),t.xp6(1),t.Q6J("ngIf",null==e[1]?null:e[1].value),t.xp6(1),t.Q6J("ngIf",null==e[1]?null:e[1].nextText)}}function me(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ge,4,3,"ng-container",8),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(4);let r;t.xp6(1),t.Q6J("ngForOf",i.getObjectArray(null==(r=i.insertFormControlValue(e))?null:r.value))}}function fe(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw().index,r=t.oxw(2).$implicit,l=t.oxw(4);let a;t.xp6(1),t.AsE("",e.suffix,"",i===(null==(a=l.insertFormControlValue(r))?null:a.value.length)-1?".":","," ")}}function he(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.YNc(3,fe,2,2,"ng-container",1),t.BQk()),2&o){const e=n.$implicit;t.xp6(2),t.hij("",null==e?null:e.value," "),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.value)&&e.suffix)}}function Ce(o,n){if(1&o&&(t.ynx(0),t.YNc(1,he,4,2,"ng-container",8),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngForOf",null==e?null:e.control)}}function xe(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ce,2,1,"ng-container",8),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(4);let r;t.xp6(1),t.Q6J("ngForOf",null==(r=i.insertFormControlValue(e))?null:r.value)}}function ve(o,n){if(1&o&&(t.ynx(0),t.YNc(1,se,3,2,"ng-container",1),t.YNc(2,ue,2,8,"span",15),t.YNc(3,ce,2,8,"span",15),t.YNc(4,me,2,1,"ng-container",1),t.YNc(5,xe,2,1,"ng-container",1),t.BQk()),2&o){const e=n.$implicit,i=t.oxw(4);let r,l,a;t.xp6(1),t.Q6J("ngIf","text"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formControl"===(null==e?null:e.type)&&"shortText"===(null==(r=i.insertFormControlValue(e))?null:r.type)||"radiobox"===(null==(r=i.insertFormControlValue(e))?null:r.type)),t.xp6(1),t.Q6J("ngIf","triggerFormControl"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","formControl"===(null==e?null:e.type)&&"addressGroup"===(null==(l=i.insertFormControlValue(e))?null:l.type)),t.xp6(1),t.Q6J("ngIf","formControl"===(null==e?null:e.type)&&"formArray"===(null==(a=i.insertFormControlValue(e))?null:a.type))}}const Te=function(o,n,e,i,r,l,a){return{textAlign:o,color:n,fontWeight:e,fontStyle:i,fontSize:r,textDecoration:l,textIndent:a,margin:0}},be=function(o){return{targetLink:o}};function ye(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"p",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.clickTargetLink(r))}),t.YNc(1,re,3,0,"button",13),t.YNc(2,ve,6,5,"ng-container",8),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("ngStyle",t.Hh0(5,Te,null!=e&&null!=e.attrs&&e.attrs.textAlign?null==e||null==e.attrs?null:e.attrs.textAlign:"jusify",null==e||null==e.attrs?null:e.attrs.color,null==e||null==e.attrs?null:e.attrs.fontWeight,null==e||null==e.attrs?null:e.attrs.fontStyle,null==e||null==e.attrs?null:e.attrs.fontSize,null==e||null==e.attrs?null:e.attrs.textDecoration,null==e||null==e.attrs?null:e.attrs.textIndent))("id",null!=e&&null!=e.attrs&&e.attrs.hash&&null!=e&&null!=e.attrs&&e.attrs.pathname?(null==e||null==e.attrs?null:e.attrs.pathname.replaceAll("/","").replaceAll("-",""))+(null==e||null==e.attrs?null:e.attrs.hash):"")("ngClass",t.VKq(13,be,(null==e||null==e.attrs?null:e.attrs.hash)&&(null==e||null==e.attrs?null:e.attrs.pathname))),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.attrs?null:e.attrs.hash)&&(null==e||null==e.attrs?null:e.attrs.pathname)),t.xp6(1),t.Q6J("ngForOf",e.content)}}function Fe(o,n){if(1&o&&(t.TgZ(0,"div",17),t._UZ(1,"cp-content-editor",18),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("id",(null==e?null:e.targetDocumentKey)+"-CONTENT_"+(null==e?null:e.targetContentKey)),t.xp6(1),t.Q6J("renderDocument",e)("nestedId",null==i.renderedDocument?null:i.renderedDocument.key)("nested",!0)}}function Ee(o,n){if(1&o&&(t.TgZ(0,"div",19),t._UZ(1,"cp-content-editor",20),t.qZA()),2&o){const e=t.oxw(3);t.Q6J("id",e.nestedId+"-CONTENT"),t.xp6(1),t.Q6J("renderDocument",e.sourceContent)("isSourceContent",!0)("nested",!0)}}function Ne(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ye,3,15,"p",9),t.YNc(2,Fe,2,4,"div",10),t.YNc(3,Ee,2,4,"div",11),t.BQk()),2&o){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf","paragraph"===e.type),t.xp6(1),t.Q6J("ngIf","sourceContent"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","targetContent"===(null==e?null:e.type)&&(null==i.renderedDocument?null:i.renderedDocument.key)===(null==i.sourceContent?null:i.sourceContent.targetDocumentKey)&&(null==e?null:e.key)===(null==i.sourceContent?null:i.sourceContent.targetContentKey))}}function we(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ie,2,0,"p",1),t.YNc(2,Ne,4,3,"ng-container",8),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null!=e.renderedDocument&&e.renderedDocument.content)||0===(null==e.renderedDocument||null==e.renderedDocument.content?null:e.renderedDocument.content.length)),t.xp6(1),t.Q6J("ngForOf",null==e.renderedDocument?null:e.renderedDocument.content)}}class E{constructor(n,e,i){this.editorService=n,this._snackBar=e,this.breakpointObserver=i,this.contentEditable=!0,this.nested=!1,this.isSourceContent=!1,this.durationInSeconds=3,this.horizontalPosition="start",this.verticalPosition="bottom"}ngOnInit(){this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{n.matches?(this.pagePadding={paddingTop:"1rem",paddingRight:"1rem",paddingBottom:"1rem",paddingLeft:"1rem"},this.pageSize={width:"fit-content",height:"auto"}):(this.pagePadding={paddingTop:"2cm",paddingRight:"2cm",paddingBottom:"2cm",paddingLeft:"2cm"},this.pageSize={width:this.pageSize?.width?this.pageSize?.width:"210mm",height:this.pageSize?.height?this.pageSize?.height:""})})}ngOnChanges(){this.renderedDocument=this.renderDocument,"sourceContent"===this.renderDocument?.type&&!this.isSourceContent&&(this.sourceContent=this.renderDocument,this.onGetDocument(this.sourceContent.targetDocumentKey))}insertFormControlValue(n){let i=this.renderedDocument?.formGroup?.find(l=>l?.key===n?.targetFormGroupKey)?.control?.find(l=>l?.key===n?.targetFormControlKey),r={value:i?.value,type:i?.type};return"triggerFormControl"===n.type&&"formArray"===i?.type&&(r.value=i?.value?.length),r}getObjectArray(n){return Object.entries(n)}onGetDocument(n){this.editorService.getJSON(n).subscribe(e=>{this.renderedDocument=e.data})}onChangeContent(n){this.editorService.onChangeContent(n)}onTab(n){n.preventDefault();var i=document.getSelection()?.getRangeAt(0),l=document.createTextNode("\t");i?.insertNode(l),i?.setStartAfter(l),i?.setEndAfter(l)}onDeleteContent(n){let e=[...new Set(n?.target?.childNodes[0]?.childNodes)].filter(i=>"P"===i?.nodeName);if(1===e.length){let i=e[0];if(1===i.childNodes.length&&"BR"===i.childNodes[0].nodeName)return!1}}clickTargetLink(n,e){if(n?.attrs?.hash&&n?.attrs?.pathname){const i=new Array(document.getElementsByClassName("targetLink"))[0];for(let l=0;l<=i.length;l++)i[l]?.setAttribute("style","color: unset");document.getElementById(`${n?.attrs?.pathname.replaceAll("/","").replaceAll("-","")}${n?.attrs?.hash}`).style.color="#4285f4",location.hash=n?.attrs?.hash,e&&(navigator.clipboard.writeText(`${location.origin}${n?.attrs?.pathname}${n?.attrs?.hash}`),this._snackBar.open("\u0110\xe3 sao ch\xe9p li\xean k\u1ebft \u0111\u1ebfn \u0111o\u1ea1n kinh n\xe0y","\u0110\xf3ng",{duration:200*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition}))}}}E.\u0275fac=function(n){return new(n||E)(t.Y36(Z.TB),t.Y36(et.pl),t.Y36(B.Yg))},E.\u0275cmp=t.Xpm({type:E,selectors:[["cp-content-editor"]],inputs:{renderDocument:"renderDocument",nestedId:"nestedId",contentEditable:"contentEditable",nested:"nested",isSourceContent:"isSourceContent",pageSize:"pageSize"},features:[t.TTD],decls:2,vars:2,consts:[["class","editor-wrapper h-100",4,"ngIf"],[4,"ngIf"],[1,"editor-wrapper","h-100"],["class","page","style","\n      box-sizing: border-box;\n      cursor: text;\n      line-height: 1.42;\n      outline: none;\n      overflow-y: auto;\n      tab-size: 6;\n      -moz-tab-size: 6;\n      white-space: pre-wrap;\n      text-align: jutify;\n      word-wrap: break-word;\n      font-size: 17.5px;\n      overflow: hidden;\n      background: #ffff;\n      text-align: justify;\n      user-select: text;\n    ","contenteditable","","aria-multiline","true","role","textbox",3,"id","ngStyle","keyup","keydown.tab","keydown.backspace",4,"ngIf"],["class","page","style","\n      box-sizing: border-box;\n      cursor: text;\n      line-height: 1.42;\n      outline: none;\n      overflow-y: auto;\n      tab-size: 6;\n      -moz-tab-size: 6;\n      white-space: pre-wrap;\n      text-align: jutify;\n      word-wrap: break-word;\n      font-size: 17.5px;\n      overflow: hidden;\n      background: #ffff;\n      text-align: justify;\n      user-select: text;\n    ",3,"id","ngStyle",4,"ngIf"],["contenteditable","","aria-multiline","true","role","textbox",1,"page",2,"box-sizing","border-box","cursor","text","line-height","1.42","outline","none","overflow-y","auto","tab-size","6","-moz-tab-size","6","white-space","pre-wrap","text-align","jutify","word-wrap","break-word","font-size","17.5px","overflow","hidden","background","#ffff","text-align","justify","user-select","text",3,"id","ngStyle","keyup","keydown.tab","keydown.backspace"],[3,"nested","renderDocument"],[1,"page",2,"box-sizing","border-box","cursor","text","line-height","1.42","outline","none","overflow-y","auto","tab-size","6","-moz-tab-size","6","white-space","pre-wrap","text-align","jutify","word-wrap","break-word","font-size","17.5px","overflow","hidden","background","#ffff","text-align","justify","user-select","text",3,"id","ngStyle"],[4,"ngFor","ngForOf"],[3,"ngStyle","id","ngClass","click",4,"ngIf"],["class","targetContent",3,"id",4,"ngIf"],["class","sourceContent",3,"id",4,"ngIf"],[3,"ngStyle","id","ngClass","click"],["mat-icon-button","","class","targetLinkButton",3,"click",4,"ngIf"],["mat-icon-button","",1,"targetLinkButton",3,"click"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"targetContent",3,"id"],[3,"renderDocument","nestedId","nested"],[1,"sourceContent",3,"id"],[3,"renderDocument","isSourceContent","nested"]],template:function(n,e){1&n&&(t.YNc(0,oe,3,2,"div",0),t.YNc(1,we,3,2,"ng-container",1)),2&n&&(t.Q6J("ngIf",!e.nested),t.xp6(1),t.Q6J("ngIf",e.nested))},dependencies:[_.mk,_.sg,_.O5,_.PC,F.Hw,P.eB,E],styles:[".editor-wrapper[_ngcontent-%COMP%]{padding:1rem}@media only screen and (max-width: 600px){.editor-wrapper[_ngcontent-%COMP%]{padding:0}}.page[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;margin:0 auto;min-height:100%}.targetLink[_ngcontent-%COMP%]{position:relative}.targetLink[_ngcontent-%COMP%]   .targetLinkButton[_ngcontent-%COMP%]{position:absolute;right:100%;visibility:hidden;opacity:0;transition:.5s all;transform:translate(-20px)}.targetLink[_ngcontent-%COMP%]:hover   .targetLinkButton[_ngcontent-%COMP%]{visibility:visible;transform:translate(0);opacity:1}@media only screen and (max-width: 600px){.targetLink[_ngcontent-%COMP%]:hover   .targetLinkButton[_ngcontent-%COMP%]{transform:translate(10px)}}"]});var ot=u(3267),Ae=u(3683),_t=u(5754);function De(o,n){1&o&&(t.TgZ(0,"mat-toolbar"),t._UZ(1,"cp-toolbar-editor"),t.qZA())}function Se(o,n){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","CH\xc8N")}function ke(o,n){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","C\xc0I \u0110\u1eb6T")}function Me(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-drawer",7)(1,"div",8)(2,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSave())}),t._uU(3,"L\u01b0u"),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onPrint())}),t.TgZ(5,"mat-icon"),t._uU(6,"print"),t.qZA()(),t.TgZ(7,"button",11),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onBack())}),t._uU(8,"Tho\xe1t"),t.qZA()(),t.TgZ(9,"mat-tab-group")(10,"mat-tab",12)(11,"cp-editor-form-control",13),t.NdJ("changeTrigerFormArray",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.onChangeTrigerFormArray(r))}),t.qZA()(),t.YNc(12,Se,3,1,"mat-tab",14),t.YNc(13,ke,3,1,"mat-tab",14),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("mode","side")("opened",e.isShowContronller)("position","end"),t.xp6(10),t.Q6J("label",e.formControlLabel),t.xp6(1),t.Q6J("renderDocument",e.renderDocument),t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",e.contentEditable)}}function Ze(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),l=t.MAs(8);return t.KtG(r.openBottomSheet(l))}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA()()}2&o&&t.Q6J("color","primary")}function Oe(o,n){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","CH\xc8N")}function Ie(o,n){1&o&&(t.TgZ(0,"mat-tab",12)(1,"h1"),t._uU(2,"Coming soon!!"),t.qZA()()),2&o&&t.Q6J("label","C\xc0I \u0110\u1eb6T")}function Je(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",8)(1,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSave())}),t._uU(2,"L\u01b0u"),t.qZA(),t.TgZ(3,"button",10),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onPrint())}),t.TgZ(4,"mat-icon"),t._uU(5,"print"),t.qZA()(),t.TgZ(6,"button",11),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.editorControllerBottomSheetRef.dismiss())}),t._uU(7," Tho\xe1t "),t.qZA()(),t.TgZ(8,"mat-tab-group")(9,"mat-tab",12)(10,"cp-editor-form-control",13),t.NdJ("changeTrigerFormArray",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.onChangeTrigerFormArray(r))}),t.qZA()(),t.YNc(11,Oe,3,1,"mat-tab",14),t.YNc(12,Ie,3,1,"mat-tab",14),t.qZA()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("label",e.formControlLabel),t.xp6(1),t.Q6J("renderDocument",e.renderDocument),t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",e.contentEditable)}}class I{constructor(n,e,i,r,l){this.breakpointObserver=n,this._bottomSheet=e,this.editorService=i,this.location=r,this.router=l,this.contentEditable=!0,this.onSaveContent=new t.vpe,this.changeTrigerFormArray=new t.vpe,this.isShowContronller=!1}ngOnInit(){console.log(this.renderDocument),this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.isShowContronller=!n.matches})}onSave(){this.onSaveContent.emit(this.editorService.onSaveDocument(this.renderDocument))}openBottomSheet(n){this.editorControllerBottomSheetRef=this._bottomSheet.open(n)}onPrint(){let n=window.open("","PRINT",`width=${window.innerWidth},height=${window.innerHeight}`);n?.document.write("<html><head><title>"+document.title.toUpperCase()+" PRINTER</title>"),n?.document.write("</head><body >");const e=document.getElementById(`${this.renderDocument?.key}-CONTENT`),i=document.createElement("DIV");i&&(i.innerHTML=e?.outerHTML,i.childNodes[0].style.padding=0),n?.document.write(i?.outerHTML),n?.document.write("</body></html>"),n?.document.close(),n?.focus(),n?.print()}onChangeTrigerFormArray(n){this.changeTrigerFormArray.emit(n)}onBack(){this.location.back()}}function Le(o,n){1&o&&t._UZ(0,"mat-progress-bar",3)}function Qe(o,n){1&o&&(t.TgZ(0,"div",4)(1,"mat-icon",5),t._uU(2,"error_outline"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"H\xe3y ho\xe0n th\xe0nh to\xe0n t\u1ea5t c\u1ea3 th\xf4ng tin b\u1eaft bu\u1ed9c tr\u01b0\u1edbc khi l\u01b0u"),t.qZA()())}I.\u0275fac=function(n){return new(n||I)(t.Y36(B.Yg),t.Y36(Gt.ch),t.Y36(Z.TB),t.Y36(_.Ye),t.Y36(x.F0))},I.\u0275cmp=t.Xpm({type:I,selectors:[["caodaion-editor"]],inputs:{renderDocument:"renderDocument",formControlLabel:"formControlLabel",pageSize:"pageSize",contentEditable:"contentEditable"},outputs:{onSaveContent:"onSaveContent",changeTrigerFormArray:"changeTrigerFormArray"},decls:9,vars:7,consts:[[1,"caodaion-editor"],[4,"ngIf"],[1,"drawer-content-wrapper",3,"id"],[3,"renderDocument","contentEditable","pageSize"],["class","editor-controller",3,"mode","opened","position",4,"ngIf"],["mat-fab","","class","edit-content-fab",3,"color","click",4,"ngIf"],["editorControllerBottomSheet",""],[1,"editor-controller",3,"mode","opened","position"],[1,"d-flex","justify-content-between"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-stroked-button","","color","default",3,"click"],[3,"label"],[3,"renderDocument","changeTrigerFormArray"],[3,"label",4,"ngIf"],["mat-fab","",1,"edit-content-fab",3,"color","click"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer-content"),t.YNc(2,De,2,0,"mat-toolbar",1),t.TgZ(3,"div",2),t._UZ(4,"cp-content-editor",3),t.qZA()(),t.YNc(5,Me,14,7,"mat-drawer",4),t.qZA(),t.YNc(6,Ze,3,1,"button",5),t.YNc(7,Je,13,4,"ng-template",null,6,t.W1O)),2&n&&(t.xp6(2),t.Q6J("ngIf",e.isShowContronller&&e.contentEditable),t.xp6(1),t.Q6J("id","caodaionEditorDrawer"),t.xp6(1),t.Q6J("renderDocument",e.renderDocument)("contentEditable",e.contentEditable)("pageSize",e.pageSize),t.xp6(1),t.Q6J("ngIf",e.contentEditable),t.xp6(1),t.Q6J("ngIf",!e.isShowContronller&&e.contentEditable))},dependencies:[_.O5,O,E,ot.jA,ot.kh,ot.LW,Ae.Ye,_t.SK,_t.R7,P.eB,F.Hw,M],styles:[".caodaion-editor{display:flex;flex-direction:column;width:100%;height:100%;background-color:transparent}  .caodaion-editor cp-content-editor{flex:1}  .caodaion-editor mat-drawer{min-width:300px;width:300px;background-color:#fff;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  .caodaion-editor mat-drawer .mat-drawer-inner-container{display:flex;flex-direction:column;overflow:hidden;height:100%}  .caodaion-editor mat-drawer .mat-drawer-inner-container mat-tab-group{flex:1;overflow:auto;position:relative}  .caodaion-editor mat-drawer-content{display:flex;flex-direction:column}  .caodaion-editor mat-toolbar{position:sticky;top:0;border-bottom:solid 1px #f4eff4;background-color:#fff;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  .caodaion-editor mat-toolbar cp-toolbar-editor{width:100%}  .caodaion-editor .drawer-content-wrapper{flex:1;overflow:auto}  .mat-tab-label{min-width:0!important;width:100%}  .edit-content-fab{position:fixed;right:2rem;bottom:calc(77px + 2rem);z-index:9}  .print-content-fab{position:fixed;right:2rem;bottom:calc(77px + 6rem);z-index:9}  mat-bottom-sheet-container{display:flex!important;flex-direction:column;overflow:hidden!important}  mat-bottom-sheet-container .mat-tab-group{max-width:100%;flex:1;overflow:hidden;height:100%}"]});class N{constructor(n,e,i,r,l,a,s,c){this.editorService=n,this.cauSieuVoViService=e,this.authService=i,this.route=r,this.breakpointObserver=l,this.router=a,this._snackBar=s,this.matDialog=c,this.horizontalPosition="center",this.verticalPosition="bottom",this.isLoading=!1,this.contentEditable=!1}ngOnInit(){this.authService.currentUser?.role?.includes("administrator")?(this._id=void 0,this.route.params.subscribe(n=>{this._id=n._id}),this.onGetDocument("cau-sieu-vo-vi")):this.router.navigate(["/tac-vu"]),this.authService.currentUser?.role?.includes("administrator")?(this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(n=>{this.contentEditable=!n.matches}),this._id=void 0,this.route.params.subscribe(n=>{this._id=n._id}),this.onGetDocument("cau-sieu-vo-vi")):this.router.navigate(["/tac-vu"])}onGetDocument(n){this.isLoading=!0,this._id?this.cauSieuVoViService.getCauSieuVoViById(this._id).subscribe(e=>{e&&(this.cauSieuVoVi=e.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(i=>{this.so=i.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this.isLoading=!1}))},e=>{this.isLoading=!1,console.log(e)}):this.editorService.getJSON(n).subscribe(e=>{this.so=e.data,this.isLoading=!1})}onSaveCauSieuVoVi(n,e){this.isLoading=!0;let i=[];const r=l=>{l?.forEach(a=>{a?.control?.forEach(s=>{let c=i?.find(g=>g?.key===a.key);"formArray"!==s?.type?s?.required&&!s?.value&&(c?c.control.push(s):i.push({key:a?.key,title:a?.title,control:[s]})):r(s?.value)})})};if(r(n?.formGroup),i?.length>0)this.errorGroup=i,this.errorMessageDialogRef=this.matDialog.open(e),this.isLoading=!1;else{let l=new Z.T;l._id=n._id,l.documentKey=n.documentKey,l.formGroup=n.formGroup;const a=l.formGroup?.find(d=>"thong-tin-chung"===d.key)?.control,s=a?.find(d=>"nam-dao"===d.key)?.value,c=a?.find(d=>"nam-am-lich"===d.key)?.value,g=a?.find(d=>"thang-am-lich"===d.key)?.value,st=a?.find(d=>"ngay-am-lich"===d.key)?.value;l.key=this.editorService.generatedSlug(`csvv ${s} ${c} ${g} ${st}`);let T,b,mt=localStorage.getItem("csvv");mt&&(T=JSON.parse(mt)),b=T,T?.data&&T.data.length>0?T?.data?.find(d=>d?.key===this._id)?(T?.data?.findIndex(d=>d.key===this._id),b.data[T?.data?.findIndex(d=>d.key===this._id)]=l):b?.data.push(l):b={data:[l]},this._id?this.cauSieuVoViService.updateCauSieuVoVi(b,l?.key).subscribe(d=>{d?(this.isLoading=!1,this.cauSieuVoVi=d.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(ut=>{this.so=ut.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this._id=this.so._id,this._snackBar.open("L\u01b0u th\xe0nh c\xf4ng","T\u1eaft",{duration:5,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})):this.isLoading=!1}):this.cauSieuVoViService.addCauSieuVoVi(b,l?.key).subscribe(d=>{d?(this.isLoading=!1,this.cauSieuVoVi=d.data,this.editorService.getJSON(this.cauSieuVoVi?.documentKey).subscribe(ut=>{this.so=ut.data,this.so.formGroup=this.cauSieuVoVi?.formGroup,this.so.key=this.cauSieuVoVi?.key,this.so._id=this.cauSieuVoVi?._id,this._id=this.so._id,this._snackBar.open("L\u01b0u th\xe0nh c\xf4ng","T\u1eaft",{duration:5,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})):this.isLoading=!1})}}onChangeTrigerFormArray(n){if(n.value){let e=n.value?.trim().replace(new RegExp("[,;.\n]","g"),""),i=e.split(new RegExp("[0-9]","g"));i=i.filter(s=>!!s&&"t"!==s);let r=[],a=this.so.formGroup.find(s=>s.key===n.targetFormGroupKey).control.find(s=>s.key===n.targetFormControlKey);i.forEach((s,c)=>{(s=s.trim()).slice(0,1)===s.slice(0,1).toLowerCase()&&"t"===s.slice(0,1)&&(s=(s=s.slice(1)).trim()),r.push({name:s,age:parseInt(e.slice(e.indexOf(s)+s.length+1,e.indexOf(i[c+1]))?.replace("t",""))})}),r.forEach(s=>{if(s?.name&&s?.age){let c=new tt,g=new tt;c.autocomplete=a.addTemplate[0].autocomplete,c.label=a.addTemplate[0].label,c.placeholder=a.addTemplate[0].placeholder,c.required=a.addTemplate[0].required,c.suffix=a.addTemplate[0].suffix,c.type=a.addTemplate[0].type,c.value=s?.name,g.autocomplete=a.addTemplate[1].autocomplete,g.label=a.addTemplate[1].label,g.placeholder=a.addTemplate[1].placeholder,g.required=a.addTemplate[1].required,g.suffix=a.addTemplate[1].suffix,g.type=a.addTemplate[1].type,g.value=s?.age,a.value.push({control:[c,g]})}}),n.value=""}}}N.\u0275fac=function(n){return new(n||N)(t.Y36(Z.TB),t.Y36(v),t.Y36(q.e),t.Y36(x.gz),t.Y36(B.Yg),t.Y36(x.F0),t.Y36(et.pl),t.Y36(j.on))},N.\u0275cmp=t.Xpm({type:N,selectors:[["app-content"]],decls:5,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[3,"formControlLabel","renderDocument","contentEditable","onSaveContent","changeTrigerFormArray"],["errorMessageDialog",""],["mode","indeterminate"],[1,"error-message-dialog"],["color","warn"]],template:function(n,e){if(1&n){const i=t.EpF();t.YNc(0,Le,1,0,"mat-progress-bar",0),t.TgZ(1,"caodaion-editor",1),t.NdJ("onSaveContent",function(l){t.CHM(i);const a=t.MAs(4);return t.KtG(e.onSaveCauSieuVoVi(l,a))})("changeTrigerFormArray",function(l){return e.onChangeTrigerFormArray(l)}),t._UZ(2,"caodaion-editor"),t.qZA(),t.YNc(3,Qe,5,0,"ng-template",null,2,t.W1O)}2&n&&(t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("formControlLabel","S\u1eda")("renderDocument",e.so)("contentEditable",e.contentEditable))},dependencies:[_.O5,I,F.Hw,W.eI]});const Ve=[{path:"",component:D},{path:"them-moi",component:N},{path:":_id",component:N}];class w{}w.\u0275fac=function(n){return new(n||w)},w.\u0275mod=t.oAB({type:w}),w.\u0275inj=t.cJS({imports:[x.Bz.forChild(Ve),x.Bz]});var Be=u(9777);u(5017),u(7579),u(1135),u(5191),u(9646),u(2722),u(1281),u(445);let He=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({}),o})(),on=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[He,y.BQ,y.BQ]}),o})();class A{}A.\u0275fac=function(n){return new(n||A)},A.\u0275mod=t.oAB({type:A}),A.\u0275inj=t.cJS({imports:[_.ez,Be.l,w,K.N6,Y.IF,F.Ps,j.yj,on,et.y,W.jc,y.si]})}}]);